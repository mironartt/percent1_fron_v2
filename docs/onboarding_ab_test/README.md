# Onboarding A/B Test - –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç **–≤—Å–µ —Ñ–∞–π–ª—ã** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ A/B —Ç–µ—Å—Ç–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **ONBOARDING_AB_TEST.md** - –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è A/B —Ç–µ—Å—Ç–∞ (–¥–∏–∑–∞–π–Ω, –º–µ—Ç—Ä–∏–∫–∏, –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- **BACKEND_TASK_AB_TEST.md** - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è Django —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **README.md** - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### üé® Frontend —Ñ–∞–π–ª—ã (–≥–æ—Ç–æ–≤—ã–µ –∫ –¥–µ–ø–ª–æ—é)

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞—Ç—å):
1. **frontend/stores_abtest.js** ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `src/stores/abtest.js`
2. **frontend/components_OnboardingRouter.vue** ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `src/components/OnboardingRouter.vue`
3. **frontend/components_OnboardingFast.vue** ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `src/components/OnboardingFast.vue`
4. **frontend/components_OnboardingDeep.vue** ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `src/components/OnboardingDeep.vue`
5. **frontend/api_additions.js** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ `src/services/api.js`

#### –ò–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
6. **frontend/router_patch.js** ‚Üí –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/router/index.js`

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### Backend (Django)

**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

1. –û—Ç–∫—Ä—ã—Ç—å `BACKEND_TASK_AB_TEST.md`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è:
   - –ú–æ–¥–µ–ª—å `ABEvent`
   - Serializer `ABEventSerializer`
   - View `track_ab_event`
   - URL path
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–∞–∂–Ω–æ:** Backend –ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫. A/B —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

---

### Frontend (Vue 3)

**–í—Ä–µ–º—è:** 1-1.5 –¥–Ω—è

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ `frontend/` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ percent1_fron_v2/

# 1. Store
cp docs/onboarding_ab_test/frontend/stores_abtest.js src/stores/abtest.js

# 2. Router –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
cp docs/onboarding_ab_test/frontend/components_OnboardingRouter.vue src/components/OnboardingRouter.vue

# 3. Fast –≤–∞—Ä–∏–∞–Ω—Ç
cp docs/onboarding_ab_test/frontend/components_OnboardingFast.vue src/components/OnboardingFast.vue

# 4. Deep –≤–∞—Ä–∏–∞–Ω—Ç
cp docs/onboarding_ab_test/frontend/components_OnboardingDeep.vue src/components/OnboardingDeep.vue
```

#### –®–∞–≥ 2: –ò–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã

##### 2.1 –î–æ–±–∞–≤–∏—Ç—å API –º–µ—Ç–æ–¥ –≤ `src/services/api.js`

–û—Ç–∫—Ä—ã—Ç—å `frontend/api_additions.js` –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `trackABEvent()` –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ `src/services/api.js`.

##### 2.2 –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ—É—Ç–µ—Ä –≤ `src/router/index.js`

–û—Ç–∫—Ä—ã—Ç—å `frontend/router_patch.js` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `OnboardingRouter` –≤–º–µ—Å—Ç–æ `OnboardingAI`
- –ó–∞–º–µ–Ω–∏—Ç—å component –≤ –º–∞—Ä—à—Ä—É—Ç–µ `/onboarding`

#### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –û—Ç–∫—Ä—ã—Ç—å /onboarding
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# - –í–∞—Ä–∏–∞–Ω—Ç –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è (50/50)
# - –û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç
# - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
```

#### –®–∞–≥ 4: –î–µ–ø–ª–æ–π

```bash
npm run build
# –ó–∞–ª–∏—Ç—å –Ω–∞ production
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ A/B —Ç–µ—Å—Ç–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ `/onboarding`**
   - `OnboardingRouter.vue` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç localStorage
   - –ï—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ—Ç ‚Üí –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π (Fast/Deep)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage

2. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç**
   - `OnboardingFast.vue` (3 —à–∞–≥–∞, 2-3 –º–∏–Ω—É—Ç—ã)
   - `OnboardingDeep.vue` (5 —à–∞–≥–æ–≤, 5-7 –º–∏–Ω—É—Ç)

3. **–¢—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π (–µ—Å–ª–∏ backend –≥–æ—Ç–æ–≤)**
   - `variant_assigned` - –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω
   - `onboarding_started` - –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –Ω–∞—á–∞—Ç
   - `step_completed` - —à–∞–≥ –∑–∞–≤–µ—Ä—à—ë–Ω
   - `onboarding_completed` - –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω
   - `onboarding_abandoned` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—à—ë–ª

4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
   - –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ backend
   - `finish_onboarding: true`
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/app`

---

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

–ï—Å–ª–∏ backend –Ω–µ –≥–æ—Ç–æ–≤, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å **—Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**:

1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ `frontend/`
2. –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ—É—Ç–µ—Ä
3. **–ù–ï** –¥–æ–±–∞–≤–ª—è—Ç—å `trackABEvent()` –≤ api.js
4. **–ò–õ–ò** —Å–¥–µ–ª–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É:
   ```javascript
   export async function trackABEvent(data) {
     console.log('AB Event (no backend):', data)
     return { success: true }
   }
   ```

A/B —Ç–µ—Å—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –ø—Ä–æ—Å—Ç–æ –±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

---

## –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)

–ü–æ—Å–ª–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è 100+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–∞–∂–¥–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ:

1. **Completion Rate** - —Å–∫–æ–ª—å–∫–æ % –∑–∞–≤–µ—Ä—à–∏–ª–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥
2. **Time to Complete** - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
3. **Drop-off Points** - –Ω–∞ –∫–∞–∫–∏—Ö —à–∞–≥–∞—Ö –±—Ä–æ—Å–∞—é—Ç
4. **Goal Creation** - —Å–∫–æ–ª—å–∫–æ —Ü–µ–ª–µ–π —Å–æ–∑–¥–∞–ª–∏
5. **Retention D1/D7** - –≤–µ—Ä–Ω—É–ª–∏—Å—å –ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é

**Winner:** –í–∞—Ä–∏–∞–Ω—Ç —Å –ª—É—á—à–∏–º completion rate –ò retention D7.

---

## Rollback Plan

–ï—Å–ª–∏ A/B —Ç–µ—Å—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å:

1. **Frontend:**
   ```javascript
   // –í src/router/index.js
   // –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ:
   component: OnboardingAI  // –≤–º–µ—Å—Ç–æ OnboardingRouter
   ```

2. **Backend:**
   ```bash
   python manage.py migrate front <previous_migration>
   ```

3. **–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   rm src/stores/abtest.js
   rm src/components/OnboardingRouter.vue
   rm src/components/OnboardingFast.vue
   rm src/components/OnboardingDeep.vue
   ```

---

## –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

### Backend
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å ABEvent
- [ ] –°–æ–∑–¥–∞–Ω serializer
- [ ] –°–æ–∑–¥–∞–Ω view
- [ ] –î–æ–±–∞–≤–ª–µ–Ω URL
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç (curl —Ç–µ—Å—Ç)

### Frontend
- [ ] –°–æ–∑–¥–∞–Ω—ã 4 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞
- [ ] –ò–∑–º–µ–Ω—ë–Ω —Ä–æ—É—Ç–µ—Ä
- [ ] –î–æ–±–∞–≤–ª–µ–Ω API –º–µ—Ç–æ–¥
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- [ ] Build –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –ó–∞–ª–∏—Ç–æ –Ω–∞ production

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
- [ ] /onboarding –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –í–∞—Ä–∏–∞–Ω—Ç –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage)
- [ ] –û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞
- [ ] –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ backend (Network tab)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã - —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
- `ONBOARDING_AB_TEST.md` - –¥–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∞
- `BACKEND_TASK_AB_TEST.md` - –¥–µ—Ç–∞–ª–∏ backend

---

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω!** üöÄ
