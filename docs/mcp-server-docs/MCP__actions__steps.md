# Steps Actions

Действия для управления шагами (подзадачами) целей.

## step.create

Создать шаг (подзадачу) для цели.

### Параметры

| Параметр | Тип | Обязательный | По умолчанию | Описание |
|----------|-----|--------------|--------------|----------|
| `goal_id` | integer | ✓ | — | ID родительской цели |
| `title` | string | ✓ | — | Название шага (1-500 символов) |
| `description` | string | — | null | Описание (до 2000 символов) |
| `priority` | string | — | "attention" | Приоритет шага |
| `dt` | string | — | null | Дата планирования (YYYY-MM-DD) |
| `time_duration` | integer | — | null | Длительность в минутах (1-480) |

### Приоритеты

| Значение | Описание | Цвет |
|----------|----------|------|
| `critical` | Критический, срочный, важный | Красный |
| `important` | Важный, но не срочный | Оранжевый |
| `attention` | Требует внимания | Жёлтый |
| `optional` | Опциональный, можно отложить | Серый |

### Пример

```json
{
  "action": "step.create",
  "client_action_id": "uuid-xxx",
  "params": {
    "goal_id": 123,
    "title": "Пройти первый модуль курса",
    "description": "Модуль по основам синтаксиса Python",
    "priority": "important",
    "dt": "2026-01-28",
    "time_duration": 60
  }
}
```

---

## step.update

Обновить существующий шаг.

### Параметры

| Параметр | Тип | Обязательный | Описание |
|----------|-----|--------------|----------|
| `step_id` | integer | ✓ | ID шага для обновления |
| `title` | string | — | Новое название |
| `description` | string | — | Новое описание |
| `priority` | string | — | Новый приоритет |
| `dt` | string | — | Новая дата планирования (YYYY-MM-DD) |
| `time_duration` | integer | — | Новая длительность в минутах |

### Пример

```json
{
  "action": "step.update",
  "client_action_id": "uuid-xxx",
  "params": {
    "step_id": 456,
    "priority": "critical",
    "dt": "2026-01-27"
  }
}
```

---

## step.complete

Отметить шаг как выполненный.

### Параметры

| Параметр | Тип | Обязательный | Описание |
|----------|-----|--------------|----------|
| `step_id` | integer | ✓ | ID шага для завершения |

### XP

**+25 XP** за выполнение шага.

### Пример

```json
{
  "action": "step.complete",
  "client_action_id": "uuid-xxx",
  "params": {
    "step_id": 456
  }
}
```

---

## step.delete

Удалить шаг (soft delete).

### Параметры

| Параметр | Тип | Обязательный | Описание |
|----------|-----|--------------|----------|
| `step_id` | integer | ✓ | ID шага для удаления |

### Пример

```json
{
  "action": "step.delete",
  "client_action_id": "uuid-xxx",
  "params": {
    "step_id": 456
  }
}
```
