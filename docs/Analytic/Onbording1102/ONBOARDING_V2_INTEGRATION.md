# –û–Ω–±–æ—Ä–¥–∏–Ω–≥ V2 ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

> –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –∫–æ–Ω—Ü–µ–ø—Ü–∏–µ–π: [ONBOARDING_V2_PLAN.md](./ONBOARDING_V2_PLAN.md)

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞: —á—Ç–æ –µ—Å—Ç—å vs —á—Ç–æ –Ω—É–∂–Ω–æ

### –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –ß—Ç–æ –¥–∞—ë—Ç |
|-----------|------|---------|
| `WheelOfLife.vue` | src/components/ | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–µ—Å–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| `landingSSP.js` (store) | src/stores/ | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –ø–æ —Ö—ç—à—É –î–û —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫ –∞–∫–∫–∞—É–Ω—Ç—É —á–µ—Ä–µ–∑ `linkToUser()` |
| Sidebar `locked` –º–µ—Ö–∞–Ω–∏–∑–º | src/components/Sidebar.vue | –£–∂–µ —É–º–µ–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é (—Å–µ–π—á–∞—Å –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ ‚Äî `payment.completed`) |
| Activation store | src/stores/activation.js | 4 –º–∏—Å—Å–∏–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º, XP –Ω–∞–≥—Ä–∞–¥–∞–º–∏, localStorage |
| Telegram –±–æ—Ç: –∂—É—Ä–Ω–∞–ª | server/telegramBot.js | –ú—É–ª—å—Ç–∏-—à–∞–≥–æ–≤—ã–π —Å–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ `forceReply` |
| Telegram –±–æ—Ç: –ø—Ä–∏–≤—ã—á–∫–∏ | server/telegramBot.js | Inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —á–µ–∫–∏–Ω–∞ |
| AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–µ–ª–µ–π | OnboardingAI.vue + WebSocket | –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω: –∑–∞–ø—Ä–æ—Å ‚Üí –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí fallback |
| API –¥–ª—è —Ü–µ–ª–µ–π/—à–∞–≥–æ–≤ | src/services/api.js | –í—Å–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ |
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞–ø–ø–∏–Ω–≥ | stores/app.js | `categoryFrontendToBackend` / `categoryBackendToFrontend` |

### –ù—É–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å –Ω—É–ª—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|-----------|----------|-----------|
| `ScenarioQuestions.vue` | 6 —ç–∫—Ä–∞–Ω–æ–≤ —Å 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤–º–µ—Å—Ç–æ —Å–ª–∞–π–¥–µ—Ä–æ–≤ 1-10 | –°—Ä–µ–¥–Ω—è—è |
| `TodayView.vue` | –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ "–°–µ–≥–æ–¥–Ω—è" –¥–ª—è –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏ | –°—Ä–µ–¥–Ω—è—è |
| –°–∏—Å—Ç–µ–º–∞ –¥–Ω–µ–π/—Å–µ—Å—Å–∏–π | –°—á—ë—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π (–Ω–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ) | –ù–∏–∑–∫–∞—è |
| –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–Ω—è–º | –õ–æ–≥–∏–∫–∞ —Å–∞–π–¥–±–∞—Ä–∞: –º–æ–¥—É–ª–∏ ‚Üí –¥–µ–Ω—å | –°—Ä–µ–¥–Ω—è—è |
| Mood check-in | –ù–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å: —Ö—Ä–∞–Ω–µ–Ω–∏–µ, API, UI –≤ –±–æ—Ç–µ | –°—Ä–µ–¥–Ω—è—è |
| –ú–∏–∫—Ä–æ-–≤–æ–ø—Ä–æ—Å—ã –≤ –±–æ—Ç–µ | –ü—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–Ω—è–º | –ù–∏–∑–∫–∞—è |
| –î—Ä–∏–ø-–∫–æ–Ω—Ç–µ–Ω—Ç –≤ –±–æ—Ç–µ | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |
| –†–µ–∞–∫—Ü–∏—è –°–∞—à–∏ –Ω–∞ –ø–µ—Ä–≤—ã–π —à–∞–≥ | AI-–≤—ã–∑–æ–≤, –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ù–∏–∑–∫–∞—è (–µ—Å—Ç—å AI pipeline) |
| –¢–µ—Å—Ç –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | –°—Ü–µ–Ω–∞—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Üí –∏–Ω—Å–∞–π—Ç ‚Üí —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | –°—Ä–µ–¥–Ω—è—è |

### –ù—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ß—Ç–æ –º–µ–Ω—è—Ç—å |
|-----------|-----------|
| `OnboardingAI.vue` | –ó–∞–º–µ–Ω–∏—Ç—å —Å–ª–∞–π–¥–µ—Ä—ã –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –¥–æ–±–∞–≤–∏—Ç—å —ç–∫—Ä–∞–Ω –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ –∏ —Ä–µ–∞–∫—Ü–∏—é –°–∞—à–∏ |
| `Sidebar.vue` | –†–∞—Å—à–∏—Ä–∏—Ç—å `locked` –ª–æ–≥–∏–∫—É: –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ, –Ω–æ –∏ –ø–æ `onboardingDay` |
| `Dashboard.vue` | –î–æ–±–∞–≤–∏—Ç—å "—Ñ–æ–∫—É—Å–Ω—ã–π —Ä–µ–∂–∏–º" ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `TodayView` –µ—Å–ª–∏ `onboardingDay < 7` |
| `telegramBot.js` | Mood, –º–∏–∫—Ä–æ-–≤–æ–ø—Ä–æ—Å—ã, –¥—Ä–∏–ø-–∫–æ–Ω—Ç–µ–Ω—Ç, –≥–æ–ª–æ—Å –°–∞—à–∏ |
| `activation.js` | –†–∞—Å—à–∏—Ä–∏—Ç—å –º–∏—Å—Å–∏–∏: 4 ‚Üí 7 (–ø–æ –¥–Ω—è–º) |
| –õ–µ–Ω–¥–∏–Ω–≥ | –î–æ–±–∞–≤–∏—Ç—å CTA ‚Üí —Å—Ü–µ–Ω–∞—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| `Journal.vue` | –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª: –¥–µ–Ω—å 2 = 1 –≤–æ–ø—Ä–æ—Å, –¥–µ–Ω—å 3 = 2, –¥–µ–Ω—å 4+ = 4 |

---

## –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–π

```
–ò—Ç–µ—Ä–∞—Ü–∏—è 1 (–û–Ω–±–æ—Ä–¥–∏–Ω–≥) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚Üí –ò—Ç–µ—Ä–∞—Ü–∏—è 2 (–§–æ–∫—É—Å–Ω—ã–π —Ä–µ–∂–∏–º –¥–Ω–∏ 1-7)
    ‚îÇ        ‚îÇ
    ‚îÇ        ‚îî‚îÄ‚îÄ‚Üí –ò—Ç–µ—Ä–∞—Ü–∏—è 3 (Telegram –°–∞—à–∞)
    ‚îÇ                 ‚îÇ
    ‚îÇ                 ‚îî‚îÄ‚îÄ‚Üí –ò—Ç–µ—Ä–∞—Ü–∏—è 5 (Mood + –ø—Ä–æ—Ñ–∏–ª—å)
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚Üí –ò—Ç–µ—Ä–∞—Ü–∏—è 4 (–¢–µ—Å—Ç –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
```

- 1 ‚Üí 2 ‚Üí 3 ‚Üí 5: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ (–∫–∞–∂–¥–∞—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π)
- 4: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å 2-3 (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ `ScenarioQuestions` –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–∏ 1)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ù–æ–≤—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (–§–∞–∑–∞ 1-2)

### –¶–µ–ª—å
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ç–µ—Å—Ç ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω ‚Üí –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–π —à–∞–≥ ‚Üí –≤–∏–¥–∏—Ç —Ä–µ–∞–∫—Ü–∏—é –°–∞—à–∏.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ù–µ—Ç. –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É.

### –ó–∞–¥–∞—á–∏

#### 1.1 –°–æ–∑–¥–∞—Ç—å `ScenarioQuestions.vue`

**–ü—É—Ç—å:** `src/components/ScenarioQuestions.vue`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å 6 —ç–∫—Ä–∞–Ω–∞–º–∏ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ñ–µ—Ä—É). –ù–∞ –∫–∞–∂–¥–æ–º —ç–∫—Ä–∞–Ω–µ ‚Äî 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞-—Å—Ü–µ–Ω–∞—Ä–∏—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ sphereId, score, context }`.

**Props:**
```javascript
props: {
  spheres: Array,       // [{id: 'career', name: '–ö–∞—Ä—å–µ—Ä–∞', scenarios: [...]}]
  currentIndex: Number  // –¢–µ–∫—É—â–∞—è —Å—Ñ–µ—Ä–∞ (0-5)
}
```

**Emits:**
```javascript
emit('answer', { sphereId: 'career', score: 4, context: '–ï—Å—Ç—å —Ä–∞–±–æ—Ç–∞, –Ω–æ —á—É–≤—Å—Ç–≤—É—é –∑–∞—Å—Ç–æ–π' })
emit('complete', allAnswers)
```

**–î–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** (–≤—ã–Ω–µ—Å—Ç–∏ –≤ `src/data/sphereScenarios.js`):
```javascript
export const sphereScenarios = {
  career: {
    name: '–ö–∞—Ä—å–µ—Ä–∞ –∏ —Ä–∞–±–æ—Ç–∞',
    icon: 'Briefcase',
    scenarios: [
      { label: '–ù–µ—Ç —Ä–∞–±–æ—Ç—ã / –Ω–µ –∑–Ω–∞—é, —á–µ–º —Ö–æ—á—É –∑–∞–Ω–∏–º–∞—Ç—å—Å—è', score: 2 },
      { label: '–ï—Å—Ç—å —Ä–∞–±–æ—Ç–∞, –Ω–æ —á—É–≤—Å—Ç–≤—É—é –∑–∞—Å—Ç–æ–π', score: 4 },
      { label: '–†–∞–∑–≤–∏–≤–∞—é—Å—å, –Ω–æ —Ö–æ—á—É –±—ã—Å—Ç—Ä–µ–µ', score: 7 },
      { label: '–í—Å—ë —Ö–æ—Ä–æ—à–æ, –∏—â—É –Ω–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã', score: 9 }
    ]
  },
  health: { ... },
  wealth: { ... },
  love: { ... },
  friendship: { ... },
  hobbies: { ... }
}
```

**UI:** –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å—Ñ–µ—Ä–∞–º–∏. –ö–æ–ª–µ—Å–æ –∂–∏–∑–Ω–∏ (WheelOfLife readonly) –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Ñ–æ–Ω–µ –ø–æ –º–µ—Ä–µ –æ—Ç–≤–µ—Ç–æ–≤. –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä 1/6 ... 6/6.

#### 1.2 –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Ä–∞–Ω "–ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ —Ç–µ–±—è —Å—é–¥–∞?"

**–ü—É—Ç—å:** –ù–æ–≤—ã–π —à–∞–≥ –≤ `OnboardingAI.vue` (–ø–µ—Ä–µ–¥ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏)

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
```javascript
const motivationOptions = [
  { id: 'stuck', label: '–ß—É–≤—Å—Ç–≤—É—é –∑–∞—Å—Ç–æ–π, —Ö–æ—á—É —Å–¥–≤–∏–Ω—É—Ç—å—Å—è' },
  { id: 'discipline', label: '–•–æ—á—É –±–æ–ª—å—à–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∏ –ø–æ—Ä—è–¥–∫–∞' },
  { id: 'specific_goal', label: '–ï—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ü–µ–ª—å, –Ω–µ –∑–Ω–∞—é –∫–∞–∫ –¥–æ–π—Ç–∏' },
  { id: 'balance', label: '–•–æ—á—É –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å—Ñ–µ—Ä–∞–º–∏ –∂–∏–∑–Ω–∏' }
]
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** `surveyData.motivation = selectedOption.id`
**–í API:** –ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `updateOnboardingData({ reason_joined: motivation })`

#### 1.3 –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `OnboardingAI.vue`

**–¢–µ–∫—É—â–∏–π —Ñ–ª–æ—É (5 —à–∞–≥–æ–≤):**
```
1: Welcome + Time commitment
2: WheelOfLife sliders (0-10)
3: Wheel visualization
4: AI analysis (WebSocket)
5: Goal review
```

**–ù–æ–≤—ã–π —Ñ–ª–æ—É (7 —à–∞–≥–æ–≤):**
```
1: "–ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ —Ç–µ–±—è —Å—é–¥–∞?" (–ù–û–í–´–ô)
2: –°—Ü–µ–Ω–∞—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ 6 —Å—Ñ–µ—Ä–∞–º (–ó–ê–ú–ï–ù–Ø–ï–ú —Å–ª–∞–π–¥–µ—Ä—ã)
3: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–µ—Å–∞ + –∏–Ω—Å–∞–π—Ç –æ—Ç –°–∞—à–∏ (–ú–û–î–ò–§–ò–¶–ò–†–£–ï–ú)
4: –£—Ç–æ—á–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Äî —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç (–ù–û–í–´–ô, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
5: –í—Ä–µ–º—è –≤ –¥–µ–Ω—å + AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ (–û–ë–™–ï–î–ò–ù–Ø–ï–ú —Å—Ç–∞—Ä—ã–µ 1+4)
6: –û–±–∑–æ—Ä —Ü–µ–ª–µ–π + –ø–µ—Ä–≤—ã–π —à–∞–≥ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° (–ú–û–î–ò–§–ò–¶–ò–†–£–ï–ú —Å—Ç–∞—Ä—ã–π 5)
7: –†–µ–∞–∫—Ü–∏—è –°–∞—à–∏ + –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ + –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram (–ù–û–í–´–ô)
```

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**

- **–®–∞–≥ 2:** –ó–∞–º–µ–Ω–∏—Ç—å `<WheelOfLife>` –Ω–∞ `<ScenarioQuestions>`. –í–º–µ—Å—Ç–æ `localSpheres[i].score = value` ‚Üí –ø–æ–ª—É—á–∞–µ–º `{ score, context }` –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
- **–®–∞–≥ 3:** –ò–Ω—Å–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ –°–∞—à–∏ (–∞–≤–∞—Ç–∞—Ä + —Ç–µ–∫—Å—Ç). –¢–µ–∫—Å—Ç: "–°—Ñ–µ—Ä–∞ [X] ‚Äî —Ç–≤–æ—è –≥–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞. –¢—ã –≤—ã–±—Ä–∞–ª '[context]'..."
- **–®–∞–≥ 4 (–Ω–æ–≤—ã–π):** –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ `<textarea>` –¥–ª—è 1-2 —Å–ª–∞–±–µ–π—à–∏—Ö —Å—Ñ–µ—Ä. `surveyData.freeContext = { [sphereId]: text }`. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π ‚Äî –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å".
- **–®–∞–≥ 5:** –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–∞–ø—É—Å–∫ AI. –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è `onboarding_generate_goals` —Ä–∞—Å—à–∏—Ä—è–µ–º:
  ```javascript
  const aiContext = {
    spheres: scenarioAnswers,         // [{sphereId, score, context}]
    motivation: surveyData.motivation, // 'stuck' | 'discipline' | etc
    freeContext: surveyData.freeContext, // {career: "—Ä–∞–±–æ—Ç–∞—é –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º 5 –ª–µ—Ç..."}
    timeCommitment: surveyData.timeCommitment // '15_mins' | '30_mins' | etc
  }
  await aiTasksStore.startTaskAndWait('onboarding_generate_goals', aiContext)
  ```
- **–®–∞–≥ 6:** –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ü–µ–ª–µ–π ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ –ø—Ä—è–º–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ü–æ—Å–ª–µ submit ‚Üí `toggleStepComplete(goalId, stepId, true)` + —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞.
- **–®–∞–≥ 7:** AI-–≤—ã–∑–æ–≤ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –°–∞—à–∏ –Ω–∞ —Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–º–ø—Ç). –ó–∞—Ç–µ–º XP +10, –∑–∞—Ç–µ–º —ç–∫—Ä–∞–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram (–µ—Å–ª–∏ –ø—Ä–∏—à—ë–ª –Ω–µ –∏–∑ TG).

#### 1.4 –≠–∫—Ä–∞–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram

**–ü—É—Ç—å:** –ß–∞—Å—Ç—å —à–∞–≥–∞ 7 –≤ `OnboardingAI.vue`

**–õ–æ–≥–∏–∫–∞:**
```javascript
const isFromTelegram = computed(() => {
  const { isInTelegram } = useTelegram()
  return isInTelegram.value
})

// –ï—Å–ª–∏ –∏–∑ Telegram ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–æ—Ç –±–ª–æ–∫, –°–∞—à–∞ –ø–∏—à–µ—Ç –≤ –±–æ—Ç –Ω–∞–ø—Ä—è–º—É—é
// –ï—Å–ª–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

**UI:** –ê–≤–∞—Ç–∞—Ä –°–∞—à–∏ + —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π + –∫–Ω–æ–ø–∫–∞ `[–ü–æ–¥–∫–ª—é—á–∏—Ç—å –°–∞—à—É –≤ Telegram]` ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `user.telegram_bot_link`.

#### 1.5 –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

**–¢–µ–∫—É—â–∏–π `completeOnboarding()`** (—Å—Ç—Ä–æ–∫–∏ 921-1012 OnboardingAI.vue):
- –°–æ–∑–¥–∞—ë—Ç —Ü–µ–ª–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –°–æ–∑–¥–∞—ë—Ç —à–∞–≥–∏
- –ü–æ–º–µ—á–∞–µ—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π
- –ù–∞–≤–∏–≥–∏—Ä—É–µ—Ç –Ω–∞ `/app`

**–î–æ–±–∞–≤–ª—è–µ–º:**
- –°–æ—Ö—Ä–∞–Ω—è–µ–º `scenarioAnswers` –≤ `onboardingData` (–¥–ª—è –º–µ–Ω—Ç–æ—Ä–∞)
- –°–æ—Ö—Ä–∞–Ω—è–µ–º `motivation` –∏ `freeContext`
- –ü–µ—Ä–≤—ã–π —à–∞–≥ —É–∂–µ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ `/app` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `TodayView` (–∏—Ç–µ—Ä–∞—Ü–∏—è 2)

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë–º/–º–µ–Ω—è–µ–º

| –î–µ–π—Å—Ç–≤–∏–µ | –§–∞–π–ª |
|----------|------|
| –°–æ–∑–¥–∞—Ç—å | `src/components/ScenarioQuestions.vue` |
| –°–æ–∑–¥–∞—Ç—å | `src/data/sphereScenarios.js` |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/components/OnboardingAI.vue` (–æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/stores/app.js` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å `onboarding.data` –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/services/api.js` (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ `updateOnboardingData`) |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ 1
–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ü–µ–ª–∏ ‚Üí –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–π —à–∞–≥ ‚Üí –≤–∏–¥–∏—Ç —Ä–µ–∞–∫—Ü–∏—é –°–∞—à–∏ ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Telegram.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –§–æ–∫—É—Å–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–§–∞–∑–∞ 3)

### –¶–µ–ª—å
–ü–æ—Å–ª–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –¥–Ω—è–º.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ò—Ç–µ—Ä–∞—Ü–∏—è 1 (–Ω–æ–≤—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω).

### –ó–∞–¥–∞—á–∏

#### 2.1 –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á—ë—Ç–∞ –¥–Ω–µ–π (—Å–µ—Å—Å–∏–π)

**–ù–æ–≤–æ–µ –ø–æ–ª–µ:** `onboardingDay` ‚Äî —Å—á—ë—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∏–∑–∏—Ç–æ–≤.

**–õ–æ–≥–∏–∫–∞ (–≤ `stores/app.js`):**
```javascript
const onboardingDay = ref(0)
const ONBOARDING_PERIOD = 7 // –¥–Ω–µ–π –¥–æ –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

function incrementOnboardingDay() {
  const lastVisit = localStorage.getItem('onepercent_last_visit')
  const now = Date.now()
  const TWELVE_HOURS = 12 * 60 * 60 * 1000

  if (!lastVisit || (now - parseInt(lastVisit)) > TWELVE_HOURS) {
    onboardingDay.value++
    localStorage.setItem('onepercent_last_visit', now.toString())
    localStorage.setItem('onepercent_onboarding_day', onboardingDay.value.toString())
  }
}

const isOnboardingPeriod = computed(() => {
  return onboardingDay.value < ONBOARDING_PERIOD
})
```

**–í—ã–∑–æ–≤:** `incrementOnboardingDay()` ‚Äî –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ –≤ `/app` (–≤ `Dashboard.vue` `onMounted`).

**–ë—ç–∫–µ–Ω–¥-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –û—Ç–ø—Ä–∞–≤–ª—è–µ–º `onboarding_day` –≤ API, —á—Ç–æ–±—ã Telegram-–±–æ—Ç –∑–Ω–∞–ª, –∫–∞–∫–æ–π –¥–µ–Ω—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### 2.2 –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∞–π–¥–±–∞—Ä–∞ –ø–æ –¥–Ω—è–º

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `Sidebar.vue`:**

–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 48-68):
```javascript
// –°–µ–π—á–∞—Å: locked && !hasAccess ‚Üí disabled
// hasAccess = store.payment.completed
```

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```javascript
const menuItems = computed(() => [
  { path: '/app', label: '–°–µ–≥–æ–¥–Ω—è', icon: BarChart3, requiredDay: 0 },
  { path: '/app/goals/:id', label: '–ú–æ–∏ —Ü–µ–ª–∏', icon: Target, requiredDay: 0 },
  { path: '/app/journal', label: '–î–Ω–µ–≤–Ω–∏–∫', icon: BookOpen, requiredDay: 2 },
  { path: '/app/planning', label: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ', icon: Calendar, requiredDay: 3 },
  { path: '/app/habits', label: '–ü—Ä–∏–≤—ã—á–∫–∏', icon: Flame, requiredDay: 5 },
  { path: '/app/ssp', label: '–°–°–ü', icon: Target, requiredDay: 7 },
  { path: '/app/goals-bank', label: '–ë–∞–Ω–∫ —Ü–µ–ª–µ–π', icon: Landmark, requiredDay: 7 },
  { path: '/app/achievements', label: '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è', icon: Award, requiredDay: 7 },
  { path: '/app/learning', label: '–û–±—É—á–µ–Ω–∏–µ', icon: GraduationCap, requiredDay: 7 },
])

function isItemLocked(item) {
  // –ï—Å–ª–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥-–ø–µ—Ä–∏–æ–¥ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –¥–Ω—é
  if (store.isOnboardingPeriod && store.onboardingDay < item.requiredDay) {
    return true
  }
  // –ü–æ—Å–ª–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥-–ø–µ—Ä–∏–æ–¥–∞ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
  if (item.locked && !hasAccess.value) {
    return true
  }
  return false
}

function getLockLabel(item) {
  if (store.isOnboardingPeriod && store.onboardingDay < item.requiredDay) {
    return `–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ –¥–µ–Ω—å ${item.requiredDay}`
  }
  return '–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–¥–ø–∏—Å–∫–∞'
}
```

#### 2.3 –°–æ–∑–¥–∞—Ç—å `TodayView.vue`

**–ü—É—Ç—å:** `src/components/TodayView.vue`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ:
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –Ω–æ–º–µ—Ä –¥–Ω—è ("–î–µ–Ω—å 3 –∏–∑ 7")
- –¶–µ–ª—å –∏–∑ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ + —à–∞–≥–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏
- –ú–∏—Å—Å–∏—è –¥–Ω—è (–∏–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ activation store)
- –í–∏–¥–∂–µ—Ç –°–∞—à–∏ (–ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–Ω—è)
- –ë–ª–æ–∫ "–ó–∞–≤—Ç—Ä–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è: [–Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è]"

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Dashboard.vue:**
```vue
<template>
  <TodayView v-if="store.isOnboardingPeriod" />
  <div v-else class="dashboard-wrapper">
    <!-- —Ç–µ–∫—É—â–∏–π –ø–æ–ª–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ -->
  </div>
</template>
```

#### 2.4 –†–∞—Å—à–∏—Ä–∏—Ç—å Activation Store

**–¢–µ–∫—É—â–∏–µ –º–∏—Å—Å–∏–∏ (4):** select_focus, create_habit, view_goals, write_reflection

**–ù–æ–≤—ã–µ –º–∏—Å—Å–∏–∏ (7, –ø–æ –¥–Ω—è–º):**
```javascript
const missions = {
  day_1: {
    id: 'complete_step_2',
    title: '–í—ã–ø–æ–ª–Ω–∏ –≤—Ç–æ—Ä–æ–π —à–∞–≥',
    xp: 10,
    description: '–ü—Ä–æ–¥–æ–ª–∂–∏ —Ä–∞–±–æ—Ç—É –Ω–∞–¥ —Ü–µ–ª—å—é'
  },
  day_2: {
    id: 'first_journal',
    title: '–ù–∞–ø–∏—à–∏ –≤–µ—á–µ—Ä–Ω—é—é —Ä–µ—Ñ–ª–µ–∫—Å–∏—é',
    xp: 15,
    description: '–û—Ç–≤–µ—Ç—å –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å –≤ –∂—É—Ä–Ω–∞–ª–µ',
    unlocks: 'journal' // —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å
  },
  day_3: {
    id: 'first_plan',
    title: '–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π –Ω–µ–¥–µ–ª—é',
    xp: 15,
    description: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ 2-3 —à–∞–≥–∞ –ø–æ –¥–Ω—è–º',
    unlocks: 'planning'
  },
  day_4: {
    id: 'complete_step_3',
    title: '–í—ã–ø–æ–ª–Ω–∏ —Ç—Ä–µ—Ç–∏–π —à–∞–≥',
    xp: 10,
    description: '–¢—ã —É–∂–µ –Ω–∞ –ø–æ–ª–ø—É—Ç–∏!'
  },
  day_5: {
    id: 'first_habit',
    title: '–î–æ–±–∞–≤—å –æ–¥–Ω—É –ø—Ä–∏–≤—ã—á–∫—É',
    xp: 15,
    description: '–ß—Ç–æ-—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ',
    unlocks: 'habits'
  },
  day_6: {
    id: 'continue',
    title: '–ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–≤–∏–≥–∞—Ç—å—Å—è',
    xp: 10,
    description: '–í—ã–ø–æ–ª–Ω–∏ —à–∞–≥ + –ø—Ä–∏–≤—ã—á–∫–∏ + –∂—É—Ä–Ω–∞–ª'
  },
  day_7: {
    id: 'week_review',
    title: '–û–±–∑–æ—Ä –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏',
    xp: 25,
    description: '–ü–æ—Å–º–æ—Ç—Ä–∏ —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞ 7 –¥–Ω–µ–π',
    unlocks: 'all'
  }
}
```

#### 2.5 –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `Journal.vue`:**
```javascript
const journalQuestions = computed(() => {
  const day = store.onboardingDay
  const allQuestions = [
    '–ß—Ç–æ —Å–µ–≥–æ–¥–Ω—è –ø–æ–ª—É—á–∏–ª–æ—Å—å?',
    '–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∑–∞–≤—Ç—Ä–∞?',
    '–ß–µ–º—É —è —Å–µ–≥–æ–¥–Ω—è –Ω–∞—É—á–∏–ª—Å—è?',
    '–ü–ª–∞–Ω—ã –Ω–∞ –∑–∞–≤—Ç—Ä–∞'
  ]

  if (day <= 2) return allQuestions.slice(0, 1)  // 1 –≤–æ–ø—Ä–æ—Å
  if (day <= 3) return allQuestions.slice(0, 2)  // 2 –≤–æ–ø—Ä–æ—Å–∞
  if (day <= 5) return allQuestions.slice(0, 3)  // 3 –≤–æ–ø—Ä–æ—Å–∞
  return allQuestions                             // –≤—Å–µ 4
})
```

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë–º/–º–µ–Ω—è–µ–º

| –î–µ–π—Å—Ç–≤–∏–µ | –§–∞–π–ª |
|----------|------|
| –°–æ–∑–¥–∞—Ç—å | `src/components/TodayView.vue` |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/components/Sidebar.vue` (–ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–Ω—è–º) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/views/Dashboard.vue` (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ TodayView/Dashboard) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/stores/app.js` (onboardingDay, incrementOnboardingDay) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/stores/activation.js` (7 –º–∏—Å—Å–∏–π –≤–º–µ—Å—Ç–æ 4) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/views/Journal.vue` (–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã) |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ 2
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –Ω–æ–≤–∞—è –º–∏—Å—Å–∏—è + —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–æ–¥—É–ª—è. –ß–µ—Ä–µ–∑ 7 —Å–µ—Å—Å–∏–π ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 3: Telegram-–º–µ–Ω—Ç–æ—Ä –°–∞—à–∞ (–§–∞–∑–∞ 3 ‚Äî Telegram)

### –¶–µ–ª—å
–ë–æ—Ç = –≥–æ–ª–æ—Å –°–∞—à–∏. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∑–∞–¥–∞—á–∞–º–∏, –æ–±—É—á–µ–Ω–∏–µ–º –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–µ–π.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ò—Ç–µ—Ä–∞—Ü–∏—è 2 (—Å–∏—Å—Ç–µ–º–∞ –¥–Ω–µ–π). –ë—ç–∫–µ–Ω–¥ –æ—Ç–¥–∞—ë—Ç `onboarding_day` –≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ó–∞–¥–∞—á–∏

#### 3.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–æ–≤ –±–æ—Ç–∞

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ `telegramBot.js` –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –æ—Ç –ª–∏—Ü–∞ –°–∞—à–∏:
- "–£ —Ç–µ–±—è —Å–µ–≥–æ–¥–Ω—è –æ–¥–∏–Ω —à–∞–≥" ‚Üí "–Ø –ø–æ—Å–º–æ—Ç—Ä–µ–ª —Ç–≤–æ–∏ –ø–ª–∞–Ω—ã. –°–µ–≥–æ–¥–Ω—è –æ–¥–∏–Ω —à–∞–≥..."
- "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ!" ‚Üí "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –Ø –°–∞—à–∞. –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?"

#### 3.2 –î—Ä–∏–ø-–∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ –¥–Ω—è–º

**–ù–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ –≤ `server/dripContent.js`:**
```javascript
export const dripMessages = {
  0: {
    evening: {
      text: '–ü—Ä–∏–≤–µ—Ç! –Ø –°–∞—à–∞ ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–º–µ–Ω—Ç–æ—Ä.\n–Ø —É–∂–µ –∏–∑—É—á–∏–ª —Ç–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–æ—Å—Ç–∞–≤–∏–ª –ø–ª–∞–Ω.\n\n–ó–Ω–∞–µ—à—å, –µ—Å–ª–∏ —É–ª—É—á—à–∞—Ç—å—Å—è –Ω–∞ 1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∑–∞ –≥–æ–¥ —Ç—ã —Å—Ç–∞–Ω–µ—à—å –≤ 37 —Ä–∞–∑ –ª—É—á—à–µ.\n–≠—Ç–æ –Ω–µ –º–æ—Ç–∏–≤–∞—Ü–∏—è ‚Äî —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞: 1.01^365 = 37.78\n\n–ó–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º –Ω–∞–ø–∏—à—É.',
      source: '–£—Ä–æ–∫ 1: –§–∏–ª–æ—Å–æ—Ñ–∏—è 1%'
    }
  },
  1: {
    evening: {
      text: '–ö—Å—Ç–∞—Ç–∏, –∑–Ω–∞–µ—à—å –∏—Å—Ç–æ—Ä–∏—é British Cycling? –ê—É—Ç—Å–∞–π–¥–µ—Ä—ã 100 –ª–µ—Ç.\n–¢—Ä–µ–Ω–µ—Ä –Ω–∞—á–∞–ª —É–ª—É—á—à–∞—Ç—å –≤—Å—ë –Ω–∞ 1%. –ó–∞ 5 –ª–µ—Ç ‚Äî –∑–æ–ª–æ—Ç–æ –û–ª–∏–º–ø–∏–∞–¥—ã.\n–¢—ã –¥–µ–ª–∞–µ—à—å —Ç–æ –∂–µ —Å–∞–º–æ–µ. –®–∞–≥ –∑–∞ —à–∞–≥–æ–º.',
      source: '–£—Ä–æ–∫ 1: British Cycling'
    }
  },
  2: {
    morning: {
      text: '–°–µ–≥–æ–¥–Ω—è –¥–æ–±–∞–≤–ª—è–µ–º –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –≤–µ—á–µ—Ä–Ω—é—é —Ä–µ—Ñ–ª–µ–∫—Å–∏—é.\n–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ì–∞—Ä–≤–∞—Ä–¥–∞: —Ä–µ—Ñ–ª–µ–∫—Å–∏—è 15 –º–∏–Ω/–¥–µ–Ω—å = +23% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.\n–í–µ—á–µ—Ä–æ–º –∑–∞–¥–∞–º –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å. –ü—Ä—è–º–æ –∑–¥–µ—Å—å.',
      source: '–£—Ä–æ–∫ 8: –ñ—É—Ä–Ω–∞–ª'
    }
  },
  3: {
    morning: {
      text: '–ù–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.\n–ì–æ–ª–ª–≤–∏—Ç—Ü–µ—Ä –¥–æ–∫–∞–∑–∞–ª: –∑–∞–ø–∏—Å–∞—Ç—å "–∫–æ–≥–¥–∞ –∏ –≥–¥–µ" = –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å x2-3.\n–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏ 2-3 —à–∞–≥–∞ –ø–æ –¥–Ω—è–º.',
      source: '–£—Ä–æ–∫ 6: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ'
    }
  },
  4: {
    morning: {
      text: '–ü—Ä–∞–≤–∏–ª–æ –¥–≤—É—Ö –º–∏–Ω—É—Ç.\n–ï—Å–ª–∏ —à–∞–≥ –∫–∞–∂–µ—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º ‚Äî —Å–¥–µ–ª–∞–π –≤–µ—Ä—Å–∏—é –Ω–∞ 2 –º–∏–Ω—É—Ç—ã.\n–•–æ—á–µ—à—å –ø—Ä–æ–±–µ–∂–∞—Ç—å 5 –∫–º? –ü—Ä–æ—Å—Ç–æ –Ω–∞–¥–µ–Ω—å –∫—Ä–æ—Å—Å–æ–≤–∫–∏.',
      source: '–£—Ä–æ–∫ 1: –î–≤—É—Ö–º–∏–Ω—É—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ'
    }
  },
  5: {
    morning: {
      text: '–°–µ–≥–æ–¥–Ω—è –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ü—Ä–∏–≤—ã—á–∫–∏.\n–ù–∞—á–Ω–∏ —Å —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ —Å–¥–µ–ª–∞—Ç—å.\n"–í—ã–ø–∏—Ç—å —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã —É—Ç—Ä–æ–º" > "–ü—Ä–æ–±–µ–∂–∞—Ç—å 10 –∫–º"',
      source: '–£—Ä–æ–∫ 7: –ü—Ä–∏–≤—ã—á–∫–∏'
    }
  },
  6: {
    morning: {
      text: '–≠—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ–ª–∏–≤–∞.\n–ö–æ–≥–¥–∞ —É–ª—É—á—à–∞–µ—à—å –æ–¥–Ω—É —Å—Ñ–µ—Ä—É, –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è.\n–ó–¥–æ—Ä–æ–≤—å–µ ‚Üí —ç–Ω–µ—Ä–≥–∏—è ‚Üí —Ä–∞–±–æ—Ç–∞ ‚Üí –¥–µ–Ω—å–≥–∏ ‚Üí –æ—Ç–Ω–æ—à–µ–Ω–∏—è.\n–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–∞—á–∞–ª–∏ —Å —Ç–≤–æ–µ–π –∫–ª—é—á–µ–≤–æ–π —Å—Ñ–µ—Ä—ã.',
      source: '–£—Ä–æ–∫ 3: –°–°–ü'
    }
  }
}
```

#### 3.3 –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —É—Ç—Ä–µ–Ω–Ω–∏–π cron (8:00)

**–¢–µ–∫—É—â–∏–π:** generic "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ" + –∑–∞–¥–∞—á–∏.

**–ù–æ–≤—ã–π:**
```javascript
async function sendMorningMessage(userId) {
  const userData = await getUserDataFromAPI(userId)
  const day = userData.onboarding_day
  const drip = dripMessages[day]

  // 1. Mood check-in
  let message = '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?\n'
  const moodButtons = [
    [Markup.button.callback('üòä', 'mood_great'),
     Markup.button.callback('üôÇ', 'mood_good'),
     Markup.button.callback('üòê', 'mood_ok'),
     Markup.button.callback('üòî', 'mood_bad')]
  ]

  // 2. –î—Ä–∏–ø-–∫–æ–Ω—Ç–µ–Ω—Ç –¥–Ω—è (–µ—Å–ª–∏ –µ—Å—Ç—å —É—Ç—Ä–µ–Ω–Ω–∏–π)
  if (drip?.morning) {
    message += '\n' + drip.morning.text + '\n'
  }

  // 3. –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
  const todayTasks = userData.today_tasks
  if (todayTasks.length > 0) {
    message += '\n–°–µ–≥–æ–¥–Ω—è —É —Ç–µ–±—è:\n'
    todayTasks.forEach(task => {
      message += `‚òê ${task.step_title}\n`
    })
  }

  // 4. –ü—Ä–∏–≤—ã—á–∫–∏ (—Å –¥–Ω—è 5)
  if (day >= 5 && userData.today_habits.length > 0) {
    // –î–æ–±–∞–≤–∏—Ç—å inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —á–µ–∫–∏–Ω–∞ –ø—Ä–∏–≤—ã—á–µ–∫
  }

  await bot.telegram.sendMessage(userId, message, {
    reply_markup: Markup.inlineKeyboard(moodButtons)
  })
}
```

#### 3.4 –û—Ç–º–µ—Ç–∫–∞ —à–∞–≥–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç

**–ù–æ–≤—ã–π callback:**
```javascript
bot.action(/complete_step_(\d+)_(\d+)/, async (ctx) => {
  const goalId = ctx.match[1]
  const stepId = ctx.match[2]

  await api.toggleStepComplete(goalId, stepId, true)
  await ctx.answerCbQuery('‚úÖ –®–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω! +10 XP')
  // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: –∑–∞–º–µ–Ω–∏—Ç—å ‚òê –Ω–∞ ‚úÖ
})
```

#### 3.5 –ñ—É—Ä–Ω–∞–ª –≤ Telegram —Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ journal flow:**
```javascript
function getJournalQuestions(onboardingDay) {
  const all = JOURNAL_QUESTIONS // 4 –≤–æ–ø—Ä–æ—Å–∞
  if (onboardingDay <= 2) return all.slice(0, 1)
  if (onboardingDay <= 3) return all.slice(0, 2)
  if (onboardingDay <= 5) return all.slice(0, 3)
  return all
}
```

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë–º/–º–µ–Ω—è–µ–º

| –î–µ–π—Å—Ç–≤–∏–µ | –§–∞–π–ª |
|----------|------|
| –°–æ–∑–¥–∞—Ç—å | `server/dripContent.js` |
| –ò–∑–º–µ–Ω–∏—Ç—å | `server/telegramBot.js` (–æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: —Ç–µ–∫—Å—Ç—ã, cron, mood, —à–∞–≥–∏) |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ 3
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –°–∞—à–∏. –ú–æ–∂–µ—Ç –æ—Ç–º–µ—á–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏ –∏ —à–∞–≥–∏ –ø—Ä—è–º–æ –≤ Telegram. –ü–æ–ª—É—á–∞–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –∏ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –¢–µ—Å—Ç –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –¶–µ–ª—å
–¶–µ–Ω–Ω–æ—Å—Ç—å –î–û —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –¢–µ—Å—Ç ‚Üí –∏–Ω—Å–∞–π—Ç ‚Üí "—Å–æ—Ö—Ä–∞–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã".

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ò—Ç–µ—Ä–∞—Ü–∏—è 1 (–Ω—É–∂–µ–Ω `ScenarioQuestions.vue`).

### –ó–∞–¥–∞—á–∏

#### 4.1 –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/test`

**–ü—É—Ç—å:** `src/views/PublicTest.vue`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–±–µ–∑ auth). –°–æ–¥–µ—Ä–∂–∏—Ç:
1. "–ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ —Ç–µ–±—è —Å—é–¥–∞?" (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
2. `<ScenarioQuestions>` (6 —Å—Ñ–µ—Ä)
3. `<WheelOfLife :readonly="true">` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
4. –ò–Ω—Å–∞–π—Ç –æ—Ç –°–∞—à–∏ (—Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –±–µ–∑ AI, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã)
5. CTA: "–°–æ–∑–¥–∞–π –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–ª–∞–Ω"

#### 4.2 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `landingSSP.js`

**–£–∂–µ –µ—Å—Ç—å:**
- `saveTest(categoriesData)` ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ —Ö—ç—à—É
- `getTest(hash)` ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç
- `linkToUser()` ‚Üí –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫ –∞–∫–∫–∞—É–Ω—Ç—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `hasPendingTest` ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

**–†–∞—Å—à–∏—Ä—è–µ–º:**
```javascript
// –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–µ —Ç–æ–ª—å–∫–æ scores, –Ω–æ –∏ scenarios + motivation
async function saveScenarioTest(data) {
  const payload = {
    categories_data: data.spheres.map(s => ({
      category: sphereIdToBackend[s.sphereId],
      rating: s.score,
      scenario_context: s.context  // –ù–û–í–û–ï –ø–æ–ª–µ
    })),
    motivation: data.motivation  // –ù–û–í–û–ï –ø–æ–ª–µ
  }
  return await saveTest(payload)
}
```

#### 4.3 –ú–∞—Ä—à—Ä—É—Ç –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–í `router/index.js`:**
```javascript
{
  path: '/test',
  component: () => import('@/views/PublicTest.vue'),
  meta: { guestOnly: true }  // –¢–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
}
```

**–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
```javascript
// –í Register.vue –∏–ª–∏ OnboardingRouter.vue:
if (landingSSPStore.hasPendingTest) {
  await landingSSPStore.linkToUser()
  // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —à–∞–≥–∏ 1-2 –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ‚Üí —Å—Ä–∞–∑—É –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–∞
  router.push('/onboarding?skip_to=5') // —à–∞–≥ 5 = AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
}
```

#### 4.4 –ü—É—Ç—å B: Telegram ‚Üí —Ç–µ—Å—Ç

**–í `telegramBot.js` (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ /start):**
```javascript
bot.start(async (ctx) => {
  if (!session.linkedAccountId) {
    await ctx.reply(
      '–ü—Ä–∏–≤–µ—Ç! –Ø –°–∞—à–∞ ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–º–µ–Ω—Ç–æ—Ä.\n\n' +
      '–î–∞–≤–∞–π –Ω–∞—á–Ω—ë–º —Å –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞ ‚Äî —É–∑–Ω–∞–µ–º, –∫–∞–∫–∞—è —Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ ' +
      '—Ç–æ—Ä–º–æ–∑–∏—Ç —Ç–≤–æ–π —Ä–æ—Å—Ç. –ó–∞–π–º—ë—Ç 2 –º–∏–Ω—É—Ç—ã.',
      Markup.inlineKeyboard([
        [Markup.button.url('–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç', `${WEBAPP_URL}/test`)]
      ])
    )
  }
})
```

#### 4.5 CTA –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–µ–Ω–¥–∏–Ω–≥–∞** (LandingVersion7.vue –∏–ª–∏ Landing.vue):
```vue
<!-- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è –∏–ª–∏ –∑–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ hero CTA -->
<section class="test-cta">
  <h2>–£–∑–Ω–∞–π, –∫–∞–∫–∞—è —Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ —Ç–æ—Ä–º–æ–∑–∏—Ç —Ç–≤–æ–π —Ä–æ—Å—Ç</h2>
  <p>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–µ—Å—Ç ‚Äî 2 –º–∏–Ω—É—Ç—ã</p>
  <router-link to="/test" class="btn-primary">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</router-link>
</section>
```

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë–º/–º–µ–Ω—è–µ–º

| –î–µ–π—Å—Ç–≤–∏–µ | –§–∞–π–ª |
|----------|------|
| –°–æ–∑–¥–∞—Ç—å | `src/views/PublicTest.vue` |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/stores/landingSSP.js` (—Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/router/index.js` (–Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç /test) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `server/telegramBot.js` (–æ–±–Ω–æ–≤–∏—Ç—å /start) |
| –ò–∑–º–µ–Ω–∏—Ç—å | –õ–µ–Ω–¥–∏–Ω–≥ (–¥–æ–±–∞–≤–∏—Ç—å CTA –Ω–∞ —Ç–µ—Å—Ç) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/components/OnboardingAI.vue` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ `skip_to` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ç–µ—Å—Ç–æ–º) |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ 4
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Üí –≤–∏–¥–∏—Ç –∏–Ω—Å–∞–π—Ç ‚Üí —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è "—á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å" ‚Üí –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç ‚Üí —Å—Ä–∞–∑—É –∫ –ø–ª–∞–Ω—É.

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 5: Mood, –º–∏–∫—Ä–æ-–≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–æ—Ñ–∏–ª—å

### –¶–µ–ª—å
–ó–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é —Å–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –°–∞—à–∏.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ò—Ç–µ—Ä–∞—Ü–∏–∏ 2-3 (—Å–∏—Å—Ç–µ–º–∞ –¥–Ω–µ–π + –±–æ—Ç). –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –±—ç–∫–µ–Ω–¥–∞.

### –ó–∞–¥–∞—á–∏

#### 5.1 Mood tracking

**–ë—ç–∫–µ–Ω–¥ (–Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π API):**
```
POST /api/rest/front/app/mood/
  { mood: 1-4, timestamp: ISO }

GET /api/rest/front/app/mood/history/
  ‚Üí [{ mood, timestamp, day_of_week }]
```

**Telegram –±–æ—Ç:**
```javascript
bot.action(/mood_(\w+)/, async (ctx) => {
  const moodMap = { great: 4, good: 3, ok: 2, bad: 1 }
  const mood = moodMap[ctx.match[1]]

  await api.saveMood({ mood, timestamp: new Date().toISOString() })

  if (mood <= 1) {
    // –¢—Ä–∏–≥–≥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏
    await ctx.reply('–í–∏–∂—É, –¥–µ–Ω—å –Ω–µ–ø—Ä–æ—Å—Ç–æ–π. –•–æ—á–µ—à—å –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å?',
      Markup.inlineKeyboard([
        [Markup.button.callback('–î–∞, –¥–∞–≤–∞–π', 'mentor_start')],
        [Markup.button.callback('–ù–µ—Ç, –≤—Å—ë –æ–∫', 'mood_dismiss')]
      ])
    )
  } else {
    await ctx.answerCbQuery('–ó–∞–ø–∏—Å–∞–ª!')
  }
})
```

#### 5.2 –ú–∏–∫—Ä–æ-–≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–Ω—è–º

**–ö–æ–Ω—Ñ–∏–≥ `server/microQuestions.js`:**
```javascript
export const microQuestions = {
  1: {
    after: 'step_complete',
    text: '–ö–∞–∫ —Ç–µ–±–µ —ç—Ç–æ—Ç —à–∞–≥?',
    buttons: [
      { label: '–õ–µ–≥–∫–æ', value: 'easy' },
      { label: '–ù–æ—Ä–º–∞–ª—å–Ω–æ', value: 'medium' },
      { label: '–°–ª–æ–∂–Ω–æ', value: 'hard' }
    ],
    field: 'preferred_difficulty'
  },
  3: {
    after: 'morning',
    text: '–ö–æ–≥–¥–∞ —Ç–µ–±–µ –ø—Ä–æ—â–µ –¥–µ–ª–∞—Ç—å –≤–∞–∂–Ω—ã–µ –¥–µ–ª–∞?',
    buttons: [
      { label: '–£—Ç—Ä–æ', value: 'morning' },
      { label: '–î–µ–Ω—å', value: 'afternoon' },
      { label: '–í–µ—á–µ—Ä', value: 'evening' },
      { label: '–ü–æ-—Ä–∞–∑–Ω–æ–º—É', value: 'varies' }
    ],
    field: 'chronotype'
  },
  4: {
    after: 'morning',
    text: '–ß—Ç–æ –æ–±—ã—á–Ω–æ –º–µ—à–∞–µ—Ç –¥–æ–≤–æ–¥–∏—Ç—å –¥–µ–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞?',
    buttons: [
      { label: '–ó–∞–±—ã–≤–∞—é', value: 'forgets' },
      { label: '–¢–µ—Ä—è—é –º–æ—Ç–∏–≤–∞—Ü–∏—é', value: 'motivation' },
      { label: '–û—Ç–≤–ª–µ–∫–∞—é—Å—å', value: 'distracted' },
      { label: '–ù–µ –∑–Ω–∞—é —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å', value: 'no_start' }
    ],
    field: 'main_barrier'
  },
  5: {
    after: 'morning',
    text: '–ë—ã–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏–∂–∏–ª–∏—Å—å?',
    buttons: [
      { label: '–î–∞, –º–Ω–æ–≥–æ —Ä–∞–∑', value: 'many' },
      { label: '–ü–∞—Ä—É —Ä–∞–∑', value: 'few' },
      { label: '–ù–µ –ø—Ä–æ–±–æ–≤–∞–ª', value: 'never' }
    ],
    field: 'habit_experience'
  },
  7: {
    after: 'morning',
    text: '–ß—Ç–æ –±—ã–ª–æ —Å–∞–º—ã–º –ø–æ–ª–µ–∑–Ω—ã–º –∑–∞ –Ω–µ–¥–µ–ª—é?',
    buttons: [
      { label: '–®–∞–≥–∏ –∫ —Ü–µ–ª–∏', value: 'steps' },
      { label: '–ñ—É—Ä–Ω–∞–ª', value: 'journal' },
      { label: '–ü—Ä–∏–≤—ã—á–∫–∏', value: 'habits' },
      { label: '–°–æ–æ–±—â–µ–Ω–∏—è –°–∞—à–∏', value: 'mentor' }
    ],
    field: 'most_valued_feature'
  }
}
```

#### 5.3 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ë—ç–∫–µ–Ω–¥ (–Ω–æ–≤—ã–µ –ø–æ–ª—è):**
```
preferred_difficulty: easy|medium|hard
chronotype: morning|afternoon|evening|varies
main_barrier: forgets|motivation|distracted|no_start
habit_experience: many|few|never
most_valued_feature: steps|journal|habits|mentor
mood_history: [{mood, timestamp}]
```

**API:**
```
POST /api/rest/front/app/profile/update/
  { field: value, ... }
```

#### 5.4 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –°–∞—à–∏

**–í `telegramBot.js` –∏ –≤ –ø—Ä–æ–º–ø—Ç–µ –º–µ–Ω—Ç–æ—Ä–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```javascript
function buildMentorSystemPrompt(userProfile) {
  return `
    –¢—ã –°–∞—à–∞ ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–º–µ–Ω—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

    –û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
    - –ú–æ—Ç–∏–≤–∞—Ü–∏—è: ${userProfile.motivation}
    - –°–ª–∞–±–µ–π—à–∞—è —Å—Ñ–µ—Ä–∞: ${userProfile.weakestSphere} (${userProfile.weakestContext})
    - –î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è: ${userProfile.timeCommitment}
    - –•—Ä–æ–Ω–æ—Ç–∏–ø: ${userProfile.chronotype}
    - –ì–ª–∞–≤–Ω—ã–π –±–∞—Ä—å–µ—Ä: ${userProfile.main_barrier}
    - –û–ø—ã—Ç —Å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏: ${userProfile.habit_experience}
    - –¢–µ–∫—É—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: ${userProfile.lastMood}
    - –ü–∞—Ç—Ç–µ—Ä–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è: ${userProfile.moodPattern}

    –¢–µ–∫—É—â–∏–µ —Ü–µ–ª–∏: ${userProfile.goals}
    –í—ã–ø–æ–ª–Ω–µ–Ω–æ —à–∞–≥–æ–≤: ${userProfile.completedSteps}
    –°–µ—Ä–∏—è –∂—É—Ä–Ω–∞–ª–∞: ${userProfile.journalStreak}
    –°–µ—Ä–∏—è –ø—Ä–∏–≤—ã—á–µ–∫: ${userProfile.habitStreak}

    –°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π.
    –£—á–∏—Ç—ã–≤–∞–π –±–∞—Ä—å–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (${userProfile.main_barrier}) –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö.
    –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–µ ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏.
    –ï—Å–ª–∏ –≤—ã—Å–æ–∫–æ–µ ‚Äî –¥–∞–π –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–π —Å–æ–≤–µ—Ç.
  `
}
```

### –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë–º/–º–µ–Ω—è–µ–º

| –î–µ–π—Å—Ç–≤–∏–µ | –§–∞–π–ª |
|----------|------|
| –°–æ–∑–¥–∞—Ç—å | `server/microQuestions.js` |
| –ò–∑–º–µ–Ω–∏—Ç—å | `server/telegramBot.js` (mood callbacks, micro-questions, extended prompt) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/services/api.js` (–Ω–æ–≤—ã–µ API: mood, profile) |
| –ò–∑–º–µ–Ω–∏—Ç—å | `src/stores/app.js` (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) |
| –ë—ç–∫–µ–Ω–¥ | –ù–æ–≤—ã–µ API endpoints –∏ –ø–æ–ª—è –≤ –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏ 5
–ö –∫–æ–Ω—Ü—É –Ω–µ–¥–µ–ª–∏ 1 —É –°–∞—à–∏ –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–æ—á–Ω—ã–º–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏.

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: —á—Ç–æ –¥–µ–ª–∞–µ–º –≤ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –°–æ–∑–¥–∞—ë–º | –ú–µ–Ω—è–µ–º | –ë—ç–∫–µ–Ω–¥ |
|----------|---------|--------|--------|
| **1** | ScenarioQuestions.vue, sphereScenarios.js | OnboardingAI.vue, app.js | –†–∞—Å—à–∏—Ä–∏—Ç—å onboarding API (—Å—Ü–µ–Ω–∞—Ä–∏–∏) |
| **2** | TodayView.vue | Sidebar.vue, Dashboard.vue, app.js, activation.js, Journal.vue | –î–æ–±–∞–≤–∏—Ç—å onboarding_day |
| **3** | dripContent.js | telegramBot.js | API –¥–ª—è –∑–∞–¥–∞—á/–ø—Ä–∏–≤—ã—á–µ–∫ –∏–∑ –±–æ—Ç–∞ |
| **4** | PublicTest.vue | landingSSP.js, router, –ª–µ–Ω–¥–∏–Ω–≥, OnboardingAI.vue, telegramBot.js | –†–∞—Å—à–∏—Ä–∏—Ç—å landing SSP –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ |
| **5** | microQuestions.js | telegramBot.js, api.js, app.js | Mood API, profile fields |
