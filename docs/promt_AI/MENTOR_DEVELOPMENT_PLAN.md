# План развития AI-ментора OnePercent

> **Обновлено: Январь 2025** — добавлены этапы и механики на основе исследований 2025 года.
> См. [MENTOR_DEEP_RESEARCH_v2.md](./MENTOR_DEEP_RESEARCH_v2.md) для полного обзора исследований.

## Цель
Создать максимально "живого" и персонализированного ментора, который даёт WOW-эффект и увеличивает LTV.

## Стратегия
**Сейчас:** Тратим больше на токены → показываем максимум ценности → пользователь остаётся
**Потом:** Оптимизируем когда будут данные и понимание что работает

---

## Ключевые цифры из исследований 2025

| Метрика | Значение | Источник |
|---------|----------|----------|
| AI покрывает коучинговых функций | **90%** | Conference Board, Oct 2025 |
| Уходят в первые 30 дней | **52%** | Straits Research |
| Уходят после потери streak | **44%** | Straits Research |
| Уходят в первые 3 дня | **~80%** | Growth-onomics |
| Гипер-персонализация → brand loyalty | **R²=0.908** | ResearchGate |
| Оптимальная длительность интервенции | **4-8 недель** | PMC Meta-Analysis |

---

## Этап 0: Critical First Days (НОВЫЙ) (1 день)

> **Почему это важно:** 80% пользователей уходят в первые 3 дня. Нужен "Aha-момент" до дня 3.

### 0.1 Welcome Sequence Design
Цепочка из 3 сообщений в первые 3 дня:

**День 1 (сразу после онбординга):**
```
Привет, {имя}! Я Саша — твой AI-помощник по целям.
Давай начнём с чего-то простого. Выбери ОДНУ задачу на сегодня — самую важную.
[Выбрать из списка] [Добавить свою]
```

**День 2 (утро):**
```
Доброе утро! Вчера ты выбрал «{задача}».
{Если сделал}: Отлично! Первый шаг сделан.
{Если не сделал}: Ничего — сегодня попробуем снова.
Что на сегодня?
```

**День 3 (вечер) — ПЕРВЫЙ AHA-МОМЕНТ:**
```
{Имя}, прошло 3 дня. Посмотрел на твои данные.
{Инсайт}: Ты закрыл 4 из 6 задач — больше, чем планировал.
{Или}: Заметил: утром ты продуктивнее. 3 из 4 задач — до обеда.
Это уже паттерн. Что думаешь?
```

### 0.2 Aha-момент система
Каждый пользователь должен получить **первый инсайт до дня 3**:

| Тип Aha-момента | Пример |
|-----------------|--------|
| Паттерн времени | "Твой пик — утро" |
| Паттерн задач | "Мелкие задачи летят, большие стоят" |
| Сравнение с планом | "Сделал больше, чем думал" |
| Первая серия | "2 дня подряд — это уже старт" |

### 0.3 Quick Win механика
В первый день — задача, которую легко закрыть:
- Предлагать самую короткую задачу (15 мин)
- Или самую конкретную
- Или привычку (1 действие)

**Цель:** Дать ощущение "я уже что-то сделал" в первый день.

---

## Этап 1: База знаний (2-3 дня)

### 1.1 Коучинговые техники (20-30 штук)
**Источники:**
- Positive Psychology (positivepsychology.com)
- ICF (International Coaching Federation)
- Книги: "The Coaching Habit", "Co-Active Coaching", "Atomic Habits"
- BJ Fogg — Tiny Habits

**Формат:**
```json
{
  "id": "ugly_first_draft",
  "name": "Ugly First Draft",
  "problem": ["perfectionism", "creative_block", "fear_of_judgment"],
  "description": "Напиши худший вариант. Разреши себе сделать плохо. Исправишь потом.",
  "when_to_use": "Когда пользователь застрял на творческой задаче из-за страха",
  "example_intervention": "А что если просто написать самый плохой вариант? Без редактуры, без перфекционизма. Потом исправишь.",
  "source": "Anne Lamott, Bird by Bird"
}
```

**Категории техник:**
- Прокрастинация
- Перфекционизм
- Выгорание
- Мотивация
- Планирование
- Фокусировка
- Страхи и блоки
- Рефлексия

### 1.2 Паттерны поведения (15-20 штук)
**Источники:**
- Исследования: BJ Fogg, James Clear, Nir Eyal
- Reddit: r/productivity, r/getdisciplined
- Научные статьи по behavior change

**Формат:**
```json
{
  "id": "repeated_postponement",
  "name": "Повторный перенос задачи",
  "signal": "task.postponed_count >= 3",
  "likely_causes": [
    "fear_of_failure",
    "task_too_big",
    "unclear_next_step",
    "not_actually_wanted"
  ],
  "effective_interventions": [
    "ask_what_blocks",
    "suggest_smallest_step",
    "question_if_goal_is_real",
    "fear_setting"
  ],
  "ineffective_interventions": [
    "push_harder",
    "add_deadline",
    "motivation_quotes"
  ],
  "example_response": "«{task}» переносится {count}-й раз. Что блокирует: страшно, непонятно или на самом деле не хочется?"
}
```

**Категории паттернов:**
- Паттерны с задачами (перенос, перегруз, псевдопродуктивность)
- Паттерны с привычками (пропуски, серии, спад)
- Эмоциональные паттерны (усталость, выгорание, тревога)
- Временные паттерны (начало/конец недели, утро/вечер)
- Паттерны целей (застой, избегание, фантомные цели)

### 1.3 Синтетические пользователи (10-15 персон)
**Источники:**
- Reddit: r/productivity, r/selfimprovement — реальные истории
- Quora: вопросы про продуктивность
- Отзывы на Habitica, Todoist, Fabulous

**Формат:**
```json
{
  "id": "perfectionist_pete",
  "name": "Перфекционист Петя",
  "age": 28,
  "occupation": "Разработчик",
  "main_pattern": "plans_a_lot_does_little",
  "goals": ["Запустить свой продукт"],
  "typical_behavior": [
    "Много готовится, мало делает",
    "Переносит 'большие' задачи",
    "Закрывает мелочи, избегает главного"
  ],
  "journal_examples": [
    "Сегодня опять не начал писать код. Изучал конкурентов.",
    "Надо сначала всё продумать идеально, потом начну."
  ],
  "effective_approaches": [
    "ugly_first_draft",
    "smallest_next_step",
    "fear_setting"
  ],
  "ineffective_approaches": [
    "push_harder",
    "add_more_structure",
    "motivation_quotes"
  ],
  "what_triggers_churn": [
    "Ощущение что ментор осуждает",
    "Слишком много вопросов",
    "Нет понимания его страха"
  ]
}
```

**Типы персон:**
1. Перфекционист — много готовится, мало делает
2. Выгоревший — перегруз, усталость, чувство вины
3. Мечтатель — цели есть, действий нет
4. Загруженный — реально много дел, нужна помощь с приоритетами
5. Новичок — не знает с чего начать
6. Прокрастинатор — откладывает конкретные типы задач
7. Самокритик — бьёт себя за провалы
8. Оптимист-провальщик — планирует много, делает мало, не парится
9. Тревожный — боится не успеть, перепланирует
10. Застрявший — одна цель стоит месяцами

---

## Этап 2: Личность + Промпты (2-3 дня)

### 2.1 MENTOR_PERSONA.md
Полный документ личности ментора Саши:
- Характер и ценности
- Речевые маркеры
- Фирменные фразы
- Границы (что не делает)
- Примеры диалогов

### 2.2 Обновление chat_bot_response_system.md
- Добавить личность Саши
- Добавить секцию mentor_memory
- Добавить связь с уведомлениями
- Добавить "мощные вопросы"

### 2.3 Структура mentor_memory (ОБНОВЛЕНО)
```json
{
  "user_id": "...",

  // НОВОЕ: Стадия отношений (из исследований 2025)
  "relationship_stage": {
    "current": "building_trust", // introduction | building_trust | deep_partnership | maintained
    "days_in_app": 12,
    "stage_since": "2025-01-08",
    "aha_moments_delivered": 2,
    "last_checkin_response": "positive" // positive | neutral | negative | null
  },

  "facts": {
    "personal": ["работает в IT", "есть ребёнок"],
    "work": ["запускает стартап", "по пятницам встречи"],
    "preferences": ["не любит мотивационные фразы"]
  },

  "patterns": {
    "productive_times": ["утро", "понедельник-среда"],
    "problematic": ["творческие задачи откладывает", "вечером спад"]
  },

  // НОВОЕ: Эмоциональный трекинг (sentiment analysis)
  "emotional_state": {
    "current_trend": "stable", // improving | stable | declining | crisis
    "last_7_days": ["neutral", "positive", "neutral", "negative", "neutral", "neutral", "positive"],
    "burnout_signals": 0, // счётчик сигналов выгорания
    "last_journal_sentiment": "neutral"
  },

  "effective_approaches": [
    {"approach": "ask_what_blocks", "worked": true, "count": 3},
    {"approach": "smallest_step", "worked": true, "count": 5}
  ],

  "ineffective_approaches": [
    {"approach": "motivation_quotes", "worked": false, "count": 2}
  ],

  "conversation_insights": [
    "Боится публиковать — страх оценки",
    "MVP стоит из-за перфекционизма, не из-за времени"
  ],

  "pending_followups": [
    "Спросить про пост в блоге",
    "Узнать как прошла встреча в пятницу"
  ],

  // НОВОЕ: Streak protection
  "streak_data": {
    "longest_streak": 14,
    "current_streaks": {
      "зарядка": 7,
      "медитация": 3
    },
    "recently_broken": null // {"habit": "медитация", "was": 12, "broken_date": "2025-01-18"}
  }
}
```

### 2.4 Relationship Stages Logic (НОВОЕ)

**Автоматический переход между стадиями:**

```javascript
const STAGE_TRANSITIONS = {
  introduction: {
    duration: "days 1-7",
    tone: "дружелюбный, структурированный",
    frequency: "2 сообщения/день",
    focus: "quick wins, первый Aha-момент",
    exit_criteria: "aha_moment_delivered && days >= 7"
  },

  building_trust: {
    duration: "weeks 2-4",
    tone: "персонализированный, с инсайтами",
    frequency: "1-2 сообщения/день",
    focus: "паттерны, глубокие вопросы",
    exit_criteria: "days >= 28 && completion_rate > 40%"
  },

  deep_partnership: {
    duration: "months 2-3",
    tone: "уверенный, прямой",
    frequency: "адаптивная",
    focus: "вызовы, сложные вопросы, рост",
    exit_criteria: "days >= 90"
  },

  maintained: {
    duration: "month 4+",
    tone: "партнёрский, краткий",
    frequency: "низкая, только значимое",
    focus: "неожиданные инсайты, новые вызовы"
  }
}
```

### 2.4 Новые промпты

**journal_response.md**
- Ответ на запись в дневнике
- 2-4 предложения
- Один инсайт или один вопрос

**comeback_notification.md**
- Когда пользователь вернулся после паузы (3+, 7+, 14+ дней)
- Тёплый тон, без осуждения
- Лёгкий старт

**milestone_notification.md**
- Серии привычек (7, 14, 21, 30 дней)
- Завершение целей
- Получение наград

**monthly_review.md**
- Глубокий анализ месяца
- Прогресс по целям
- Главный инсайт
- Вопрос на следующий месяц

**streak_recovery_notification.md (НОВОЕ)**
> 44% пользователей уходят после потери streak — это критическая точка.

- Триггер: серия ≥7 дней прервана
- Тон: поддерживающий, без осуждения
- Цель: вернуть в первые 24 часа

Примеры:
```
// Серия 7-14 дней
Зарядка — 12 дней подряд, вчера пропуск.
Один день — это не провал. Сегодня вернёшься?
[Да, продолжу] [Нужна пауза]

// Серия 15-30 дней
Медитация — 21 день, вчера пропуск.
3 недели — это уже привычка. Один пропуск её не отменяет.
Начать заново проще, чем кажется. [Продолжить]

// Серия 30+ дней
Зарядка — 45 дней, вчера пропуск.
Месяц+ без пропусков — это уже часть тебя. Один день ничего не меняет.
[Продолжаю] [Расскажи что случилось]
```

**relationship_checkin.md (НОВОЕ)**
> Раз в 2 недели — спрашивать об отношениях с ментором.

```
{Имя}, мы работаем уже 2 недели.
Как тебе формат? Что полезно, что раздражает?
[Всё ок] [Хочу изменить кое-что] [Не очень]
```

**ethical_safeguards.md (НОВОЕ)**
> На основе MIND-SAFE framework 2025.

Границы ментора:
- Не терапевт — при кризисе редирект к специалистам
- Не друг — профессиональная дистанция
- Не осуждает — поддерживает при провалах
- Не манипулирует — честность о своих возможностях

Триггеры редиректа:
```javascript
const CRISIS_KEYWORDS = [
  "суицид", "не хочу жить", "бессмысленно всё",
  "депрессия", "не могу встать", "ничего не радует"
];

// При обнаружении:
"Вижу, что сейчас тяжело. Я могу помочь с задачами и привычками,
но для глубокой поддержки лучше поговорить с человеком.
[Телефон доверия] [Найти психолога] [Продолжить разговор]"
```

---

## Этап 3: Интеграция базы знаний (1-2 дня)

### Как работает:
1. Система анализирует ситуацию пользователя
2. Находит релевантные паттерны из базы
3. Подбирает подходящие техники
4. Передаёт в контекст LLM
5. LLM генерирует персонализированный ответ

### Пример:
```
User: "Не могу начать писать пост"

Система определяет:
- Паттерн: creative_block (задача творческая + переносится 4 раза)
- Из памяти: "Боится публиковать — страх оценки"
- Техники: ugly_first_draft, fear_setting

Контекст для LLM:
- Данные пользователя
- Память
- Паттерн: creative_block
- Рекомендуемые техники: ugly_first_draft, fear_setting
- Что НЕ работает: motivation_quotes, push_harder

LLM генерирует:
"«Написать пост» опять перенёс. На прошлой неделе говорил, что страшно публиковать.
Что если написать самый плохой вариант? Без редактуры, просто выплеснуть мысли. Потом исправишь."
```

---

## Этап 4: Тестирование (1-2 дня)

### Процесс:
1. Берём синтетического пользователя (например, "Перфекционист Петя")
2. Заполняем его данные в системе
3. Симулируем диалоги и ситуации
4. Проверяем ответы ментора
5. Фиксим проблемы

### Что проверяем:
- [ ] Ментор не осуждает при провалах
- [ ] Ментор использует правильные техники для паттерна
- [ ] Ментор помнит контекст из прошлых разговоров
- [ ] Ответы не шаблонные, чувствуется личность
- [ ] Не даёт неэффективные интервенции
- [ ] Замечает паттерны и озвучивает их

---

## Структура файлов

```
/docs/promt_AI/
├── MENTOR_DEVELOPMENT_PLAN.md        # Этот файл
├── MENTOR_IMPROVEMENTS_ANALYSIS.md   # Анализ (уже создан)
├── MENTOR_PERSONA.md                 # Личность Саши
│
├── knowledge_base/
│   ├── techniques/
│   │   ├── procrastination.json
│   │   ├── perfectionism.json
│   │   ├── burnout.json
│   │   ├── motivation.json
│   │   ├── planning.json
│   │   └── fears.json
│   ├── patterns/
│   │   ├── task_patterns.json
│   │   ├── habit_patterns.json
│   │   ├── emotional_patterns.json
│   │   └── time_patterns.json
│   └── personas/
│       └── synthetic_users.json
│
├── chat_bot_response_system.md       # Обновлённый
├── message_scoring_system.md         # Без изменений
├── message_scoring_user.md           # Без изменений
│
├── notifications/
│   ├── morning_notification/         # Существует
│   ├── evening_notification/         # Существует
│   ├── weekly_summary/               # Существует
│   ├── monthly_review/               # Новый
│   ├── journal_response/             # Новый
│   ├── comeback_notification/        # Новый
│   ├── milestone_notification/       # Новый
│   ├── streak_recovery/              # НОВЫЙ (2025) — критично!
│   ├── relationship_checkin/         # НОВЫЙ (2025)
│   └── welcome_sequence/             # НОВЫЙ (2025) — Day 1-3
│
└── memory/
    └── mentor_memory_structure.md    # Структура памяти
```

---

## Сроки (ОБНОВЛЕНО)

| Этап | Задачи | Время |
|------|--------|-------|
| **0** | **Critical First Days (Welcome, Aha-моменты)** | **1 день** |
| 1 | База знаний (техники, паттерны, персоны) | 2-3 дня |
| 2 | Личность + промпты + память + stages | 2-3 дня |
| 3 | Интеграция базы в промпты | 1-2 дня |
| 4 | Тестирование на синтетических юзерах | 1-2 дня |
| **Итого** | | **~1.5-2 недели** |

### Приоритеты реализации

**КРИТИЧНО (влияет на 80% retention):**
1. Welcome Sequence (Day 1-3)
2. Первый Aha-момент
3. Streak Recovery
4. Sentiment Analysis дневника

**ВАЖНО (влияет на LTV):**
1. Relationship Stages
2. Emotional State Tracking
3. Relationship Check-ins
4. Monthly Review

**ЖЕЛАТЕЛЬНО (улучшает опыт):**
1. AI-прогнозирование прогресса
2. Wearables интеграция (будущее)
3. Групповые челленджи

---

## Метрики успеха (ОБНОВЛЕНО на основе исследований 2025)

### Качественные метрики:
1. **Качество ответов** — ментор даёт релевантные интервенции
2. **Персонализация** — ответы учитывают историю и паттерны
3. **Живость** — не ощущается как бот
4. **Эмпатия** — при провалах поддерживает, не осуждает
5. **Инсайты** — замечает то, что пользователь не видит

### Количественные метрики (бенчмарки 2025):

| Метрика | Текущий бенчмарк | Наша цель |
|---------|------------------|-----------|
| Day 3 retention | ~20% (индустрия) | **40%** |
| Day 7 retention | ~10% (индустрия) | **30%** |
| Day 30 retention | ~5% (индустрия) | **20%** |
| Aha-момент до Day 3 | — | **>80%** |
| Streak recovery rate | ~56% (если 44% уходят) | **>70%** |
| Relationship checkin positive | — | **>75%** |
| Journal sentiment trend | — | **stable/improving** |

### Воронка стадий отношений:

```
Introduction (Day 1-7)     → 100% новых пользователей
       ↓ (цель: 50%)
Building Trust (Week 2-4)  → 50%
       ↓ (цель: 60%)
Deep Partnership (Month 2-3) → 30%
       ↓ (цель: 70%)
Maintained (Month 4+)      → 21%
```

**Цель:** 21% пользователей доходят до стадии Maintained (4+ месяца)

---

## Следующий шаг

Начинаем с **Этапа 0: Critical First Days**
- Создать Welcome Sequence (3 сообщения)
- Определить типы Aha-моментов
- Реализовать Quick Win механику

Затем **Этап 1: База знаний**
- Создать структуру папок
- Начать сбор коучинговых техник
- Описать паттерны поведения
- Создать синтетических пользователей

---

## Источники для этого плана

Полный обзор исследований: [MENTOR_DEEP_RESEARCH_v2.md](./MENTOR_DEEP_RESEARCH_v2.md)

Ключевые:
- [Conference Board: AI Career Coaching 2025](https://www.conference-board.org/press/ai-can-provide-career-coaching-but-humans-still-matter)
- [Straits Research: Habit Tracking Apps Market](https://straitsresearch.com/report/habit-tracking-apps-market)
- [PMC: MIND-SAFE Framework](https://pmc.ncbi.nlm.nih.gov/articles/PMC12594504/)
- [ResearchGate: AI Personalization Impact](https://www.researchgate.net/publication/390315471)
