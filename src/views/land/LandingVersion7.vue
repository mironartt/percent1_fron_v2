<template>
  <div class="min-h-screen bg-slate-50 font-sans selection:bg-brand-200 selection:text-brand-900">
    <!-- Header -->
    <header :class="[
      'fixed top-0 left-0 right-0 z-50 transition-all duration-300',
      isScrolled ? 'bg-white/80 backdrop-blur-md border-b border-slate-200 py-3' : 'py-6'
    ]">
      <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
        <a href="https://percent1.ru/" class="flex items-center gap-3 hover:opacity-90 transition-opacity">
          <div class="w-10 h-10 bg-brand-600 rounded-xl flex items-center justify-center text-white font-black text-sm shadow-lg shadow-brand-200">
            1%
          </div>
          <span class="font-extrabold text-xl tracking-tight text-slate-900">OnePercent</span>
        </a>

        <nav class="hidden md:flex gap-8 font-semibold text-sm text-slate-600 items-center">
          <a href="#how-it-works" class="hover:text-brand-600 transition">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</a>
          <a href="#pricing" class="hover:text-brand-600 transition">–¢–∞—Ä–∏—Ñ—ã</a>
        </nav>

        <div class="hidden md:flex items-center gap-6">
          <router-link to="/login" class="font-bold text-slate-600 hover:text-brand-600 transition text-sm">
            –í–æ–π—Ç–∏
          </router-link>
          <router-link to="/register" class="bg-brand-600 text-white px-8 py-3.5 rounded-2xl font-black hover:bg-brand-700 transition shadow-lg shadow-brand-200 text-base transform hover:-translate-y-0.5">
            –ù–∞—á–∞—Ç—å
          </router-link>
        </div>

        <button class="md:hidden p-2 text-slate-600" @click="mobileMenuOpen = !mobileMenuOpen">
          <svg v-if="!mobileMenuOpen" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
          <svg v-else xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>

      <div v-if="mobileMenuOpen" class="md:hidden absolute top-full left-0 right-0 bg-white border-b border-slate-100 p-4 shadow-xl flex flex-col gap-4 animate-in slide-in-from-top-2">
        <a href="#how-it-works" class="text-base font-semibold text-slate-700 py-2" @click="mobileMenuOpen = false">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</a>
        <a href="#pricing" class="text-base font-semibold text-slate-700 py-2" @click="mobileMenuOpen = false">–¢–∞—Ä–∏—Ñ—ã</a>
        <div class="h-px bg-slate-100 my-2"></div>
        <div class="flex flex-col gap-3">
          <router-link to="/login" class="text-center font-bold text-slate-600 py-2">–í–æ–π—Ç–∏</router-link>
          <router-link to="/register" class="w-full bg-brand-600 text-center text-white py-3.5 rounded-xl font-bold shadow-lg shadow-brand-200 text-base">–ù–∞—á–∞—Ç—å</router-link>
        </div>
      </div>
    </header>

    <main>
      <!-- Hero Section -->
      <section class="relative pt-28 lg:pt-32 pb-12 lg:pb-16 bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-brand-50 via-slate-50 to-slate-50 overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 text-center relative z-10">
          <div class="inline-block px-4 py-1.5 bg-brand-100 text-brand-700 rounded-full text-xs font-bold uppercase tracking-wider mb-6 border border-brand-200">
            –õ–∏—á–Ω—ã–π AI –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫
          </div>

          <h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 leading-[1.1] text-slate-900">
            –°–∏—Å—Ç–µ–º–Ω—ã–π —Ä–æ—Å—Ç –≤ –∂–∏–∑–Ω–∏ <br />
            <span class="text-gradient text-4xl md:text-5xl lg:text-6xl">—á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</span>
          </h1>

          <p class="text-slate-500 text-base md:text-lg max-w-2xl mx-auto mb-10 leading-relaxed">
            –°–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º. <br class="hidden md:block"/>
            –°—Ç–∞–Ω—å —Å–∏–ª—å–Ω–µ–µ –≤ 38 —Ä–∞–∑ –∑–∞ –æ–¥–∏–Ω –≥–æ–¥.
          </p>
          
          <div class="flex flex-col md:flex-row items-center justify-center gap-6">
            <router-link 
              to="/register" 
              class="w-full md:w-auto bg-brand-600 text-white px-10 py-5 rounded-2xl font-black text-lg hover:scale-105 transition duration-300 shadow-2xl shadow-brand-300"
            >
              –°–¥–µ–ª–∞—Ç—å +1% —É–∂–µ —Å–µ–≥–æ–¥–Ω—è
            </router-link>
            <div class="flex items-center gap-3 text-slate-400 text-sm font-medium">
              <div class="flex -space-x-2">
                <div v-for="i in 3" :key="i" class="w-8 h-8 rounded-full bg-slate-200 border-2 border-white overflow-hidden">
                  <img :src="`https://picsum.photos/seed/${i + 45}/100/100`" alt="User" class="w-full h-full object-cover" />
                </div>
              </div>
              <span>2,847+ —á–µ–ª–æ–≤–µ–∫ —É–∂–µ —Ä–∞—Å—Ç—É—Ç</span>
            </div>
          </div>

          <!-- Calculator (hidden for now) -->
          <div v-if="false" id="method" class="max-w-xl mx-auto bg-white rounded-[32px] p-8 md:p-12 shadow-2xl shadow-slate-200/40 border border-slate-100 text-left">
            <div class="flex justify-between items-start mb-10">
              <div>
                <h3 class="font-black text-3xl mb-2 text-slate-900">–≠—Ñ—Ñ–µ–∫—Ç 1%</h3>
                <p class="text-slate-400 font-medium">–°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –≤ –∂–∏–∑–Ω–∏</p>
              </div>
              <div class="text-6xl font-black text-brand-500 tracking-tighter">x{{ multiplier }}</div>
            </div>
            
            <div class="mb-10">
              <input 
                type="range" 
                min="1" 
                max="365"
                step="1"
                v-model="days"
                class="modern-range"
              />
              <div class="flex justify-between mt-5 text-xs font-bold text-slate-400 uppercase tracking-widest">
                <span>{{ days }} –¥–Ω–µ–π —É—Å–∏–ª–∏–π</span>
                <span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
              </div>
            </div>

            <div class="bg-slate-50 p-6 rounded-2xl border border-slate-100">
              <p class="text-lg font-medium text-slate-800 italic leading-relaxed">
                "{{ effectDescription }}"
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ProblemSolution Section -->
      <section class="py-12 md:py-20 bg-white relative z-20 rounded-t-[2.5rem] md:rounded-t-[4rem] shadow-[0_-20px_40px_-15px_rgba(0,0,0,0.05)]">
        <div class="max-w-7xl mx-auto px-6">
          <div class="text-center mb-12">
            <h2 class="text-2xl md:text-3xl font-bold text-slate-900">
              –ó–Ω–∞–∫–æ–º—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏?
            </h2>
          </div>

          <div class="grid md:grid-cols-3 gap-6">
            <div 
              v-for="(card, idx) in problemCards" 
              :key="idx" 
              :class="[
                'p-6 md:p-8 rounded-3xl bg-white border shadow-lg shadow-slate-200/40 hover:-translate-y-1 transition-transform duration-300 flex flex-col items-center text-center md:items-start md:text-left group',
                card.borderColor
              ]"
            >
              <div :class="['w-14 h-14 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300', card.color]">
                <component :is="card.icon" class="w-7 h-7" :stroke-width="2" />
              </div>
              <p class="text-lg font-bold text-slate-800 leading-snug">
                {{ card.text }}
              </p>
            </div>
          </div>

          <div class="flex justify-center mt-12 opacity-30">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 animate-bounce text-slate-400"><path d="M12 5v14"/><path d="m19 12-7 7-7-7"/></svg>
          </div>
        </div>
      </section>

      <!-- Math Section (hidden for now) -->
      <section v-if="false" class="py-24 bg-white">
        <div class="max-w-5xl mx-auto px-6">
          <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-6">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —É—Å–ø–µ—Ö–∞</h2>
            <p class="text-lg text-slate-500 max-w-2xl mx-auto">
              –£–ª—É—á—à–∞—è —Å–µ–±—è –≤—Å–µ–≥–æ –Ω–∞ 1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∫ –∫–æ–Ω—Ü—É –≥–æ–¥–∞ –≤—ã —Å—Ç–∞–Ω–µ—Ç–µ –≤ 37 —Ä–∞–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ. 
              –≠—Ç–æ —Å–∏–ª–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞, –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–∞—è –∫ –ø—Ä–∏–≤—ã—á–∫–∞–º.
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8 items-center justify-center">
            <div class="bento-card bg-slate-50 border-slate-200">
              <p class="text-xs font-bold uppercase tracking-wider text-slate-400 mb-4">–õ–∏–Ω–µ–π–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</p>
              <div class="text-6xl font-mono font-bold text-slate-300 mb-4 tracking-tighter">
                1.00<span class="text-xl align-top text-slate-400">365</span>
              </div>
              <p class="text-3xl font-bold text-slate-400 mb-2">= 1.00</p>
              <p class="mt-6 text-sm font-medium text-slate-500">
                –î–µ–ª–∞—è –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –≤—ã –æ—Å—Ç–∞–µ—Ç–µ—Å—å –Ω–∞ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ ‚Äî —ç—Ç–æ —Ä–µ–≥—Ä–µ—Å—Å.
              </p>
            </div>

            <div class="bento-card bg-brand-600 border-brand-500 text-white shadow-xl shadow-brand-500/20 transform md:scale-105">
              <p class="text-xs font-bold uppercase tracking-wider text-brand-200 mb-4">–ú–µ—Ç–æ–¥ OnePercent</p>
              <div class="text-6xl font-mono font-bold text-white mb-4 tracking-tighter">
                1.01<span class="text-xl align-top text-brand-200">365</span>
              </div>
              <p class="text-3xl font-bold text-white mb-2">= 37.78</p>
              <p class="mt-6 text-sm font-medium text-brand-100">
                –ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è, —Å–æ–∑–¥–∞–≤–∞—è –ª–∞–≤–∏–Ω—É –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="py-16 md:py-20 bg-slate-50 overflow-hidden" id="how-it-works">
        <div class="max-w-7xl mx-auto px-6">
          <div class="text-center mb-16 max-w-3xl mx-auto">
            <div class="inline-flex items-center gap-2 px-3 py-1 bg-white border border-slate-200 rounded-full text-xs font-bold uppercase tracking-wider mb-6 shadow-sm text-brand-600">
              <Sparkles class="w-3 h-3" />
              <span>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
            </div>
            <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-6 leading-tight">
              –û—Ç —Ö–∞–æ—Å–∞ –∫ –ø–æ—Ä—è–¥–∫—É <br/> <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 to-purple-600">–∑–∞ 6 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤</span>
            </h2>
            <p class="text-lg text-slate-500 leading-relaxed">
              –ú—ã —É–±—Ä–∞–ª–∏ –≤—Å—ë –ª–∏—à–Ω–µ–µ. –û—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –¥–æ—Ñ–∞–º–∏–Ω–æ–≤—É—é –ø–æ–¥–ø–∏—Ç–∫—É –∏ —á–µ—Ç–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã.
            </p>
          </div>

          <div class="space-y-20 md:space-y-24">
            <div 
              v-for="(step, index) in featureSteps" 
              :key="step.id" 
              :class="['flex flex-col gap-12 items-center', index % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse']"
            >
              <!-- Text Section -->
              <div class="flex-1 space-y-8">
                <div class="inline-block px-4 py-1.5 rounded-lg bg-slate-100 text-slate-500 font-bold text-sm">
                  {{ step.subtitle }}
                </div>
                <h3 class="text-2xl md:text-3xl font-bold text-slate-900">
                  {{ step.title }}
                </h3>
                
                <div v-if="step.id === 6" class="space-y-6">
                  <p class="text-lg text-slate-600 leading-relaxed font-medium">
                    XP = –≤–∞–ª—é—Ç–∞ –¥–ª—è —Ç–≤–æ–∏—Ö –∂–µ–ª–∞–Ω–∏–π. –¢—ã —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—à—å –Ω–∞–≥—Ä–∞–¥—ã –∏ —Ü–µ–Ω—É –≤ XP.
                  </p>
                  <div class="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative overflow-hidden group hover:shadow-md transition-all duration-300">
                    <div class="absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b from-brand-500 to-purple-500"></div>
                    <h4 class="font-bold text-slate-900 mb-4 flex items-center gap-2 text-lg">
                      –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥:
                    </h4>
                    <div class="text-base text-slate-600 leading-relaxed space-y-3 relative z-10">
                      <div class="flex gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center font-bold text-xs">1</span>
                        <p>–í –Ω–∞—á–∞–ª–µ –º–µ—Å—è—Ü–∞ —Å–æ—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π</p>
                      </div>
                      <div class="flex gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center font-bold text-xs">2</span>
                        <p>–ù–∞–∑–Ω–∞—á—å —Ü–µ–Ω—É –≤ XP (1 XP ‚âà 10‚ÇΩ)</p>
                      </div>
                      <div class="flex gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center font-bold text-xs">3</span>
                        <p>–í—ã–ø–æ–ª–Ω—è–π –ø—Ä–∏–≤—ã—á–∫–∏, –∫–æ–ø–∏ XP</p>
                      </div>
                      <div class="pl-9 pt-1">
                        <p class="font-bold text-brand-600 bg-brand-50 inline-block px-3 py-1 rounded-lg">–î–æ—Å—Ç–∏–≥ —Ü–µ–ª–∏ ‚Äî –ø–æ—Ä–∞–¥—É–π —Å–µ–±—è –±–µ–∑ –≤–∏–Ω—ã</p>
                      </div>
                    </div>
                  </div>
                </div>
                <p v-else class="text-lg text-slate-600 leading-relaxed">
                  {{ step.description }}
                </p>

                <div class="flex items-center gap-4 pt-4">
                  <div :class="['w-12 h-12 rounded-2xl flex items-center justify-center shadow-sm', step.color]">
                    <component :is="step.icon" class="w-6 h-6" />
                  </div>
                  <div class="text-sm font-bold text-slate-400 uppercase tracking-widest">
                    OnePercent System
                  </div>
                </div>
              </div>

              <!-- Visual Section -->
              <div class="flex-1 w-full">
                <div :class="['relative rounded-3xl p-1 ring-1 ring-slate-900/5 shadow-2xl', `bg-gradient-to-br ${step.gradient}`]">
                  <div class="bg-white/80 backdrop-blur-sm rounded-[20px] overflow-hidden border border-white/50 min-h-[320px] md:min-h-[400px] flex flex-col">
                    
                    <div class="h-10 bg-slate-50 border-b border-slate-100 flex items-center px-4 gap-2">
                      <div class="flex gap-1.5">
                        <div class="w-3 h-3 rounded-full bg-slate-200"></div>
                        <div class="w-3 h-3 rounded-full bg-slate-200"></div>
                        <div class="w-3 h-3 rounded-full bg-slate-200"></div>
                      </div>
                      <div class="ml-4 bg-white px-3 py-1 rounded text-[10px] text-slate-400 font-medium border border-slate-100 shadow-sm flex-1 text-center">
                        OnePercent AI
                      </div>
                    </div>

                    <div class="flex-1 p-6 md:p-8 flex items-center justify-center bg-slate-50/50 relative overflow-hidden">
                      <div :class="['absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] opacity-20 blur-3xl pointer-events-none', `bg-gradient-to-br ${step.gradient}`]"></div>

                      <div class="relative w-full z-10 flex justify-center">
                        <!-- Step 1: Wheel of Life -->
                        <div v-if="step.id === 1" class="bg-white rounded-2xl p-6 shadow-xl shadow-slate-200/50 border border-slate-100 w-full max-w-md">
                          <WheelOfLifeMockup />
                        </div>

                        <!-- Step 2: AI Goals Chat -->
                        <div v-else-if="step.id === 2" class="space-y-4 max-w-md w-full">
                          <div class="flex gap-4 items-start animate-in fade-in slide-in-from-bottom-4 duration-700">
                            <div class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center shrink-0">
                              <TrendingUp class="w-5 h-5 text-orange-600"/>
                            </div>
                            <div class="bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-slate-100 text-sm text-slate-600">
                              <p>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –î–æ—Ö–æ–¥ 100–∫ ‚ÇΩ, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è 0 ‚ÇΩ. –§–∏–Ω–∞–Ω—Å—ã ‚Äî –∑–æ–Ω–∞ —Ä–∏—Å–∫–∞.</p>
                            </div>
                          </div>
                          <div class="flex gap-4 items-start flex-row-reverse animate-in fade-in slide-in-from-bottom-4 duration-700 delay-300">
                            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0 border-2 border-white">
                              <img src="https://picsum.photos/seed/user/100/100" alt="Me" />
                            </div>
                            <div class="bg-brand-600 p-4 rounded-2xl rounded-tr-none shadow-md text-sm text-white">
                              <p>–•–æ—á—É –Ω–∞–∫–æ–ø–∏—Ç—å 300 000 ‚ÇΩ, –Ω–æ –¥–µ–Ω—å–≥–∏ "—É—Ç–µ–∫–∞—é—Ç" –∫ –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞.</p>
                            </div>
                          </div>
                          <div class="flex gap-4 items-start animate-in fade-in slide-in-from-bottom-4 duration-700 delay-700">
                            <div class="w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center shrink-0">
                              <Target class="w-5 h-5 text-brand-600"/>
                            </div>
                            <div class="bg-white p-4 rounded-2xl rounded-tl-none shadow-lg border border-brand-100 text-sm relative overflow-hidden">
                              <div class="absolute top-0 left-0 w-1 h-full bg-brand-500"></div>
                              <p class="font-bold text-slate-900 mb-1">–¶–µ–ª—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∞:</p>
                              <p class="text-slate-600">"–û—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å 20% (20 000 ‚ÇΩ) –≤ –¥–µ–Ω—å –∑–∞—Ä–ø–ª–∞—Ç—ã. –ù–∞–∫–æ–ø–∏—Ç—å 300–∫ –∑–∞ 15 –º–µ—Å—è—Ü–µ–≤."</p>
                            </div>
                          </div>
                        </div>

                        <!-- Step 3: Decomposition -->
                        <div v-else-if="step.id === 3" class="max-w-sm w-full bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden">
                          <div class="p-4 bg-slate-50 border-b border-slate-100 flex justify-between items-center">
                            <span class="font-bold text-slate-700">–ü–ª–∞–Ω: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞</span>
                            <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold">–ê–∫—Ç–∏–≤–µ–Ω</span>
                          </div>
                          <div class="p-4 space-y-6">
                            <div class="relative pl-6 border-l-2 border-slate-200">
                              <div class="absolute -left-[9px] top-0 w-4 h-4 bg-brand-600 rounded-full border-4 border-white shadow-sm"></div>
                              <p class="text-xs text-slate-400 font-bold uppercase mb-1">–ù–µ–¥–µ–ª—è 1: –ê—É–¥–∏—Ç</p>
                              <p class="text-sm font-medium text-slate-800">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä —Ä–∞—Å—Ö–æ–¥–æ–≤. –ó–∞–ø–∏—Å–∞—Ç—å –∫–∞–∂–¥—É—é —Ç—Ä–∞—Ç—É, –¥–∞–∂–µ –∫–æ—Ñ–µ.</p>
                            </div>
                            <div class="relative pl-6 border-l-2 border-slate-200">
                              <div class="absolute -left-[9px] top-0 w-4 h-4 bg-slate-300 rounded-full border-4 border-white"></div>
                              <p class="text-xs text-slate-400 font-bold uppercase mb-1">–ù–µ–¥–µ–ª—è 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</p>
                              <p class="text-sm font-medium text-slate-800">–ù–∞–π—Ç–∏ "–¥—ã—Ä—ã" (–ø–æ–¥–ø–∏—Å–∫–∏, —Ç–∞–∫—Å–∏). –°–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ 5000 ‚ÇΩ.</p>
                            </div>
                            <div class="relative pl-6 border-l-2 border-slate-200">
                              <div class="absolute -left-[9px] top-0 w-4 h-4 bg-slate-300 rounded-full border-4 border-white"></div>
                              <p class="text-xs text-slate-400 font-bold uppercase mb-1">–ù–µ–¥–µ–ª—è 3-4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</p>
                              <p class="text-sm font-medium text-slate-800">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂ 20 000 ‚ÇΩ –Ω–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç –≤ –¥–µ–Ω—å –ó–ü.</p>
                            </div>
                          </div>
                        </div>

                        <!-- Step 4: Focus Day -->
                        <div v-else-if="step.id === 4" class="max-w-sm w-full">
                          <div class="text-center mb-6">
                            <div class="inline-block px-3 py-1 rounded-full bg-slate-900 text-white text-xs font-bold mb-2">–°–µ–≥–æ–¥–Ω—è</div>
                            <div class="text-3xl font-black text-slate-800">08:00 AM</div>
                          </div>
                          <div class="bg-white p-6 rounded-3xl shadow-2xl shadow-brand-500/20 border border-brand-100 transform hover:scale-105 transition duration-300 cursor-pointer relative group">
                            <div class="absolute top-4 right-4 w-6 h-6 rounded-full border-2 border-brand-200 flex items-center justify-center group-hover:bg-brand-500 group-hover:border-brand-500 transition-colors">
                              <CheckSquare class="w-3 h-3 text-white opacity-0 group-hover:opacity-100" />
                            </div>
                            <p class="text-xs text-brand-500 font-bold uppercase tracking-wider mb-2">–ì–ª–∞–≤–Ω—ã–π —Ñ–æ–∫—É—Å</p>
                            <h4 class="text-xl font-bold text-slate-900 mb-2">–ú–µ–¥–ª–µ–Ω–Ω—ã–π –±–µ–≥</h4>
                            <p class="text-slate-500 text-sm mb-4">–ó–æ–Ω–∞ 2 –ø—É–ª—å—Å–∞, 30 –º–∏–Ω—É—Ç. –ù–µ —É—Å–∫–æ—Ä—è—Ç—å—Å—è.</p>
                            <div class="flex items-center gap-2">
                              <span class="px-2 py-1 bg-brand-50 text-brand-700 text-xs font-bold rounded">+150 XP</span>
                              <span class="px-2 py-1 bg-slate-100 text-slate-600 text-xs font-bold rounded">–ó–¥–æ—Ä–æ–≤—å–µ</span>
                            </div>
                          </div>
                        </div>

                        <!-- Step 5: Habits -->
                        <div v-else-if="step.id === 5" class="w-full max-w-md mx-auto bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden transform hover:-translate-y-1 transition-transform duration-300">
                          <div class="bg-slate-50/80 backdrop-blur-sm p-4 border-b border-slate-100 flex justify-between items-center">
                            <div class="flex items-center gap-2.5">
                              <div class="w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center">
                                <Repeat class="w-4 h-4" />
                              </div>
                              <span class="font-bold text-slate-700 text-sm">–¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</span>
                            </div>
                            <div class="px-2.5 py-1 bg-white rounded-lg border border-slate-200 text-[10px] font-bold text-slate-500 shadow-sm flex items-center gap-1.5">
                              <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                              –°–µ–≥–æ–¥–Ω—è
                            </div>
                          </div>
                          
                          <div class="p-4 space-y-3 bg-white">
                            <div v-for="(habit, hIdx) in habitsMockup" :key="hIdx" class="bg-slate-50 p-3.5 rounded-2xl border border-slate-100 flex flex-col gap-3 group hover:bg-white hover:shadow-md hover:border-indigo-100 transition-all duration-300">
                              <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                  <div :class="['w-8 h-8 rounded-full flex items-center justify-center shrink-0', habit.iconBg]">
                                    <component :is="habit.icon" :size="16" :class="habit.iconColor" />
                                  </div>
                                  <span :class="['font-bold text-sm', habit.done ? 'text-slate-500 line-through decoration-slate-300' : 'text-slate-700']">{{ habit.name }}</span>
                                </div>
                                <span :class="['text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full whitespace-nowrap', habit.done ? 'opacity-50' : '']">+{{ habit.xp }} XP</span>
                              </div>
                              <div :class="['flex justify-between items-center pt-1', habit.done ? 'opacity-60' : '']">
                                <div class="flex gap-1">
                                  <div 
                                    v-for="(d, i) in ['–ü','–í','–°','–ß','–ü','–°','–í']" 
                                    :key="i" 
                                    :class="[
                                      'w-6 h-6 rounded-lg flex items-center justify-center text-[10px] font-bold transition-all',
                                      habit.activeDays.includes(i) ? 'bg-emerald-500 text-white shadow-sm shadow-emerald-200' : 'bg-white text-slate-300',
                                      habit.currentDay === i ? 'ring-2 ring-indigo-500 ring-offset-1' : ''
                                    ]"
                                  >
                                    {{ d }}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Step 6: Gamification -->
                        <div v-else-if="step.id === 6" class="w-full max-w-md mx-auto">
                          <div class="bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden p-6">
                            <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 rounded-full text-xs font-bold text-emerald-600 mb-4">
                              <Sparkles class="w-3 h-3" />
                              <span>–ü—Ä–æ—à–ª–æ 3 –º–µ—Å—è—Ü–∞. 2450 XP –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ.</span>
                            </div>
                            
                            <div class="bg-gradient-to-br from-brand-600 to-purple-600 rounded-2xl p-5 mb-4">
                              <p class="text-xs font-bold text-brand-200 uppercase tracking-wider mb-1">–¢–í–û–ô –ë–ê–õ–ê–ù–°</p>
                              <p class="text-4xl font-black text-white">2450 <span class="text-xl">XP</span></p>
                            </div>

                            <div class="flex items-start gap-3 p-4 bg-slate-50 rounded-xl border border-slate-100 mb-4">
                              <div class="w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center shrink-0">
                                <MessageCircle class="w-4 h-4 text-white" />
                              </div>
                              <p class="text-xs text-slate-600 leading-relaxed">
                                <span class="font-bold text-brand-600">AI –ú–µ–Ω—Ç–æ—Ä:</span> –ú–∞–∫—Å–∏–º, —Ö–≤–∞—Ç–∞–µ—Ç –Ω–∞ –Ω–æ–≤—É—é –∏–≥—Ä—É! –≠—Ç–æ –Ω–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ü–µ–ª–∏ "–°–ø–æ—Ä—Ç". –û—Ç–¥—ã—Ö –≤–∞–∂–µ–Ω.
                              </p>
                            </div>

                            <div class="space-y-2">
                              <div class="flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-100">
                                <div class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center">
                                  <Check class="w-4 h-4 text-slate-400" />
                                </div>
                                <div class="flex-1">
                                  <p class="text-sm font-bold text-slate-700">–í–µ—á–µ—Ä –∫–∏–Ω–æ</p>
                                  <p class="text-xs text-slate-400">500 XP</p>
                                </div>
                                <span class="text-xs text-slate-400">–ü–æ–ª—É—á–µ–Ω–æ</span>
                              </div>
                              <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-xl border border-blue-200">
                                <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                                  <Zap class="w-4 h-4 text-white" />
                                </div>
                                <div class="flex-1">
                                  <p class="text-sm font-bold text-slate-700">–ù–æ–≤–∞—è –∏–≥—Ä–∞</p>
                                  <p class="text-xs text-slate-400">1500 XP</p>
                                </div>
                                <button class="px-3 py-1 bg-blue-500 text-white text-xs font-bold rounded-lg">–î–æ—Å—Ç—É–ø–Ω–æ!</button>
                              </div>
                              <div class="flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-100">
                                <div class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center">
                                  <Map class="w-4 h-4 text-slate-500" />
                                </div>
                                <div class="flex-1">
                                  <p class="text-sm font-bold text-slate-700">–ü–æ–µ–∑–¥–∫–∞</p>
                                  <p class="text-xs text-slate-400">5000 XP</p>
                                </div>
                                <span class="text-sm font-bold text-slate-500">49%</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Mentor Section -->
      <section class="py-16 md:py-20 bg-white overflow-hidden relative">
        <div class="absolute top-1/2 right-0 -translate-y-1/2 w-[600px] h-[600px] bg-brand-50/50 rounded-full blur-3xl -z-10 pointer-events-none opacity-60"></div>

        <div class="max-w-7xl mx-auto px-6">
          <div class="flex justify-center mb-16 md:mb-20">
            <div class="bg-emerald-50/80 backdrop-blur-sm border border-emerald-100 rounded-full px-6 py-3 text-center shadow-sm">
              <p class="text-sm md:text-base text-emerald-800">
                <span class="font-bold bg-emerald-200/50 px-2 py-0.5 rounded-md mr-1">–ü—Ä–æ–±–ª–µ–º–∞:</span> 68% –±—Ä–æ—Å–∞—é—Ç –ø–æ—Å–ª–µ 3 –º–µ—Å—è—Ü–µ–≤. 
                <span class="mx-2 text-emerald-300">|</span>
                <span class="font-bold bg-emerald-200/50 px-2 py-0.5 rounded-md mr-1">–†–µ—à–µ–Ω–∏–µ:</span> AI –ú–µ–Ω—Ç–æ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.
              </p>
            </div>
          </div>

          <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            <div class="order-2 lg:order-1">
              <div class="inline-flex items-center gap-2 px-3 py-1 bg-brand-50 border border-brand-100 rounded-full text-xs font-bold uppercase tracking-wider mb-6 text-brand-600">
                <MessageCircle class="w-3 h-3" />
                <span>–í—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º</span>
              </div>

              <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-6 leading-[1.1]">
                –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—É—á <br/> –Ω–∞ —Å–≤—è–∑–∏
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 to-purple-600 ml-3">24/7</span>
              </h2>
              
              <p class="text-lg text-slate-500 mb-10 leading-relaxed max-w-lg">
                AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–≤–æ–∏ —Ü–µ–ª–∏, —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã. –ó–∞–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã —Ç—ã —Å–∞–º –Ω–∞—à—ë–ª –æ—Ç–≤–µ—Ç—ã, –∫–æ–≥–¥–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ –Ω—É–ª–µ.
              </p>

              <div class="relative pl-4 mb-12 space-y-8">
                <div class="absolute left-[27px] top-4 bottom-4 w-0.5 bg-gradient-to-b from-brand-200 via-brand-100 to-transparent"></div>

                <div v-for="(role, rIdx) in mentorRoles" :key="rIdx" class="relative flex gap-5 items-start group">
                  <div :class="[
                    'w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 z-10 transition-all duration-300',
                    role.active 
                      ? 'bg-gradient-to-br from-brand-600 to-purple-600 shadow-lg shadow-brand-500/30 transform scale-105' 
                      : 'bg-white border-2 border-slate-100 shadow-sm group-hover:border-brand-200 group-hover:scale-105'
                  ]">
                    <component :is="role.icon" :class="['w-6 h-6', role.active ? 'text-white' : 'text-slate-400 group-hover:text-brand-600 transition-colors']" />
                  </div>
                  <div>
                    <h4 class="font-bold text-slate-900 text-lg">{{ role.title }}</h4>
                    <p class="text-xs font-bold text-brand-500 uppercase tracking-wider mb-1">{{ role.period }}</p>
                    <p class="text-slate-500 text-sm leading-relaxed">{{ role.description }}</p>
                  </div>
                </div>
              </div>

              <div class="hidden lg:flex items-start gap-4 p-5 bg-slate-50 rounded-2xl border border-slate-100">
                <div class="text-4xl leading-none text-brand-300 font-serif opacity-50">"</div>
                <div>
                  <p class="text-slate-700 italic mb-3 font-medium text-base leading-relaxed">
                    AI –º–µ–Ω—Ç–æ—Ä ‚Äî –≥–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É —è –Ω–µ –±—Ä–æ—Å–∏–ª. –û–Ω –Ω–µ –¥–∞–≤–∏—Ç, –∞ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–µ–±–µ –∏ –º—è–≥–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ–∫—É—Å, –∫–æ–≥–¥–∞ –æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ä—É–∫–∏.
                  </p>
                  <div class="flex items-center gap-2">
                    <div class="w-6 h-6 rounded-full bg-slate-300 overflow-hidden">
                      <img src="https://picsum.photos/seed/sergey/100/100" alt="Avatar" class="w-full h-full object-cover" />
                    </div>
                    <p class="font-bold text-slate-900 text-sm">–°–µ—Ä–≥–µ–π, e-commerce</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Phone Mockup -->
            <div class="order-1 lg:order-2 flex flex-col items-center relative perspective-1000">
              <div class="relative animate-float">
                <div class="absolute -bottom-10 left-10 right-10 h-8 bg-black/20 blur-xl rounded-[100%]"></div>
                
                <div class="relative w-[320px] md:w-[340px] h-[660px] bg-slate-900 rounded-[3.5rem] shadow-[0_50px_100px_-20px_rgba(50,50,93,0.25),0_30px_60px_-30px_rgba(0,0,0,0.3),inset_-2px_-2px_4px_rgba(255,255,255,0.1)] border-[10px] border-slate-900 overflow-hidden ring-1 ring-white/10">
                  <div class="absolute top-0 right-0 w-2/3 h-full bg-gradient-to-l from-white/5 to-transparent pointer-events-none z-30"></div>
                  <div class="absolute top-0 w-full h-7 bg-slate-900 z-20 flex justify-center items-end pb-1">
                    <div class="w-20 h-4 bg-black rounded-full"></div>
                  </div>

                  <div class="bg-[#517da2] p-4 pt-10 text-white flex items-center gap-3 shadow-md relative z-10">
                    <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center p-0.5 ring-2 ring-white/20">
                      <img src="https://api.dicebear.com/7.x/bottts/svg?seed=OnePercent" alt="AI" class="w-full h-full rounded-full bg-slate-100" />
                    </div>
                    <div>
                      <h4 class="font-bold text-base leading-tight">AI –ú–µ–Ω—Ç–æ—Ä 1%</h4>
                      <p class="text-xs text-blue-100 opacity-90">bot</p>
                    </div>
                  </div>

                  <div class="bg-[#8e9eab] bg-gradient-to-br from-[#eef2f3] to-[#8e9eab] h-full overflow-y-auto p-3 space-y-4 pb-20 font-sans text-sm relative">
                    <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(#444 1px, transparent 1px); background-size: 20px 20px;"></div>
                    
                    <div class="bg-white p-3.5 rounded-2xl rounded-tl-sm shadow-sm max-w-[95%] text-slate-800 relative z-10 leading-snug">
                      <p class="mb-2.5">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ú–∞–∫—Å–∏–º! <br/> –°–µ–≥–æ–¥–Ω—è ‚Äî –≤—Ç–æ—Ä–Ω–∏–∫.</p>
                      <p class="font-bold mb-1.5 text-brand-900">–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:</p>
                      <ul class="space-y-1.5 mb-3">
                        <li class="flex items-start gap-2">
                          <span class="mt-0.5 shrink-0">üé®</span>
                          <span>–ü–µ—Ä–≤–∞—è –ø—Ä–æ–±–∞ —Ö–æ–±–±–∏ [‚Üí –•–æ–±–±–∏ 2—á –≤ –Ω–µ–¥–µ–ª—é]</span>
                        </li>
                        <li class="flex items-start gap-2">
                          <span class="text-red-500 mt-0.5 shrink-0">‚ù§</span>
                          <span>–í–µ—á–µ—Ä —Å —Å–µ–º—å—ë–π [‚Üí –í–µ—á–µ—Ä —Å —Å–µ–º—å—ë–π 3—Ö –≤ –Ω–µ–¥–µ–ª—é]</span>
                        </li>
                      </ul>
                      
                      <p class="font-bold mb-1.5 mt-3 text-brand-900">–ü—Ä–∏–≤—ã—á–∫–∏:</p>
                      <ul class="space-y-1.5 text-slate-600 text-xs">
                        <li class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-brand-500 rounded-full"></div> –•–æ–±–±–∏ 2—á/–Ω–µ–¥–µ–ª—é</li>
                        <li class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-brand-500 rounded-full"></div> –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ–±–∑–æ—Ä</li>
                        <li class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-brand-500 rounded-full"></div> –£–∂–∏–Ω —Å —Å–µ–º—å—ë–π</li>
                      </ul>

                      <p class="mt-3 pt-3 border-t border-slate-100 text-slate-600 italic">
                        –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: —É —Ç–µ–±—è –µ—Å—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ ¬´–í—ã–±—Ä–∞—Ç—å —Ö–æ–±–±–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é¬ª ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –Ω–∞—á–∞—Ç—å —Å –Ω–µ—ë.
                      </p>

                      <div class="text-[10px] text-slate-400 text-right mt-1.5 font-medium">08:00</div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="lg:hidden mt-12 text-center max-w-sm">
                <p class="text-slate-600 italic mb-4 font-medium">
                  "AI –º–µ–Ω—Ç–æ—Ä ‚Äî –≥–ª–∞–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É —è –Ω–µ –±—Ä–æ—Å–∏–ª. –û–Ω –Ω–µ –¥–∞–≤–∏—Ç, –∞ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–µ–±–µ."
                </p>
                <p class="font-bold text-slate-900 text-sm">
                  ‚Äî –°–µ—Ä–≥–µ–π, e-commerce
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Final CTA Section -->
      <section class="py-16 md:py-20 bg-gradient-to-br from-brand-600 to-purple-700 relative overflow-hidden text-white">
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
          <div class="absolute top-1/2 left-1/4 w-[500px] h-[500px] bg-brand-500 rounded-full mix-blend-overlay filter blur-[128px] opacity-30 animate-pulse"></div>
          <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500 rounded-full mix-blend-overlay filter blur-[128px] opacity-30"></div>
        </div>

        <div class="max-w-5xl mx-auto px-6 relative z-10">
          <h2 class="text-3xl md:text-4xl font-black text-center mb-10 md:mb-12 leading-tight drop-shadow-sm">
            –¢—ã –ø—Ä–æ—à—ë–ª –ø—É—Ç—å <br class="md:hidden"/> –æ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
          </h2>

          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-12 md:mb-16">
            <div 
              v-for="(item, i) in ctaItems" 
              :key="i" 
              class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-5 md:p-6 flex items-center gap-4 hover:bg-white/20 transition duration-300 shadow-lg shadow-brand-900/10 group"
            >
              <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-300 ring-1 ring-white/30">
                <Check class="w-5 h-5 text-white" :stroke-width="3" />
              </div>
              <span class="font-medium text-lg leading-snug tracking-tight text-white/95">{{ item }}</span>
            </div>
          </div>

          <div class="flex flex-col items-center gap-8">
            <router-link 
              to="/register" 
              class="w-full md:w-auto bg-white text-brand-700 px-8 py-5 rounded-2xl font-black text-lg md:text-xl hover:scale-105 hover:shadow-2xl hover:shadow-white/20 transition duration-300 flex items-center justify-center gap-3 group"
            >
              –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞ 2 –º–∏–Ω—É—Ç—ã
              <ArrowRight class="w-5 h-5 group-hover:translate-x-1 transition-transform" />
            </router-link>

            <div class="flex flex-col md:flex-row items-center gap-4 md:gap-8 text-sm font-medium text-brand-100/90">
              <div class="flex items-center gap-2">
                <Check class="w-4 h-4" />
                <span>–ë–µ–∑ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã</span>
              </div>
              <div class="flex items-center gap-2">
                <Check class="w-4 h-4" />
                <span>–û—Ç–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ –≤ 1 –∫–ª–∏–∫</span>
              </div>
            </div>

            <div class="mt-4 bg-brand-800/30 backdrop-blur-md border border-white/10 rounded-full pl-4 pr-6 py-2 flex items-center gap-3 text-sm font-medium animate-in fade-in slide-in-from-bottom-4 duration-1000">
              <span class="animate-pulse">üî•</span>
              <span><span class="font-bold text-white">2 847</span> —á–µ–ª–æ–≤–µ–∫ —É–∂–µ —Ä–∞—Å—Ç—É—Ç –Ω–∞ 1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section class="py-16 md:py-20 bg-white border-t border-slate-100">
        <div class="max-w-7xl mx-auto px-6">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-6">–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤—Ä–µ–º–µ–Ω–µ–º</h2>
            <p class="text-lg text-slate-500 max-w-2xl mx-auto">
              –í–µ–ª–∏—á–∞–π—à–∏–µ —É–º—ã –∏—Å—Ç–æ—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑–≤–∏—Ç–∏—é –∑–∞–¥–æ–ª–≥–æ –¥–æ –Ω–∞—Å
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            <div 
              v-for="(person, idx) in testimonials" 
              :key="idx" 
              class="bg-white rounded-[32px] p-8 border border-slate-200 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col sm:flex-row gap-6 items-start group"
            >
              <div class="shrink-0">
                <div class="w-16 h-16 rounded-full bg-brand-500 flex items-center justify-center shadow-lg shadow-brand-200 group-hover:scale-110 transition-transform duration-300">
                  <component :is="person.icon" class="w-8 h-8 text-white" :stroke-width="1.5" />
                </div>
              </div>

              <div class="flex-1">
                <h3 class="text-xl font-bold text-slate-900 mb-1">{{ person.name }}</h3>
                <p class="text-sm text-slate-500 mb-4">{{ person.role }}</p>
                
                <div class="flex gap-3 mb-4">
                  <Quote class="w-5 h-5 text-brand-400 fill-brand-100 shrink-0 transform scale-x-[-1]" />
                  <p class="text-slate-800 font-medium italic leading-relaxed">
                    ¬´{{ person.quote }}¬ª
                  </p>
                </div>
                
                <p class="text-sm text-slate-500 leading-relaxed border-t border-slate-100 pt-4">
                  {{ person.description }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Pricing Section -->
      <section class="py-16 md:py-20 bg-slate-50 relative overflow-hidden" id="pricing">
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
          <div class="absolute top-1/2 left-0 w-96 h-96 bg-brand-200 rounded-full mix-blend-multiply filter blur-[128px] opacity-40"></div>
          <div class="absolute bottom-0 right-0 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-[128px] opacity-40"></div>
        </div>

        <div class="max-w-7xl mx-auto px-6 relative z-10">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-black text-slate-900 mb-4">–ü—Ä–æ—Å—Ç–∞—è –∏ —á–µ—Å—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</h2>
            <p class="text-lg text-slate-500">–ë–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π. –û—Ç–º–µ–Ω–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.</p>
          </div>

          <div v-if="pricingTerms.length > 0" class="flex flex-wrap justify-center gap-3 md:gap-4 mb-16">
            <button
              v-for="term in pricingTerms"
              :key="term.id"
              @click="selectTerm(term.id)"
              :class="[
                'relative px-5 py-3 md:px-6 rounded-2xl font-bold transition-all duration-300 border-2 text-sm md:text-base',
                selectedTerm?.id === term.id 
                  ? 'bg-brand-600 border-brand-600 text-white shadow-lg shadow-brand-500/30 transform scale-105' 
                  : 'bg-white border-slate-200 text-slate-600 hover:border-brand-200 hover:bg-slate-50'
              ]"
            >
              {{ term.title }}
              <span 
                v-if="term.discount > 0" 
                :class="[
                  'absolute -top-2.5 -right-2 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-sm transition-colors',
                  selectedTerm?.id === term.id ? 'bg-white text-brand-600' : 'bg-emerald-500 text-white'
                ]"
              >
                -{{ term.discount }}%
              </span>
              <span v-if="term.is_hit" class="absolute -top-6 -right-6 md:-right-8 bg-amber-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-md transform rotate-12 shadow-sm">
                –•–ò–¢
              </span>
            </button>
          </div>
          <div v-else class="flex flex-wrap justify-center gap-3 md:gap-4 mb-16">
            <button
              v-for="p in pricingPeriods"
              :key="p.value"
              @click="billingCycle = p.value"
              :class="[
                'relative px-5 py-3 md:px-6 rounded-2xl font-bold transition-all duration-300 border-2 text-sm md:text-base',
                billingCycle === p.value 
                  ? 'bg-brand-600 border-brand-600 text-white shadow-lg shadow-brand-500/30 transform scale-105' 
                  : 'bg-white border-slate-200 text-slate-600 hover:border-brand-200 hover:bg-slate-50'
              ]"
            >
              {{ p.label }}
              <span 
                v-if="p.discount" 
                :class="[
                  'absolute -top-2.5 -right-2 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-sm transition-colors',
                  billingCycle === p.value ? 'bg-white text-brand-600' : 'bg-emerald-500 text-white'
                ]"
              >
                {{ p.discount }}
              </span>
              <span v-if="p.hit" class="absolute -top-6 -right-6 md:-right-8 bg-amber-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-md transform rotate-12 shadow-sm">
                –•–ò–¢
              </span>
            </button>
          </div>

          <div class="grid lg:grid-cols-3 gap-6 items-start">
            <template v-if="pricingTariffs.length > 0">
              <div 
                v-for="(tariff, index) in pricingTariffs" 
                :key="tariff.id"
                :class="[
                  'rounded-[32px] p-8 border shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full relative',
                  tariff.is_popular 
                    ? 'bg-brand-600 border-brand-500 shadow-2xl shadow-brand-500/30 transform lg:-translate-y-4 z-10 text-white' 
                    : tariff.is_soon 
                      ? 'bg-slate-700 border-slate-600 shadow-xl text-slate-200'
                      : 'bg-white border-slate-200 group'
                ]"
              >
                <div v-if="tariff.is_popular" class="absolute -top-4 left-1/2 -translate-x-1/2 bg-amber-400 text-amber-900 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider shadow-lg">
                  –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä
                </div>
                
                <h3 :class="['text-2xl font-black mb-2', tariff.is_popular || tariff.is_soon ? 'text-white' : 'text-slate-900']">
                  {{ tariff.title }}
                </h3>
                <div class="flex items-baseline gap-2 mb-2">
                  <span :class="['text-4xl font-black', tariff.is_popular || tariff.is_soon ? 'text-white' : 'text-slate-900']">
                    {{ formatPrice(getTariffPrice(tariff).price) }} ‚ÇΩ
                  </span>
                  <span :class="['text-sm font-medium', tariff.is_popular ? 'opacity-60' : tariff.is_soon ? 'text-slate-400' : 'text-slate-400']">
                    {{ getTariffPrice(tariff).period }}
                  </span>
                </div>
                <div v-if="getTariffSavings(tariff) > 0" :class="['text-xs font-medium mb-2', tariff.is_popular ? 'text-brand-200' : 'text-emerald-600']">
                  –≠–∫–æ–Ω–æ–º–∏—è {{ formatPrice(getTariffSavings(tariff)) }} ‚ÇΩ
                </div>
                <p v-if="tariff.description" :class="['text-sm mb-8 leading-relaxed', tariff.is_popular ? 'text-brand-100 opacity-90' : tariff.is_soon ? 'text-slate-400' : 'text-slate-500']">
                  {{ tariff.description }}
                </p>

                <ul class="space-y-4 mb-8 flex-1">
                  <li v-for="item in getSortedFeatureItems(tariff)" :key="item.id" class="flex items-start gap-3">
                    <div v-if="tariff.is_popular" class="w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0">
                      <Check class="w-3 h-3 text-white" />
                    </div>
                    <Check v-else :class="['w-5 h-5 shrink-0', tariff.is_soon ? 'text-slate-400' : 'text-emerald-500']" />
                    <span :class="['text-sm font-medium', tariff.is_popular ? 'text-white' : tariff.is_soon ? 'text-slate-300' : 'text-slate-600']">
                      {{ item.text }}
                    </span>
                  </li>
                </ul>

                <a 
                  v-if="!tariff.is_soon"
                  href="https://percent1.ru/auth/register" 
                  target="_blank"
                  :class="[
                    'w-full rounded-2xl py-4 font-bold transition text-center block',
                    tariff.is_popular 
                      ? 'bg-white text-brand-600 hover:bg-slate-50 shadow-lg' 
                      : tariff.code === 'free' 
                        ? 'border-2 border-brand-600 text-brand-600 hover:bg-brand-50'
                        : 'bg-brand-600 text-white hover:bg-brand-700'
                  ]"
                >
                  {{ tariff.code === 'free' ? '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ' : '–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å' }}
                </a>
                <button v-else disabled class="w-full rounded-2xl py-4 bg-slate-600 text-slate-400 cursor-not-allowed border-none">
                  –°–∫–æ—Ä–æ
                </button>
              </div>
            </template>
            
            <template v-else>
              <!-- Fallback: Static cards when no data from backend -->
              <div class="bg-white rounded-[32px] p-8 border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full relative group">
                <h3 class="text-2xl font-black text-slate-900 mb-2">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π</h3>
                <div class="flex items-baseline gap-2 mb-2">
                  <span class="text-4xl font-black text-slate-900">0 ‚ÇΩ</span>
                  <span class="text-sm font-medium text-slate-400">–Ω–∞–≤—Å–µ–≥–¥–∞</span>
                </div>
                <p class="text-sm text-slate-500 mb-8 leading-relaxed">
                  –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ —Å–æ–±–æ–π.
                </p>
                <ul class="space-y-4 mb-8 flex-1">
                  <li v-for="(item, i) in freePlanFeatures" :key="i" class="flex items-start gap-3">
                    <Check class="w-5 h-5 text-emerald-500 shrink-0" />
                    <span class="text-sm font-medium text-slate-600">{{ item }}</span>
                  </li>
                </ul>
                <button class="w-full rounded-2xl py-4 border-2 border-brand-600 text-brand-600 font-bold hover:bg-brand-50 transition">
                  –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                </button>
              </div>

              <div class="bg-brand-600 rounded-[32px] p-8 border border-brand-500 shadow-2xl shadow-brand-500/30 flex flex-col h-full relative transform lg:-translate-y-4 z-10 text-white">
                <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-amber-400 text-amber-900 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider shadow-lg">
                  –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä
                </div>
                <div class="text-center mb-6 mt-2">
                  <h3 class="text-2xl font-black mb-1 opacity-90">Pro</h3>
                  <div class="flex items-center justify-center gap-1">
                    <span class="text-5xl font-black">{{ calculatePrice(990) }} ‚ÇΩ</span>
                    <span class="text-sm font-medium opacity-60">/ –º–µ—Å—è—Ü</span>
                  </div>
                  <div v-if="billingCycle > 1" class="text-xs font-medium text-brand-200 mt-1 line-through decoration-brand-400">
                    990 ‚ÇΩ / –º–µ—Å—è—Ü
                  </div>
                </div>
                <p class="text-sm text-brand-100 mb-8 text-center leading-relaxed opacity-90">
                  –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º –∏ –≥–æ–ª–æ—Å–æ–≤—ã–º —á–∞—Ç–æ–º —Å –º–µ–Ω—Ç–æ—Ä–æ–º.
                </p>
                <ul class="space-y-4 mb-8 flex-1">
                  <li v-for="(item, i) in proPlanFeatures" :key="i" class="flex items-start gap-3">
                    <div class="w-5 h-5 rounded-full bg-white/20 flex items-center justify-center shrink-0">
                      <Check class="w-3 h-3 text-white" />
                    </div>
                    <span class="text-sm font-medium text-white">{{ item }}</span>
                  </li>
                </ul>
                <button class="w-full rounded-2xl py-4 bg-white text-brand-600 font-bold hover:bg-slate-50 transition shadow-lg">
                  7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                </button>
              </div>

              <div class="bg-slate-700 rounded-[32px] p-8 border border-slate-600 shadow-xl flex flex-col h-full relative text-slate-200">
                <h3 class="text-2xl font-black text-white mb-2">–ö–ª—É–± 1%</h3>
                <div class="flex items-baseline gap-2 mb-2">
                  <span class="text-4xl font-black text-white">{{ calculatePrice(2990) }} ‚ÇΩ</span>
                  <span class="text-sm font-medium text-slate-400">/ –º–µ—Å—è—Ü</span>
                </div>
                <p class="text-sm text-slate-400 mb-8 leading-relaxed">
                  Premium —Ç–∞—Ä–∏—Ñ —Å –º–∞—Å—Ç–µ—Ä–º–∞–π–Ω–¥–∞–º–∏, —á–µ–ª–ª–µ–Ω–¥–∂–∞–º–∏ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–æ–º.
                </p>
                <ul class="space-y-4 mb-8 flex-1">
                  <li v-for="(item, i) in clubPlanFeatures" :key="i" class="flex items-start gap-3">
                    <Check class="w-5 h-5 text-slate-400 shrink-0" />
                    <span class="text-sm font-medium text-slate-300">{{ item }}</span>
                  </li>
                </ul>
                <button disabled class="w-full rounded-2xl py-4 bg-slate-600 text-slate-400 cursor-not-allowed border-none">
                  –°–∫–æ—Ä–æ
                </button>
              </div>
            </template>
          </div>

          <div class="mt-16 flex items-center justify-center gap-3 text-slate-500 text-sm animate-in fade-in duration-700">
            <Lightbulb class="w-5 h-5 text-amber-500 shrink-0" />
            <p class="text-center">–ù–∞—á–Ω–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ Pro, –∫–æ–≥–¥–∞ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-[#0f1117] text-slate-400 py-16">
      <div class="max-w-7xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center mb-16 gap-8">
          <a href="https://percent1.ru/" class="flex items-center gap-3 hover:opacity-90 transition-opacity">
            <div class="w-10 h-10 bg-brand-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg shadow-brand-900/20">
              1%
            </div>
            <span class="text-2xl font-bold text-white tracking-tight">OnePercent</span>
          </a>

          <div class="flex gap-8 font-medium text-sm">
            <router-link to="/login" class="text-slate-300 hover:text-white transition-colors">–í–æ–π—Ç–∏</router-link>
            <router-link to="/register" class="text-slate-300 hover:text-white transition-colors">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</router-link>
          </div>
        </div>

        <div class="h-px bg-slate-800/50 w-full mb-12"></div>

        <div class="flex flex-col items-center text-center gap-8">
          <div class="flex flex-col md:flex-row gap-4 md:gap-8 text-xs md:text-sm font-medium text-slate-500">
            <router-link to="/privacy" class="hover:text-slate-300 transition-colors">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</router-link>
            <router-link to="/termspolicy" class="hover:text-slate-300 transition-colors">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</router-link>
            <router-link to="/disclaimer" class="hover:text-slate-300 transition-colors">–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</router-link>
          </div>

          <div class="space-y-2 text-[10px] md:text-xs text-slate-600 font-medium">
            <p>–ò–ü –ö–æ—Å–∏–∫ –î–º–∏—Ç—Ä–∏–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á</p>
            <p class="opacity-70">–ò–ù–ù: 711280082908 | –û–ì–†–ù–ò–ü: 321774600074346</p>
          </div>

          <div class="text-[10px] md:text-xs text-slate-600">
            &copy; 2025 OnePercent. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
          </div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted, markRaw } from 'vue'
import { 
  Compass, Target, LayoutDashboard, Activity, CheckSquare, Calendar, 
  Repeat, Trophy, Sparkles, MessageCircle, Check, Zap, Map, 
  TrendingUp, Mic, Feather, BookOpen, PenTool, Quote, Lightbulb,
  ArrowRight, Palette, Users
} from 'lucide-vue-next'
import WheelOfLifeMockup from '@/components/landing/WheelOfLifeMockup.vue'
import { useSubscriptionStore } from '@/stores/subscription.js'

const subscriptionStore = useSubscriptionStore()

const isScrolled = ref(false)
const mobileMenuOpen = ref(false)
const days = ref(30)
const billingCycle = ref(1)
const selectedTerm = ref(null)

const multiplier = computed(() => Math.pow(1.01, days.value).toFixed(2))

const pricingTariffs = computed(() => subscriptionStore.tariffs)
const pricingTerms = computed(() => subscriptionStore.terms)

function selectTerm(termId) {
  const term = pricingTerms.value.find(t => t.id === termId)
  if (term) {
    selectedTerm.value = term
    billingCycle.value = term.months || 1
  }
}

function getTariffPrice(tariff) {
  if (!tariff || tariff.code === 'free') return { price: 0, period: '–Ω–∞–≤—Å–µ–≥–¥–∞' }
  if (!selectedTerm.value || !tariff.terms || tariff.terms.length === 0) {
    return { price: tariff.price || 0, period: '/ –º–µ—Å—è—Ü' }
  }
  
  const term = tariff.terms.find(t => t.id === selectedTerm.value.id)
  if (!term) return { price: tariff.price || 0, period: '/ –º–µ—Å—è—Ü' }
  
  return { price: term.base_price || tariff.price || 0, period: '/ –º–µ—Å—è—Ü' }
}

function getTariffSavings(tariff) {
  if (!tariff || tariff.code === 'free' || !selectedTerm.value) return 0
  const term = tariff.terms?.find(t => t.id === selectedTerm.value.id)
  if (!term) return 0
  return term.term_discount_value || 0
}

function getSortedFeatureItems(tariff) {
  if (!tariff?.feature_items?.length) return []
  return [...tariff.feature_items].sort((a, b) => a.sort_order - b.sort_order)
}

function formatPrice(price) {
  return new Intl.NumberFormat('ru-RU').format(Math.round(price))
}

const effectDescription = computed(() => {
  if (days.value <= 30) return "–¢—ã –Ω–∞—á–Ω–µ—à—å —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–Ω–µ–º, –∞ –Ω–µ –ø–ª—ã—Ç—å –ø–æ —Ç–µ—á–µ–Ω–∏—é: –º–µ–Ω—å—à–µ —Ö–∞–æ—Å–∞, –±–æ–ª—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç–∏."
  if (days.value <= 90) return "–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏–≤—ã—á–∫–æ–π. –£—Ö–æ–¥–∏—Ç —Ç—Ä–µ–≤–æ–≥–∞, –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ç–∫–∏–π –ø–ª–∞–Ω –∏ —è—Å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π."
  if (days.value <= 180) return "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–¥–≤–∏–≥: —è—Å–Ω–æ—Å—Ç—å —É–º–∞, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å—Ç—Ä–µ—Å—Å—É, —Ä–æ—Å—Ç –¥–æ—Ö–æ–¥–∞ –∏ –æ—â—É—â–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è."
  return "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –¢–≤–æ—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ 38 —Ä–∞–∑ –≤—ã—à–µ, —á–µ–º –≤ –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å."
})

const problemCards = [
  {
    text: "–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥, –Ω–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å ‚Äî –∫—É–¥–∞",
    icon: markRaw(Compass),
    color: "bg-blue-100 text-blue-600",
    borderColor: "border-blue-100"
  },
  {
    text: "–ö–æ–≥–¥–∞ —Ü–µ–ª–µ–π –º–Ω–æ–≥–æ, –∞ —è—Å–Ω–æ—Å—Ç–∏ –º–∞–ª–æ",
    icon: markRaw(Target),
    color: "bg-orange-100 text-orange-600",
    borderColor: "border-orange-100"
  },
  {
    text: "–ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ —Ü–µ–ª—è—Ö, –∑–∞–¥–∞—á–∞—Ö –∏ –¥–µ–Ω—å–≥–∞—Ö",
    icon: markRaw(LayoutDashboard),
    color: "bg-purple-100 text-purple-600",
    borderColor: "border-purple-100"
  }
]

const featureSteps = [
  {
    id: 1,
    title: "–£–º–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
    subtitle: "–®–∞–≥ 1. –¢–æ—á–∫–∞ –ê",
    description: "–°–∏—Å—Ç–µ–º–∞ –Ω–µ –¥–∞–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤. –°–Ω–∞—á–∞–ª–∞ –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ ¬´–ö–æ–ª–µ—Å–æ –∂–∏–∑–Ω–∏¬ª, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –æ–¥–Ω—É —Å—Ñ–µ—Ä—É, —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.",
    icon: markRaw(Activity),
    color: "bg-blue-100 text-blue-600",
    gradient: "from-blue-500/20 to-cyan-500/20"
  },
  {
    id: 2,
    title: "AI –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–µ–π",
    subtitle: "–®–∞–≥ 2. –Ø—Å–Ω–æ—Å—Ç—å",
    description: "–ú–µ–Ω—Ç–æ—Ä –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º—ã—Ç—ã–µ –∂–µ–ª–∞–Ω–∏—è (¬´–•–æ—á—É –±—ã—Ç—å –±–æ–≥–∞—Ç—ã–º/—Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º¬ª) –≤ —á–µ—Ç–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏. –ò–ò —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç —Ü–µ–ª—å –ø–æ SMART, –∫–æ—Ç–æ—Ä—É—é —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∏—á—å —Å –≤–∞—à–∏–º —Ç–µ–∫—É—â–∏–º –≥—Ä–∞—Ñ–∏–∫–æ–º.",
    icon: markRaw(Target),
    color: "bg-purple-100 text-purple-600",
    gradient: "from-purple-500/20 to-pink-500/20"
  },
  {
    id: 3,
    title: "–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è",
    subtitle: "–®–∞–≥ 3. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π",
    description: "–ë–æ–ª—å—à–∞—è —Ü–µ–ª—å –ø—É–≥–∞–µ—Ç. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –µ—ë –Ω–∞ –º–∏–∫—Ä–æ-–∞—Ç–æ–º—ã. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ä—Ç—É –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.",
    icon: markRaw(CheckSquare),
    color: "bg-green-100 text-green-600",
    gradient: "from-green-500/20 to-emerald-500/20"
  },
  {
    id: 4,
    title: "–§–æ–∫—É—Å –¥–Ω—è",
    subtitle: "–®–∞–≥ 4. –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞",
    description: "–£—Ç—Ä–æ–º –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–æ–≤–Ω–æ –æ–¥–Ω—É –≥–ª–∞–≤–Ω—É—é –∑–∞–¥–∞—á—É. –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å ¬´–∑–∞ —á—Ç–æ –≤–∑—è—Ç—å—Å—è¬ª. –ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π—Ç–µ +1% —Å–µ–≥–æ–¥–Ω—è, –∏ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç.",
    icon: markRaw(Calendar),
    color: "bg-amber-100 text-amber-600",
    gradient: "from-amber-500/20 to-orange-500/20"
  },
  {
    id: 5,
    title: "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤—ã—á–µ–∫",
    subtitle: "–®–∞–≥ 5. –†–∏—Ç–º",
    description: "–û—Ç —Ö–∞–æ—Ç–∏—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∫ —Å–∏—Å—Ç–µ–º–µ. AI –ø–æ–¥–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–≤—ã—á–∫–∏ –ø–æ–¥ –≤–∞—à–∏ —Ü–µ–ª–∏, –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –Ω–∞–≥–ª—è–¥–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–∞—Ö.",
    icon: markRaw(Repeat),
    color: "bg-indigo-100 text-indigo-600",
    gradient: "from-indigo-500/20 to-violet-500/20"
  },
  {
    id: 6,
    title: "–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ XP",
    subtitle: "–®–∞–≥ 6. –ú–æ—Ç–∏–≤–∞—Ü–∏—è",
    description: "–í–∞—à –º–æ–∑–≥ –ª—é–±–∏—Ç –Ω–∞–≥—Ä–∞–¥—ã. –ó–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ XP (–æ–ø—ã—Ç) –∏ —É—Ä–æ–≤–Ω–∏. –û–±–º–µ–Ω–∏–≤–∞–π—Ç–µ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ–ø—ã—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã: –æ—Ç–¥—ã—Ö, –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è.",
    icon: markRaw(Trophy),
    color: "bg-pink-100 text-pink-600",
    gradient: "from-pink-500/20 to-rose-500/20"
  }
]

const habitsMockup = [
  { name: '–•–æ–±–±–∏', icon: markRaw(Palette), iconBg: 'bg-orange-100', iconColor: 'text-orange-500', xp: 20, activeDays: [1, 3, 5], currentDay: 5, done: false },
  { name: '–§–∏–Ω–∞–Ω—Å—ã', icon: markRaw(Check), iconBg: 'bg-emerald-100', iconColor: 'text-emerald-600', xp: 15, activeDays: [1, 2, 4, 5], currentDay: 5, done: true },
  { name: '–£–∂–∏–Ω —Å —Å–µ–º—å—ë–π', icon: markRaw(Users), iconBg: 'bg-blue-100', iconColor: 'text-blue-500', xp: 20, activeDays: [0, 1, 2, 3, 4], currentDay: 5, done: false }
]

const mentorRoles = [
  { title: '–ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä', period: '–ü–µ—Ä–≤–∞—è –Ω–µ–¥–µ–ª—è', description: '–ó–∞–¥–∞–µ—Ç –≥–ª—É–±–æ–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞—à–µ–π –∂–∏–∑–Ω–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏—Å—Ç–∏–Ω–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏.', icon: markRaw(Mic), active: false },
  { title: '–°—Ç—Ä–∞—Ç–µ–≥', period: '–ü–µ—Ä–≤—ã–π –º–µ—Å—è—Ü', description: '–ü–æ–º–æ–≥–∞–µ—Ç –æ—Ü–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–∏, —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–ª–∞–Ω –∏ –Ω–∞–π—Ç–∏ –≤—Ä–µ–º—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ.', icon: markRaw(Map), active: false },
  { title: '–ö–æ—É—á 1%', period: '2+ –º–µ—Å—è—Ü', description: '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ä—ã–≤—ã –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Å—Ç—Ä–æ–π –±–µ–∑ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã.', icon: markRaw(Zap), active: true }
]

const ctaItems = [
  "–£–≤–∏–¥–µ–ª —Å–≤–æ–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã",
  "–ü–æ–ª—É—á–∏–ª –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–ª–∏ –æ—Ç AI",
  "–ü–ª–∞–Ω –Ω–∞ –º–µ—Å—è—Ü —Ä–∞–∑–±–∏—Ç –ø–æ –¥–Ω—è–º",
  "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤—ã—á–µ–∫ —Å –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π",
  "–ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å",
  "AI –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7 –≤ Telegram"
]

const testimonials = [
  {
    name: "–ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω",
    role: "–ü–æ–ª–∏—Ç–∏–∫, —É—á—ë–Ω—ã–π, –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å",
    quote: "–ú–∞–ª–µ–Ω—å–∫–∏–µ —É–¥–∞—Ä—ã –≤–∞–ª—è—Ç –±–æ–ª—å—à–∏–µ –¥—É–±—ã",
    description: "–°–æ–∑–¥–∞–ª —Å–∏—Å—Ç–µ–º—É 13 –¥–æ–±—Ä–æ–¥–µ—Ç–µ–ª–µ–π: –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ, –≤—ë–ª –¥–Ω–µ–≤–Ω–∏–∫ —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑–∞.",
    icon: markRaw(Feather)
  },
  {
    name: "–î–∂–µ–π–º—Å –ö–ª–∏—Ä",
    role: "–ê–≤—Ç–æ—Ä ¬´Atomic Habits¬ª",
    quote: "–ü—Ä–∏–≤—ã—á–∫–∏ ‚Äî —ç—Ç–æ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã —Å–∞–º–æ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—è",
    description: "–ü–æ–ø—É–ª—è—Ä–∏–∑–∏—Ä–æ–≤–∞–ª –∫–æ–Ω—Ü–µ–ø—Ü–∏—é 1%: –µ—Å–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —É–ª—É—á—à–∞—Ç—å—Å—è –Ω–∞ 1%, –∑–∞ –≥–æ–¥ —Å—Ç–∞–Ω–µ—à—å –ª—É—á—à–µ –≤ 37 —Ä–∞–∑.",
    icon: markRaw(BookOpen)
  },
  {
    name: "–£–æ—Ä—Ä–µ–Ω –ë–∞—Ñ—Ñ–µ—Ç—Ç",
    role: "–ò–Ω–≤–µ—Å—Ç–æ—Ä, –º–∏–ª–ª–∏–∞—Ä–¥–µ—Ä",
    quote: "–Ø –ø—Ä–æ—Å—Ç–æ —Å–∏–∂—É –≤ –æ—Ñ–∏—Å–µ –∏ —á–∏—Ç–∞—é —Ü–µ–ª—ã–π –¥–µ–Ω—å",
    description: "–ü—Ä–∞–≤–∏–ª–æ 5 —á–∞—Å–æ–≤: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä—É–µ—Ç –º–∏–Ω–∏–º—É–º —á–∞—Å –≤ –æ–±—É—á–µ–Ω–∏–µ –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é. 80% —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî —á—Ç–µ–Ω–∏–µ.",
    icon: markRaw(TrendingUp)
  },
  {
    name: "–õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í–∏–Ω—á–∏",
    role: "–•—É–¥–æ–∂–Ω–∏–∫, —É—á—ë–Ω—ã–π, –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å",
    quote: "–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –Ω–µ –º–æ–≥—É—Ç —Å–æ–∫—Ä—É—à–∏—Ç—å –º–µ–Ω—è",
    description: "–í—ë–ª –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–Ω—ã–µ –∫–Ω–∏–∂–∫–∏: 7000+ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, –∏–¥–µ–π –∏ –ø–ª–∞–Ω–æ–≤. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.",
    icon: markRaw(PenTool)
  }
]

const pricingPeriods = [
  { value: 1, label: '1 –º–µ—Å—è—Ü', discount: null },
  { value: 3, label: '3 –º–µ—Å—è—Ü–∞', discount: '-10%' },
  { value: 6, label: '6 –º–µ—Å—è—Ü–µ–≤', discount: '-20%' },
  { value: 12, label: '12 –º–µ—Å—è—Ü–µ–≤', discount: '-30%', hit: true }
]

const freePlanFeatures = [
  '–ö–æ–ª–µ—Å–æ –±–∞–ª–∞–Ω—Å–∞ (–°–°–ü)',
  '–ë–∞–Ω–∫ —Ü–µ–ª–µ–π (–¥–æ 4 —Ü–µ–ª–µ–π)',
  '–ë–∞–∑–æ–≤–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
  '–¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ (–¥–æ 3)',
  '–î–Ω–µ–≤–Ω–∏–∫ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏',
  '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–¥–æ 5)',
  '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ Telegram'
]

const proPlanFeatures = [
  '–í—Å—ë –∏–∑ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞',
  '–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ü–µ–ª–∏ –∏ –ø—Ä–∏–≤—ã—á–∫–∏',
  'AI –º–µ–Ω—Ç–æ—Ä',
  'AI –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
  'AI –ø–æ–º–æ—â—å',
  '–ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç —Å –º–µ–Ω—Ç–æ—Ä–æ–º',
  '–ö–ª—É–± 1%'
]

const clubPlanFeatures = [
  '–í—Å—ë –∏–∑ Pro –ø–ª–∞–Ω–∞',
  '–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–º–∞–π–Ω–¥—ã',
  '–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏',
  '–†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º',
  '–ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥ 2.0'
]

const calculatePrice = (basePrice) => {
  if (basePrice === 0) return 0
  let discount = 0
  if (billingCycle.value === 3) discount = 0.1
  if (billingCycle.value === 6) discount = 0.2
  if (billingCycle.value === 12) discount = 0.3
  return Math.round(basePrice * (1 - discount))
}

const handleScroll = () => {
  isScrolled.value = window.scrollY > 20
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
  
  subscriptionStore.loadTariffs(true).then(() => {
    if (pricingTerms.value.length > 0 && !selectedTerm.value) {
      const defaultTerm = pricingTerms.value.find(t => t.months === 1) || pricingTerms.value[0]
      if (defaultTerm) {
        selectTerm(defaultTerm.id)
      }
    }
  })
  
  if (!document.getElementById('tailwind-v7')) {
    const script = document.createElement('script')
    script.id = 'tailwind-v7'
    script.src = 'https://cdn.tailwindcss.com'
    script.onload = () => {
      if (window.tailwind) {
        window.tailwind.config = {
          theme: {
            extend: {
              fontFamily: {
                sans: ['Inter', 'sans-serif'],
              },
              colors: {
                brand: {
                  50: '#eef2ff',
                  100: '#e0e7ff',
                  200: '#c7d2fe',
                  300: '#a5b4fc',
                  400: '#818cf8',
                  500: '#6366f1',
                  600: '#4f46e5',
                  700: '#4338ca',
                  800: '#3730a3',
                  900: '#312e81',
                }
              }
            }
          }
        }
      }
    }
    document.head.appendChild(script)
  }
  
  if (!document.getElementById('inter-font')) {
    const link = document.createElement('link')
    link.id = 'inter-font'
    link.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap'
    link.rel = 'stylesheet'
    document.head.appendChild(link)
  }
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll)
})
</script>

<style scoped>
.text-gradient {
  background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.bento-card {
  border-radius: 24px;
  padding: 2rem;
  border: 1px solid #e2e8f0;
  transition: all 0.3s ease;
}
.bento-card:hover { 
  transform: translateY(-5px); 
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1); 
}

.modern-range {
  -webkit-appearance: none;
  width: 100%;
  height: 8px;
  border-radius: 5px;
  background: #e2e8f0;
  outline: none;
}
.modern-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #6366f1;
  cursor: pointer;
  border: 4px solid white;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  transition: transform 0.1s;
}
.modern-range::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}
</style>
