import { defineStore } from 'pinia'
import { ref, computed } from 'vue'

export const useNewYearStore = defineStore('newyear', () => {
  const STORAGE_KEY = 'newyear_answers'
  const PROGRESS_KEY = 'newyear_progress'
  const REF_KEY = 'newyear_ref'
  const COMPLETED_KEY = 'newyear_completed'

  const spheres = [
    { id: 'welfare', name: '–ë–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏–µ', icon: 'üí∞', color: '#eab308' },
    { id: 'hobby', name: '–•–æ–±–±–∏ –∏ –æ—Ç–¥—ã—Ö', icon: 'üé®', color: '#f97316' },
    { id: 'environment', name: '–î—Ä—É–∂–±–∞ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ', icon: 'üë•', color: '#14b8a6' },
    { id: 'health', name: '–ó–¥–æ—Ä–æ–≤—å–µ –∏ —Å–ø–æ—Ä—Ç', icon: 'üí™', color: '#22c55e' },
    { id: 'work', name: '–†–∞–±–æ—Ç–∞ –∏ –∫–∞—Ä—å–µ—Ä–∞', icon: 'üíº', color: '#8b5cf6' },
    { id: 'family', name: '–õ—é–±–æ–≤—å, —Å–µ–º—å—è, –æ—Ç–Ω–æ—à–µ–Ω–∏—è', icon: '‚ù§Ô∏è', color: '#ef4444' }
  ]

  const questions = [
    { id: 1, sphere: 'welfare', type: 'scale', text: '–ö–∞–∫ —Ç—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—à—å —Å–≤–æ—ë —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –±–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ 2025 –≥–æ–¥—É?' },
    { id: 2, sphere: 'welfare', type: 'text', text: '–ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–æ–≤–ª–∏—è–ª–æ –Ω–∞ —Ç–≤–æ—ë —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —ç—Ç–æ–º –≥–æ–¥—É?' },
    { id: 3, sphere: 'hobby', type: 'scale', text: '–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã –¥–æ–≤–æ–ª–µ–Ω —Å–≤–æ–∏–º –æ—Ç–¥—ã—Ö–æ–º –∏ —Ö–æ–±–±–∏ –≤ 2025?' },
    { id: 4, sphere: 'hobby', type: 'text', text: '–ö–∞–∫–æ–µ —É–≤–ª–µ—á–µ–Ω–∏–µ –∏–ª–∏ –æ—Ç–¥—ã—Ö –ø—Ä–∏–Ω–µ—Å–ª–∏ —Ç–µ–±–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ä–∞–¥–æ—Å—Ç–∏?' },
    { id: 5, sphere: 'environment', type: 'scale', text: '–ö–∞–∫ —Ç—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—à—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤–æ–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –¥—Ä—É–∂–±—ã?' },
    { id: 6, sphere: 'environment', type: 'text', text: '–ö–∞–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥—Ä—É–∑—å—è–º–∏ –±—ã–ª–∏ —Å–∞–º—ã–º–∏ –∑–Ω–∞—á–∏–º—ã–º–∏ –≤ —ç—Ç–æ–º –≥–æ–¥—É?' },
    { id: 7, sphere: 'health', type: 'scale', text: '–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã –¥–æ–≤–æ–ª–µ–Ω —Å–≤–æ–∏–º –∑–¥–æ—Ä–æ–≤—å–µ–º –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º–æ–π?' },
    { id: 8, sphere: 'health', type: 'text', text: '–ß—Ç–æ –ø–æ–º–æ–≥–ª–æ –∏–ª–∏ –ø–æ–º–µ—à–∞–ª–æ —Ç–µ–±–µ –≤ –∑–∞–±–æ—Ç–µ –æ –∑–¥–æ—Ä–æ–≤—å–µ?' },
    { id: 9, sphere: 'work', type: 'scale', text: '–ö–∞–∫ —Ç—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—à—å —Å–≤–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç –∏ –∫–∞—Ä—å–µ—Ä—É –≤ 2025?' },
    { id: 10, sphere: 'work', type: 'text', text: '–ö–∞–∫–æ–µ –≥–ª–∞–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç–µ —Ç—ã –º–æ–∂–µ—à—å –æ—Ç–º–µ—Ç–∏—Ç—å?' },
    { id: 11, sphere: 'family', type: 'scale', text: '–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã –¥–æ–≤–æ–ª–µ–Ω –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ —Å —Å–µ–º—å—ë–π –∏ –ª—é–±–∏–º—ã–º–∏?' },
    { id: 12, sphere: 'family', type: 'text', text: '–ö–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –≤ —Å–µ–º–µ–π–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –±—ã–ª —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º?' }
  ]

  const recommendations = {
    welfare: {
      goals: [
        { title: '–°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–æ–¥—É—à–∫—É –Ω–∞ 3 –º–µ—Å—è—Ü–∞', metric: '–ù–∞–∫–æ–ø–∏—Ç—å 150-300 —Ç—ã—Å. ‚ÇΩ –∫ –∏—é–Ω—é 2026' },
        { title: '–£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ—Ö–æ–¥ –Ω–∞ 20%', metric: '–° —Ç–µ–∫—É—â–∏—Ö X –¥–æ X+20% —á–µ—Ä–µ–∑ —Ñ—Ä–∏–ª–∞–Ω—Å, –ø–æ–≤—ã—à–µ–Ω–∏–µ –∏–ª–∏ —Å–º–µ–Ω—É —Ä–∞–±–æ—Ç—ã' },
        { title: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ 15%', metric: '–°–æ–∫—Ä–∞—Ç–∏—Ç—å —Ç—Ä–∞—Ç—ã –Ω–∞ 10-15 —Ç—ã—Å. ‚ÇΩ –≤ –º–µ—Å—è—Ü' }
      ],
      steps: [
        { title: '–°–∫–∞—á–∞—Ç—å –≤—ã–ø–∏—Å–∫–∏ –∏–∑ –≤—Å–µ—Ö –±–∞–Ω–∫–æ–≤ –∑–∞ 2025 –≥–æ–¥ –∏ –≤—ã–≥—Ä—É–∑–∏—Ç—å –≤ Google Sheets', hours: 1 },
        { title: '–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã: –∂–∏–ª—å—ë, –µ–¥–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, –ø–æ–¥–ø–∏—Å–∫–∏', hours: 2 },
        { title: '–ù–∞–π—Ç–∏ 3 —Å—Ç–∞—Ç—å–∏ —ç–∫–æ–Ω–æ–º–∏–∏ (–æ—Ç–∫–∞–∑ –æ—Ç –ø–æ–¥–ø–∏—Å–æ–∫, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤, –∫–µ—à–±—ç–∫)', hours: 1 },
        { title: '–û—Ç–∫—Ä—ã—Ç—å –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç –≤ –¢–∏–Ω—å–∫–æ—Ñ—Ñ/–ê–ª—å—Ñ–∞ —Å 10%+ –≥–æ–¥–æ–≤—ã—Ö', hours: 0.5 },
        { title: '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ 10% –∑–∞—Ä–ø–ª–∞—Ç—ã –Ω–∞ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç', hours: 0.5 },
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç –Ω–∞ —è–Ω–≤–∞—Ä—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (YNAB, ZenMoney, CoinKeeper)', hours: 2 },
        { title: '–ò–∑—É—á–∏—Ç—å 5 –≤–∞–∫–∞–Ω—Å–∏–π –Ω–∞ HeadHunter –≤ —Å–≤–æ–µ–π —Å—Ñ–µ—Ä–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä—ã–Ω–∫–∞', hours: 1 },
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 3 –∏–¥–µ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ (—Ñ—Ä–∏–ª–∞–Ω—Å, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –∫—É—Ä—Å—ã)', hours: 1 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–í—ã–≥—Ä—É–∑–∏—Ç—å –≤—ã–ø–∏—Å–∫–∏ –∏–∑ –±–∞–Ω–∫–æ–≤', '–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤', '–ù–∞–π—Ç–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –æ—Ç–º–µ–Ω—É'] },
        { week: 2, tasks: ['–û—Ç–∫—Ä—ã—Ç—å –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç', '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ 10%', '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –±—é–¥–∂–µ—Ç–∞'] },
        { week: 3, tasks: ['–°–æ—Å—Ç–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç –Ω–∞ —Ñ–µ–≤—Ä–∞–ª—å', '–ò–∑—É—á–∏—Ç—å 5 –≤–∞–∫–∞–Ω—Å–∏–π', '–í—ã–±—Ä–∞—Ç—å 1 –∏–¥–µ—é –¥–æ–ø. –¥–æ—Ö–æ–¥–∞'] },
        { week: 4, tasks: ['–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ –¥–æ–ø. –¥–æ—Ö–æ–¥—É', '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π', '–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±—é–¥–∂–µ—Ç'] }
      ]
    },
    hobby: {
      goals: [
        { title: '–í—ã–¥–µ–ª—è—Ç—å 5+ —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é –Ω–∞ —Ö–æ–±–±–∏', metric: '20+ —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü –Ω–∞ –ª—é–±–∏–º–æ–µ –¥–µ–ª–æ' },
        { title: '–û—Å–≤–æ–∏—Ç—å –Ω–æ–≤—ã–π –Ω–∞–≤—ã–∫ –¥–æ —É—Ä–æ–≤–Ω—è "—É–≤–µ—Ä–µ–Ω–Ω—ã–π –ª—é–±–∏—Ç–µ–ª—å"', metric: '50 —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫ –º–∞—Ä—Ç—É' },
        { title: '–°–æ–∑–¥–∞—Ç—å —á—Ç–æ-—Ç–æ —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏', metric: '1 –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (–∫–∞—Ä—Ç–∏–Ω–∞, –≤–∏–¥–µ–æ, –∏–∑–¥–µ–ª–∏–µ)' }
      ],
      steps: [
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ö–æ–±–±–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å', hours: 0.5 },
        { title: '–í—ã–±—Ä–∞—Ç—å 1-2 —Ö–æ–±–±–∏ –¥–ª—è —Ñ–æ–∫—É—Å–∞ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 3 –º–µ—Å—è—Ü–∞', hours: 0.5 },
        { title: '–ù–∞–π—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π YouTube-–∫—É—Ä—Å –∏–ª–∏ Telegram-–∫–∞–Ω–∞–ª –ø–æ —Ç–µ–º–µ', hours: 1 },
        { title: '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ/–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å (–∫–µ—Ä–∞–º–∏–∫–∞, —Ä–∏—Å–æ–≤–∞–Ω–∏–µ, –º—É–∑—ã–∫–∞)', hours: 1 },
        { title: '–ö—É–ø–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–Ω–µ –±–æ–ª—å—à–µ 3000‚ÇΩ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ)', hours: 1 },
        { title: '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å 3 —Å–ª–æ—Ç–∞ –ø–æ 1.5 —á–∞—Å–∞ –≤ –Ω–µ–¥–µ–ª—é –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –ø–æ–¥ —Ö–æ–±–±–∏', hours: 0.5 },
        { title: '–ù–∞–π—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤ (—á–∞—Ç, –∫–ª—É–±, Meetup)', hours: 1 },
        { title: '–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª—å –Ω–∞ –ø–µ—Ä–≤—ã–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç (–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç, —Å–æ–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å)', hours: 0.5 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–í—ã–±—Ä–∞—Ç—å 1 —Ö–æ–±–±–∏ –¥–ª—è —Ñ–æ–∫—É—Å–∞', '–ù–∞–π—Ç–∏ –∫—É—Ä—Å/–∫–∞–Ω–∞–ª', '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'] },
        { week: 2, tasks: ['–ü–æ—Å–µ—Ç–∏—Ç—å –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ', '–ö—É–ø–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã', '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ'] },
        { week: 3, tasks: ['–ü—Ä–æ–≤–µ—Å—Ç–∏ 3 —Å–µ—Å—Å–∏–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏', '–ù–∞–π—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ', '–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–≤—ã–π –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç'] },
        { week: 4, tasks: ['–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É', '–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º', '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º —Å –¥—Ä—É–∑—å—è–º–∏'] }
      ]
    },
    environment: {
      goals: [
        { title: '–£–∫—Ä–µ–ø–∏—Ç—å —Å–≤—è–∑–∏ —Å 5 –±–ª–∏–∑–∫–∏–º–∏ –¥—Ä—É–∑—å—è–º–∏', metric: '–í—Å—Ç—Ä–µ—á–∏/–∑–≤–æ–Ω–∫–∏ –º–∏–Ω–∏–º—É–º —Ä–∞–∑ –≤ 2 –Ω–µ–¥–µ–ª–∏' },
        { title: '–†–∞—Å—à–∏—Ä–∏—Ç—å –∫—Ä—É–≥ –æ–±—â–µ–Ω–∏—è', metric: '10+ –Ω–æ–≤—ã—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª' },
        { title: '–ù–∞–π—Ç–∏ –º–µ–Ω—Ç–æ—Ä–∞ –∏–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é', metric: '1 —á–µ–ª–æ–≤–µ–∫ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –æ–ø—ã—Ç–æ–º' }
      ],
      steps: [
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å —Å–ø–∏—Å–æ–∫ 10 –ª—é–¥–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ö–æ—á–µ—à—å –±–æ–ª—å—à–µ –æ–±—â–∞—Ç—å—Å—è', hours: 0.5 },
        { title: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å 3 —Å–æ–æ–±—â–µ–Ω–∏—è –¥—Ä—É–∑—å—è–º, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –¥–∞–≤–Ω–æ –Ω–µ –æ–±—â–∞–ª—Å—è', hours: 0.5 },
        { title: '–ù–∞–∑–Ω–∞—á–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É/–∑–≤–æ–Ω–æ–∫ —Å 1 –¥—Ä—É–≥–æ–º –Ω–∞ —ç—Ç—É –Ω–µ–¥–µ–ª—é', hours: 0.5 },
        { title: '–ù–∞–π—Ç–∏ 3 Telegram-—á–∞—Ç–∞ –∏–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º (IT, –±–∏–∑–Ω–µ—Å, —Ö–æ–±–±–∏)', hours: 1 },
        { title: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ 1 –æ—Ñ–ª–∞–π–Ω-–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ (Meetup, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å)', hours: 1 },
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å 2 –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º –ª—é–¥—è–º –≤ LinkedIn/Telegram –¥–ª—è –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞', hours: 1 },
        { title: '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏-–≤—Å—Ç—Ä–µ—á—É: –ø–æ–∑–≤–∞—Ç—å 3-4 –¥—Ä—É–∑–µ–π –Ω–∞ —É–∂–∏–Ω/–Ω–∞—Å—Ç–æ–ª–∫–∏', hours: 2 },
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 5 –ª—é–¥–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ö–æ—Ç–µ–ª –±—ã —É—á–∏—Ç—å—Å—è', hours: 0.5 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ 10 –ª—é–¥–µ–π', '–ù–∞–ø–∏—Å–∞—Ç—å 3 –¥—Ä—É–∑—å—è–º', '–ù–∞–∑–Ω–∞—á–∏—Ç—å 1 –≤—Å—Ç—Ä–µ—á—É'] },
        { week: 2, tasks: ['–ü—Ä–æ–≤–µ—Å—Ç–∏ –≤—Å—Ç—Ä–µ—á—É', '–ù–∞–π—Ç–∏ 3 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞', '–í—Å—Ç—É–ø–∏—Ç—å –≤ 1 —á–∞—Ç'] },
        { week: 3, tasks: ['–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ', '–ù–∞–ø–∏—Å–∞—Ç—å 2 –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–∞–º', '–ù–∞–∑–Ω–∞—á–∏—Ç—å –µ—â—ë 1 –≤—Å—Ç—Ä–µ—á—É'] },
        { week: 4, tasks: ['–ü–æ—Å–µ—Ç–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ', '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏-–≤—Å—Ç—Ä–µ—á—É', '–í—ã–±—Ä–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω—Ç–æ—Ä–∞'] }
      ]
    },
    health: {
      goals: [
        { title: '–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º 3+ —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é', metric: '12-15 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –º–µ—Å—è—Ü (–∫–∞—Ä–¥–∏–æ + —Å–∏–ª–æ–≤—ã–µ)' },
        { title: '–£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞ –¥–æ 7-8 —á–∞—Å–æ–≤', metric: '–ó–∞—Å—ã–ø–∞—Ç—å –¥–æ 23:00, –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è –≤ 7:00' },
        { title: '–ü—Ä–æ–π—Ç–∏ –ø–æ–ª–Ω—ã–π —á–µ–∫-–∞–ø –∑–¥–æ—Ä–æ–≤—å—è', metric: '–°–¥–∞—Ç—å –∞–Ω–∞–ª–∏–∑—ã, –ø–æ—Å–µ—Ç–∏—Ç—å 3+ –≤—Ä–∞—á–µ–π' }
      ],
      steps: [
        { title: '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–± —Ä—è–¥–æ–º —Å –¥–æ–º–æ–º/—Ä–∞–±–æ—Ç–æ–π (World Class, DDX, –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è)', hours: 1 },
        { title: '–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (Nike Training, FitOn, Hevy)', hours: 0.5 },
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: –ü–Ω/–°—Ä/–ü—Ç —Å–∏–ª–æ–≤—ã–µ, –í—Ç/–°–± –∫–∞—Ä–¥–∏–æ', hours: 1 },
        { title: '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —á–µ–∫-–∞–ø –≤ –∫–ª–∏–Ω–∏–∫—É (–ò–Ω–≤–∏—Ç—Ä–æ, –•–µ–ª–∏–∫—Å, DocDoc)', hours: 0.5 },
        { title: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–Ω–∞ (Sleep Cycle, AutoSleep) –∏ —Ç—Ä–µ–∫–∞—Ç—å –Ω–µ–¥–µ–ª—é', hours: 0.5 },
        { title: '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—á–µ—Ä–Ω–∏–π —Ä–∏—Ç—É–∞–ª: –±–µ–∑ —ç–∫—Ä–∞–Ω–æ–≤ –∑–∞ —á–∞—Å –¥–æ —Å–Ω–∞, —Ç—ë–ø–ª—ã–π –¥—É—à', hours: 0.5 },
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è: 3 –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ + 2 –ø–µ—Ä–µ–∫—É—Å–∞, 1.5–ª –≤–æ–¥—ã', hours: 1 },
        { title: '–ö—É–ø–∏—Ç—å –≤–∏—Ç–∞–º–∏–Ω D, –æ–º–µ–≥–∞-3, –º–∞–≥–Ω–∏–π (–±–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä –Ω–∞ –∑–∏–º—É)', hours: 1 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ –∑–∞–ª', '–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É', '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä —Å–Ω–∞'] },
        { week: 2, tasks: ['3 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏', '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —á–µ–∫-–∞–ø', '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—á–µ—Ä–Ω–∏–π —Ä–∏—Ç—É–∞–ª'] },
        { week: 3, tasks: ['3 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏', '–ü—Ä–æ–π—Ç–∏ —á–µ–∫-–∞–ø', '–°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è'] },
        { week: 4, tasks: ['–ó–∞–∫—Ä–µ–ø–∏—Ç—å —Ä–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫', '–ö—É–ø–∏—Ç—å –≤–∏—Ç–∞–º–∏–Ω—ã', '–û—Ü–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–Ω–µ'] }
      ]
    },
    work: {
      goals: [
        { title: '–ü–æ–ª—É—á–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ –∏–ª–∏ –Ω–æ–≤—ã–π –æ—Ñ—Ñ–µ—Ä', metric: '–†–æ—Å—Ç –¥–æ—Ö–æ–¥–∞ –Ω–∞ 30%+ –∫ –∏—é–Ω—é 2026' },
        { title: '–û—Å–≤–æ–∏—Ç—å 1 –Ω–æ–≤—ã–π hard skill', metric: '–ó–∞–∫–æ–Ω—á–∏—Ç—å –∫—É—Ä—Å + –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ' },
        { title: '–£–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ—é –∑–∞–º–µ—Ç–Ω–æ—Å—Ç—å –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏', metric: '5+ –ø–æ—Å—Ç–æ–≤ –≤ LinkedIn, 1 –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ' }
      ],
      steps: [
        { title: '–ù–∞–∑–Ω–∞—á–∏—Ç—å 1-on-1 —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∞', hours: 1 },
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 5 –Ω–∞–≤—ã–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏', hours: 1 },
        { title: '–í—ã–±—Ä–∞—Ç—å 1 –∫—É—Ä—Å –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è (Coursera, Stepik, –Ø–Ω–¥–µ–∫—Å –ü—Ä–∞–∫—Ç–∏–∫—É–º)', hours: 1 },
        { title: '–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—é–º–µ –Ω–∞ HeadHunter –∏ LinkedIn —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ 2025', hours: 2 },
        { title: '–ò–∑—É—á–∏—Ç—å 10 –≤–∞–∫–∞–Ω—Å–∏–π dream job –∏ –≤—ã–ø–∏—Å–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è', hours: 1 },
        { title: '–ù–∞—á–∞—Ç—å –≤–µ—Å—Ç–∏ –¥–Ω–µ–≤–Ω–∏–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é', hours: 0.5 },
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ LinkedIn –æ —Å–≤–æ—ë–º –æ–ø—ã—Ç–µ/–∏–Ω—Å–∞–π—Ç–µ', hours: 1 },
        { title: '–ù–∞–π—Ç–∏ 3 –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏/–º–∏—Ç–∞–ø–∞ –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏—è –≤ Q1', hours: 1 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–ù–∞–∑–Ω–∞—á–∏—Ç—å 1-on-1', '–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞–≤—ã–∫–æ–≤', '–ù–∞—á–∞—Ç—å –¥–Ω–µ–≤–Ω–∏–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π'] },
        { week: 2, tasks: ['–í—ã–±—Ä–∞—Ç—å –∏ –Ω–∞—á–∞—Ç—å –∫—É—Ä—Å', '–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—é–º–µ', '–ò–∑—É—á–∏—Ç—å 5 –≤–∞–∫–∞–Ω—Å–∏–π'] },
        { week: 3, tasks: ['–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫—É—Ä—Å', '–ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ LinkedIn', '–ù–∞–π—Ç–∏ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏'] },
        { week: 4, tasks: ['–ü—Ä–æ–≤–µ—Å—Ç–∏ 1-on-1', '–ò–∑—É—á–∏—Ç—å –µ—â—ë 5 –≤–∞–∫–∞–Ω—Å–∏–π', '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –º–∏—Ç–∞–ø'] }
      ]
    },
    family: {
      goals: [
        { title: 'Quality time —Å —Å–µ–º—å—ë–π –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é', metric: '4+ —Å–µ–º–µ–π–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –º–µ—Å—è—Ü (—É–∂–∏–Ω, –ø—Ä–æ–≥—É–ª–∫–∞, –∏–≥—Ä—ã)' },
        { title: '–£–ª—É—á—à–∏—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –≤ –ø–∞—Ä–µ', metric: '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π check-in –Ω–∞ 10 –º–∏–Ω—É—Ç –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤' },
        { title: '–°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è', metric: '1 –º–∏–Ω–∏-–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∏–ª–∏ –±–æ–ª—å—à–æ–π –ø—Ä–∞–∑–¥–Ω–∏–∫ –≤ –∫–≤–∞—Ä—Ç–∞–ª' }
      ],
      steps: [
        { title: '–ù–∞–∑–Ω–∞—á–∏—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π "—Å–µ–º–µ–π–Ω—ã–π –≤–µ—á–µ—Ä" –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–ü—Ç –∏–ª–∏ –°–±)', hours: 0.5 },
        { title: '–°–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π —Å–µ–º–µ–π–Ω—ã–π —É–∂–∏–Ω –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ (–¥–æ–º–∞ –∏–ª–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω)', hours: 1 },
        { title: '–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 10 –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏', hours: 0.5 },
        { title: '–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä—É –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∏—Ç—É–∞–ª: 10 –º–∏–Ω—É—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –∑–∞ —á–∞–µ–º', hours: 0.5 },
        { title: '–ù–∞–ø–∏—Å–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–ª–∏–∑–∫–æ–º—É —á–µ–ª–æ–≤–µ–∫—É', hours: 0.5 },
        { title: '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∏–Ω–∏-–ø–æ–µ–∑–¥–∫—É –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ –≤ —è–Ω–≤–∞—Ä–µ-—Ñ–µ–≤—Ä–∞–ª–µ', hours: 1 },
        { title: '–û–±—Å—É–¥–∏—Ç—å —Å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º/—Å–µ–º—å—ë–π —Ü–µ–ª–∏ –Ω–∞ 2026 –∏ –Ω–∞–π—Ç–∏ –æ–±—â–∏–µ', hours: 1 },
        { title: '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–µ–º–µ–π–Ω—É—é —Ç—Ä–∞–¥–∏—Ü–∏—é (–≤–æ—Å–∫—Ä–µ—Å–Ω—ã–π –±—Ä–∞–Ω—á, –≤–µ—á–µ—Ä –∫–∏–Ω–æ, –Ω–∞—Å—Ç–æ–ª–∫–∏)', hours: 1 }
      ],
      weekPlan: [
        { week: 1, tasks: ['–ù–∞–∑–Ω–∞—á–∏—Ç—å —Å–µ–º–µ–π–Ω—ã–π –≤–µ—á–µ—Ä', '–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤—ã–π —É–∂–∏–Ω', '–ù–∞–ø–∏—Å–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –±–ª–∏–∑–∫–æ–º—É'] },
        { week: 2, tasks: ['–°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π', '–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∏—Ç—É–∞–ª', '–ù–∞—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å'] },
        { week: 3, tasks: ['–ü—Ä–æ–≤–µ—Å—Ç–∏ 2-–π —Å–µ–º–µ–π–Ω—ã–π –≤–µ—á–µ—Ä', '–û–±—Å—É–¥–∏—Ç—å –æ–±—â–∏–µ —Ü–µ–ª–∏', '–í—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ –¥–ª—è –ø–æ–µ–∑–¥–∫–∏'] },
        { week: 4, tasks: ['–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–µ–∑–¥–∫—É', '–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ–º–µ–π–Ω—É—é —Ç—Ä–∞–¥–∏—Ü–∏—é', '–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏ –º–µ—Å—è—Ü–∞'] }
      ]
    }
  }

  const weekPlan = [
    { week: 1, title: '–ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ', focus: '–°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–µ–ª–∏, –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏' },
    { week: 2, title: '–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã', focus: '–í–Ω–µ–¥—Ä–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è' },
    { week: 3, title: '–ù–∞–±–æ—Ä —Ç–µ–º–ø–∞', focus: '–ó–∞–∫—Ä–µ–ø–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏, —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –∏—Å–∫–∞—Ç—å –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤' },
    { week: 4, title: '–†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞', focus: '–û—Ü–µ–Ω–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —Ñ–µ–≤—Ä–∞–ª—é' }
  ]

  const answers = ref(loadAnswers())
  const currentQuestion = ref(loadProgress())
  const referralCode = ref(loadReferral())
  const isCompleted = ref(localStorage.getItem(COMPLETED_KEY) === 'true')

  function loadAnswers() {
    try {
      const saved = localStorage.getItem(STORAGE_KEY)
      return saved ? JSON.parse(saved) : {}
    } catch {
      return {}
    }
  }

  function loadProgress() {
    try {
      const saved = localStorage.getItem(PROGRESS_KEY)
      return saved ? parseInt(saved, 10) : 0
    } catch {
      return 0
    }
  }

  function loadReferral() {
    try {
      return localStorage.getItem(REF_KEY) || null
    } catch {
      return null
    }
  }

  function saveAnswers() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(answers.value))
  }

  function saveProgress() {
    localStorage.setItem(PROGRESS_KEY, currentQuestion.value.toString())
  }

  function setAnswer(questionId, value) {
    answers.value[questionId] = value
    saveAnswers()
  }

  function nextQuestion() {
    if (currentQuestion.value < questions.length - 1) {
      currentQuestion.value++
      saveProgress()
    }
  }

  function prevQuestion() {
    if (currentQuestion.value > 0) {
      currentQuestion.value--
      saveProgress()
    }
  }

  function goToQuestion(index) {
    if (index >= 0 && index < questions.length) {
      currentQuestion.value = index
      saveProgress()
    }
  }

  function completeTest() {
    isCompleted.value = true
    localStorage.setItem(COMPLETED_KEY, 'true')
  }

  function setReferralCode(code) {
    referralCode.value = code
    localStorage.setItem(REF_KEY, code)
  }

  function resetTest() {
    answers.value = {}
    currentQuestion.value = 0
    isCompleted.value = false
    localStorage.removeItem(STORAGE_KEY)
    localStorage.removeItem(PROGRESS_KEY)
    localStorage.removeItem(COMPLETED_KEY)
  }

  const progress = computed(() => {
    const answered = Object.keys(answers.value).length
    return Math.round((answered / questions.length) * 100)
  })

  const currentQuestionData = computed(() => {
    return questions[currentQuestion.value] || null
  })

  const sphereScores = computed(() => {
    const scores = {}
    spheres.forEach(sphere => {
      const scaleQuestion = questions.find(q => q.sphere === sphere.id && q.type === 'scale')
      if (scaleQuestion && answers.value[scaleQuestion.id] !== undefined) {
        scores[sphere.id] = answers.value[scaleQuestion.id]
      } else {
        scores[sphere.id] = 0
      }
    })
    return scores
  })

  const topStrengths = computed(() => {
    const sorted = [...spheres].sort((a, b) => 
      (sphereScores.value[b.id] || 0) - (sphereScores.value[a.id] || 0)
    )
    return sorted.slice(0, 3)
  })

  const growthZones = computed(() => {
    const sorted = [...spheres].sort((a, b) => 
      (sphereScores.value[a.id] || 0) - (sphereScores.value[b.id] || 0)
    )
    return sorted.slice(0, 3)
  })

  const mainLever = computed(() => {
    return growthZones.value[0] || null
  })

  const mainLeverRecommendations = computed(() => {
    if (!mainLever.value) return null
    return recommendations[mainLever.value.id] || null
  })

  const canProceed = computed(() => {
    const q = currentQuestionData.value
    if (!q) return false
    const answer = answers.value[q.id]
    if (q.type === 'scale') return answer !== undefined && answer !== null
    if (q.type === 'text') return answer && answer.trim().length > 0
    return false
  })

  const isLastQuestion = computed(() => {
    return currentQuestion.value === questions.length - 1
  })

  return {
    spheres,
    questions,
    recommendations,
    weekPlan,
    answers,
    currentQuestion,
    referralCode,
    isCompleted,
    progress,
    currentQuestionData,
    sphereScores,
    topStrengths,
    growthZones,
    mainLever,
    mainLeverRecommendations,
    canProceed,
    isLastQuestion,
    setAnswer,
    nextQuestion,
    prevQuestion,
    goToQuestion,
    completeTest,
    setReferralCode,
    resetTest
  }
})
