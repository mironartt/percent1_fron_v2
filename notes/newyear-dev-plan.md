# Year Review MVP — План разработки

**Проект:** Итоги 2025 / План на 2026  
**URL:** `/land/newyear`  
**Срок:** 7-10 дней  
**Дата создания:** 14 декабря 2025

---

## Обзор проекта

Вирусный инструмент для подведения итогов 2025 года. Пользователь проходит тест за 10 минут без регистрации, получает визуализацию года, делится карточкой в соцсетях, затем регистрируется для получения ИИ-плана на 2026.

### Ключевые метрики
- **Completion rate:** 70%+ (завершили тест)
- **Share rate:** 30%+ (поделились карточкой)
- **Conversion rate:** 40%+ (зарегистрировались после теста)
- **K-factor:** >1.0 (вирусный рост)

---

## Блок A: MVP (День 1-4)

**Цель:** Запустить работающий тест без регистрации

### Фаза 1: Лендинг и тест (День 1-2)

| # | Задача | Статус |
|---|--------|--------|
| 1.1 | Создать маршрут `/land/newyear` в роутере | ✅ |
| 1.2 | Создать компонент `NewYearLanding.vue` с hero-секцией | ✅ |
| 1.3 | Добавить секцию "Как это работает" (3 шага) | ✅ |
| 1.4 | Добавить секцию с примерами результатов | ✅ |
| 1.5 | Добавить секцию FAQ | ✅ |
| 1.6 | Создать компонент `NewYearTest.vue` | ✅ |
| 1.7 | Реализовать 12 вопросов по 6 сферам жизни | ✅ |
| 1.8 | Добавить прогресс-бар и навигацию между вопросами | ✅ |
| 1.9 | Сохранять прогресс в localStorage | ✅ |
| 1.10 | Добавить валидацию ответов | ✅ |

**Структура вопросов (12 штук, по 2 на сферу):**
```
Сферы: Здоровье, Карьера, Финансы, Отношения, Развитие, Отдых

Вопрос 1: Шкала 0-10 (оценка сферы)
Вопрос 2: Открытый текст (рефлексия)
```

### Фаза 2: Страница результатов (День 3-4)

| # | Задача | Статус |
|---|--------|--------|
| 2.1 | Создать компонент `NewYearResults.vue` | ✅ |
| 2.2 | Рассчитать баллы по 6 сферам из ответов | ✅ |
| 2.3 | Отобразить прогресс-бары по каждой сфере | ✅ |
| 2.4 | Показать топ-3 сильных сторон (зелёный градиент) | ✅ |
| 2.5 | Показать топ-3 зон роста (оранжевый градиент) | ✅ |
| 2.6 | Добавить блок "Главный рычаг 2026" | ✅ |
| 2.7 | Создать компонент `ShareCard.vue` для карточки 1080x1920 | ✅ |
| 2.8 | Добавить кнопку "Поделиться в Telegram" | ✅ |
| 2.9 | Добавить кнопку "Копировать ссылку" | ✅ |
| 2.10 | Добавить кнопку "Скачать карточку PNG" | ✅ |

**Дизайн карточки для шеринга:**
```
Формат: 1080x1920 (9:16 для Instagram/Telegram Stories)
Содержимое:
- Логотип OnePercent
- "Мои итоги 2025"
- 6 прогресс-баров по сферам
- Топ-3 сильных сторон
- Главный рычаг 2026
- QR-код или ссылка
```

---

## Блок B: Конверсия (День 5-6)

**Цель:** Регистрация пользователей через обещание ИИ-плана

### Фаза 3: Регистрация и ИИ-план

| # | Задача | Статус |
|---|--------|--------|
| 3.1 | Добавить CTA-блок "Получить ИИ-план на 2026" | ⬜ |
| 3.2 | Интегрировать форму регистрации (email или Telegram) | ⬜ |
| 3.3 | Добавить эндпоинт `POST /api/ai/year-plan` в aiProxy.js | ⬜ |
| 3.4 | Написать промпт для генерации целей и шагов | ⬜ |
| 3.5 | Создать страницу генерации с анимацией ожидания | ⬜ |
| 3.6 | Создать `NewYearPlan.vue` с конфетти-анимацией | ⬜ |
| 3.7 | Отобразить список целей с шагами и оценкой времени | ⬜ |
| 3.8 | Добавить блок "План на 4 недели" с датами | ⬜ |
| 3.9 | Создать вторую карточку для шеринга "2025→2026" | ⬜ |

**Структура ИИ-плана:**
```json
{
  "goals": [
    {
      "title": "Восстановить энергию",
      "metric": "8 часов сна + 2 тренировки в неделю",
      "steps": [
        { "title": "Установить будильник на 23:00", "hours": 1 },
        { "title": "Записаться в зал", "hours": 2 }
      ]
    }
  ],
  "weekPlan": [
    { "week": 1, "focus": "Здоровье", "tasks": [...] }
  ]
}
```

**Промпт для OpenAI (добавить в aiProxy.js):**
```
Ты - персональный коуч-планировщик. На основе результатов теста создай:
1. 3-5 целей на 2026 год (по зонам роста)
2. Декомпозицию каждой цели на шаги по 1-4 часа
3. Реалистичный план на 4 недели

Формат ответа: JSON
```

---

## Блок C: Рост (День 7-10)

**Цель:** Вирусное распространение и удержание

### Фаза 4: Реферальная система (День 7)

| # | Задача | Статус |
|---|--------|--------|
| 4.1 | Генерировать реферальный код при регистрации | ⬜ |
| 4.2 | Обрабатывать параметр `?ref=CODE` на лендинге | ⬜ |
| 4.3 | Отслеживать переходы и регистрации по рефералам | ⬜ |
| 4.4 | Начислять XP за приглашённых друзей | ⬜ |
| 4.5 | Добавить виджет "Пригласи друзей" с прогрессом | ⬜ |

**Система XP за рефералов:**
```
+50 XP — друг прошёл тест
+100 XP — друг зарегистрировался
+200 XP — друг активен 7 дней
```

### Фаза 5: Email и аналитика (День 8-10)

| # | Задача | Статус |
|---|--------|--------|
| 5.1 | Настроить email "Добро пожаловать" при регистрации | ⬜ |
| 5.2 | Настроить email "Твой план готов" через 15 минут | ⬜ |
| 5.3 | Настроить email "Первый шаг" через 24 часа | ⬜ |
| 5.4 | Добавить аналитику completion rate и share rate | ⬜ |
| 5.5 | Добавить расчёт K-factor вирусности | ⬜ |
| 5.6 | Интегрировать данные теста в Колесо Баланса OnePercent | ⬜ |
| 5.7 | Провести финальное тестирование всех сценариев | ⬜ |

---

## Структура файлов

```
src/
├── views/
│   └── land/
│       ├── NewYearLanding.vue    # Лендинг /land/newyear
│       ├── NewYearTest.vue       # Страница теста
│       ├── NewYearResults.vue    # Результаты
│       └── NewYearPlan.vue       # ИИ-план после регистрации
├── components/
│   └── newyear/
│       ├── ShareCard.vue         # Карточка для шеринга
│       ├── ProgressBar.vue       # Прогресс-бар сферы
│       ├── QuestionSlider.vue    # Слайдер 0-10
│       └── ConfettiAnimation.vue # Конфетти
└── stores/
    └── newyear.js                # Pinia store для теста

server/
└── aiProxy.js                    # Добавить эндпоинт /api/ai/year-plan
```

---

## Маршруты

```javascript
// router/index.js
{
  path: '/land/newyear',
  component: NewYearLanding,
  meta: { public: true }
},
{
  path: '/land/newyear/test',
  component: NewYearTest,
  meta: { public: true }
},
{
  path: '/land/newyear/results',
  component: NewYearResults,
  meta: { public: true }
},
{
  path: '/land/newyear/plan',
  component: NewYearPlan,
  meta: { requiresAuth: true }
}
```

---

## Технические заметки

### Не трогать
- `server/aiProxy.js` — только ДОБАВИТЬ новый эндпоинт `/api/ai/year-plan`
- Существующие API эндпоинты
- Backend Django интеграцию

### localStorage ключи
```javascript
'newyear_answers'      // Ответы на вопросы
'newyear_progress'     // Текущий вопрос
'newyear_ref'          // Реферальный код (если пришёл по ссылке)
'newyear_completed'    // Флаг завершения теста
```

### Зависимости (уже установлены)
- Vue 3 + Vite
- Pinia
- Vue Router
- Lucide Vue Next (иконки)

### Дополнительно понадобится
- `html2canvas` — для генерации PNG карточки
- `canvas-confetti` — для конфетти-анимации

---

## Чеклист запуска

### Перед MVP (День 4)
- [ ] Лендинг работает на `/land/newyear`
- [ ] Тест проходится полностью (12 вопросов)
- [ ] Результаты отображаются корректно
- [ ] Карточка генерируется и скачивается
- [ ] Шеринг в Telegram работает

### Перед полным запуском (День 10)
- [ ] Регистрация работает
- [ ] ИИ-план генерируется
- [ ] Реферальные ссылки отслеживаются
- [ ] Email-цепочка настроена
- [ ] Аналитика собирается
- [ ] Данные синхронизируются с OnePercent

---

## Контакты

**Ответственный:** [Имя]  
**Дедлайн MVP:** [Дата + 4 дня]  
**Дедлайн полный:** [Дата + 10 дней]
