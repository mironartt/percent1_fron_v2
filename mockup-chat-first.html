<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OnePercent ‚Äî Chat-First Layout Mockup v2</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary-color: #6366f1;
      --primary-dark: #4f46e5;
      --primary-light: rgba(99, 102, 241, 0.1);
      --secondary-color: #8b5cf6;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      --info-color: #3b82f6;

      --bg-primary: #ffffff;
      --bg-secondary: #f9fafb;
      --bg-tertiary: #f3f4f6;
      --bg-hover: #e5e7eb;
      --card-bg: #ffffff;

      --text-primary: #111827;
      --text-secondary: #6b7280;
      --text-tertiary: #9ca3af;
      --border-color: #e5e7eb;

      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

      --transition-fast: 150ms ease;

      --sidebar-width: 280px;
      --sidebar-collapsed: 72px;
      --bottom-nav-height: 56px;
      --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    }

    :root.dark {
      --primary-color: #818cf8;
      --primary-dark: #6366f1;
      --primary-light: rgba(129, 140, 248, 0.15);
      --secondary-color: #a78bfa;
      --success-color: #34d399;
      --warning-color: #fbbf24;
      --danger-color: #f87171;
      --info-color: #60a5fa;

      --bg-primary: #121212;
      --bg-secondary: #1a1a1a;
      --bg-tertiary: #242424;
      --bg-hover: #2a2a2a;
      --card-bg: #1e1e1e;
      --border-color: #2e2e2e;

      --text-primary: #f9fafb;
      --text-secondary: #d1d5db;
      --text-tertiary: #9ca3af;

      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    }

    body {
      font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-secondary);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      overflow: hidden;
      height: 100vh;
    }

    .app { display: flex; height: 100vh; }

    /* ==================== SIDEBAR (Sidebar.vue exact) ==================== */
    .sidebar {
      position: relative;
      width: var(--sidebar-width);
      background: var(--bg-primary);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      transition: width 0.3s ease;
      z-index: 100;
    }
    .sidebar.collapsed { width: var(--sidebar-collapsed); }

    .sidebar-header {
      padding: 1.5rem 1.5rem 1rem;
      border-bottom: 1px solid var(--border-color);
      min-height: 80px;
    }
    .sidebar-header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.25rem;
    }
    .sidebar.collapsed .logo { display: none; }
    .logo-short {
      display: none;
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .sidebar.collapsed .logo-short { display: block; }

    .tagline { font-size: 0.875rem; color: var(--text-secondary); }
    .sidebar.collapsed .tagline { display: none; }

    .theme-btn {
      display: flex; align-items: center; justify-content: center;
      width: 36px; height: 36px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .theme-btn:hover { background: var(--bg-hover); color: var(--primary-color); }
    .sidebar.collapsed .theme-btn { display: none; }
    .sidebar.collapsed .sidebar-header { padding: 1.5rem 0.75rem 1rem; text-align: center; }

    .collapse-btn {
      position: absolute;
      top: 110px; right: -12px;
      width: 24px; height: 24px;
      border-radius: 50%;
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; z-index: 101;
      color: var(--text-secondary);
      box-shadow: var(--shadow-sm);
      transition: all 0.2s ease;
    }
    .collapse-btn:hover { background: var(--bg-tertiary); box-shadow: var(--shadow-md); }
    .collapse-btn svg { transition: transform 0.3s ease; }
    .sidebar.collapsed .collapse-btn svg { transform: rotate(180deg); }

    .sidebar-nav { flex: 1; padding: 1.5rem 0; overflow-y: auto; }

    .nav-item {
      display: flex; align-items: center; gap: 0.75rem;
      padding: 0.875rem 1.5rem;
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9375rem;
      cursor: pointer;
      transition: background-color var(--transition-fast), color var(--transition-fast), transform var(--transition-fast);
    }
    .sidebar.collapsed .nav-item { padding: 0.875rem; justify-content: center; }

    .nav-item:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      transform: translateX(4px);
    }

    .nav-item.active {
      background: linear-gradient(90deg, rgba(99, 102, 241, 0.1), transparent);
      color: var(--primary-color);
      border-left: 3px solid var(--primary-color);
      padding-left: calc(1.5rem - 3px);
    }
    .nav-item.active:hover { transform: none; }
    .sidebar.collapsed .nav-item.active {
      padding-left: calc(0.875rem - 3px);
      background: rgba(99, 102, 241, 0.1);
    }

    .nav-item.disabled { opacity: 0.4; cursor: not-allowed; pointer-events: none; }

    .nav-label { white-space: nowrap; overflow: hidden; }
    .sidebar.collapsed .nav-label { opacity: 0; width: 0; display: none; }

    .nav-icon { width: 20px; height: 20px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: #9ca3af; transition: color 0.2s ease; }
    .nav-item:hover .nav-icon { color: var(--text-primary); }
    .nav-item.active .nav-icon { color: var(--primary-color); }

    .sidebar-footer { padding: 1rem 1.5rem; border-top: 1px solid var(--border-color); }
    .sidebar.collapsed .sidebar-footer { padding: 1rem 0.5rem; }

    /* ==================== MAIN CONTENT ==================== */
    .main-content {
      flex: 1; display: flex; flex-direction: column;
      min-width: 0; background: var(--bg-secondary);
    }

    /* ==================== MINI-DASHBOARD ==================== */
    .mini-dashboard {
      background: var(--card-bg);
      border-bottom: 1px solid var(--border-color);
      flex-shrink: 0;
    }
    .mini-dashboard-collapsed {
      display: flex; align-items: center; justify-content: space-between;
      padding: 0.625rem 1.5rem;
      cursor: pointer; gap: 1rem;
      transition: background 0.15s;
    }
    .mini-dashboard-collapsed:hover { background: var(--bg-tertiary); }

    .dash-metrics { display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; }
    .dash-metric { display: flex; align-items: center; gap: 0.375rem; font-size: 0.875rem; color: var(--text-secondary); white-space: nowrap; }
    .dash-metric .value { font-weight: 600; color: var(--text-primary); }
    .dash-focus { font-size: 0.875rem; color: var(--text-primary); font-weight: 500; }
    .dash-focus .label { color: var(--text-tertiary); font-weight: 400; margin-right: 0.25rem; }

    .toggle-btn {
      background: none; border: none; cursor: pointer;
      color: var(--text-secondary); padding: 4px 8px;
      border-radius: 0.5rem; transition: all 0.2s;
    }
    .toggle-btn:hover { background: var(--bg-hover); }
    .toggle-btn.expanded svg { transform: rotate(180deg); }
    .toggle-btn svg { transition: transform 0.3s; }

    .mini-dashboard-expanded {
      padding: 1rem 1.5rem 1.25rem;
      border-top: 1px solid var(--border-color);
      display: none;
    }
    .mini-dashboard-expanded.visible { display: block; }

    .focus-tasks { display: flex; flex-direction: column; gap: 0.625rem; }
    .focus-task {
      display: flex; align-items: center; gap: 0.625rem;
      font-size: 0.875rem; color: var(--text-primary); cursor: pointer;
    }
    .focus-task input[type="checkbox"] { accent-color: var(--primary-color); width: 18px; height: 18px; cursor: pointer; }
    .focus-task.done { text-decoration: line-through; color: var(--text-tertiary); }

    .progress-bar-wrapper { margin-top: 1rem; display: flex; align-items: center; gap: 0.75rem; }
    .progress-bar { flex: 1; height: 8px; background: var(--bg-tertiary); border-radius: 9999px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--primary-color); border-radius: 9999px; transition: width 0.3s ease; }
    .progress-label { font-size: 0.75rem; color: var(--text-tertiary); white-space: nowrap; }

    /* ==================== CHAT (MentorPanel.vue exact) ==================== */
    .chat-area { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
    .chat-messages { flex: 1; overflow-y: auto; padding: 16px; }
    .chat-messages-inner {
      max-width: 768px; width: 100%; margin: 0 auto;
      display: flex; flex-direction: column; gap: 12px;
    }

    .message { display: flex; gap: 8px; max-width: 90%; animation: msgIn 0.25s ease; }
    @keyframes msgIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    .message.user { margin-left: auto; flex-direction: row-reverse; }

    .msg-avatar {
      width: 28px; height: 28px; border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex; align-items: center; justify-content: center;
      color: white; flex-shrink: 0;
    }
    .msg-avatar svg { width: 16px; height: 16px; }

    .msg-bubble { padding: 10px 14px; border-radius: 16px; position: relative; }
    .message.assistant .msg-bubble {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-bottom-left-radius: 4px;
    }
    .message.user .msg-bubble {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-bottom-right-radius: 4px;
    }
    .msg-bubble .text { font-size: 0.9rem; line-height: 1.55; }

    .msg-time { display: block; font-size: 0.6875rem; color: var(--text-tertiary); margin-top: 4px; opacity: 0.7; }
    .message.user .msg-time { color: rgba(255, 255, 255, 0.7); }

    .typing-indicator { display: flex; gap: 8px; max-width: 90%; }
    .typing-bubble {
      padding: 14px 18px; border-radius: 16px; border-bottom-left-radius: 4px;
      background: var(--bg-secondary); border: 1px solid var(--border-color);
      display: flex; align-items: center; gap: 4px;
    }
    .typing-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--text-secondary);
      animation: typing-bounce 1.4s ease-in-out infinite;
    }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes typing-bounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-4px); } }

    /* Chat input (MentorPanel.vue input-container) */
    .chat-input-area {
      padding: 12px 16px;
      border-top: 1px solid var(--border-color);
      background: var(--bg-secondary);
      flex-shrink: 0;
    }
    .chat-input-inner { max-width: 768px; margin: 0 auto; }

    .chat-input-wrapper { display: flex; align-items: flex-end; gap: 8px; }

    .chat-input-wrapper textarea {
      flex: 1;
      padding: 10px 12px;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      background: var(--card-bg);
      color: var(--text-primary);
      font-size: 0.875rem;
      resize: none; outline: none;
      transition: border-color 0.2s;
      font-family: inherit;
      line-height: 1.5;
    }
    .chat-input-wrapper textarea:focus { border-color: var(--primary-color); }
    .chat-input-wrapper textarea::placeholder { color: var(--text-tertiary); }

    .send-btn {
      width: 40px; height: 40px;
      border-radius: 12px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none; color: white; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
      flex-shrink: 0;
    }
    .send-btn:hover:not(:disabled) { transform: scale(1.05); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); }
    .send-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .send-btn svg { width: 18px; height: 18px; }

    /* Quick prompts (MentorPanel.vue quick-prompt-btn) */
    .quick-prompts { max-width: 768px; margin: 0 auto 0.75rem; display: flex; gap: 8px; flex-wrap: wrap; }
    .quick-prompt {
      display: flex; align-items: center; gap: 8px;
      padding: 10px 14px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      font-size: 0.875rem;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
    }
    .quick-prompt:hover { background: var(--bg-hover); border-color: var(--primary-color); }

    /* ==================== BOTTOM NAV (BottomNavigation.vue) ==================== */
    .bottom-nav {
      display: none;
      position: fixed; bottom: 0; left: 0; right: 0;
      height: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
      padding-bottom: var(--safe-area-bottom);
      background: var(--bg-primary);
      border-top: 1px solid var(--border-color);
      z-index: 1100;
      backdrop-filter: blur(20px);
    }
    .bottom-nav-items {
      display: flex; align-items: stretch; justify-content: space-around;
      height: var(--bottom-nav-height); padding: 0 0.5rem;
    }
    .bottom-nav-item {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: 2px; flex: 1; min-width: 64px; min-height: 44px;
      padding: 6px 12px;
      font-size: 0.65rem; font-weight: 500;
      color: var(--text-secondary); cursor: pointer;
      transition: color 0.15s ease; text-decoration: none; position: relative;
    }
    .bottom-nav-item .bnav-icon { font-size: 1.25rem; }
    .bottom-nav-item.active { color: var(--primary-color); }
    .bottom-nav-item.active::before {
      content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
      width: 32px; height: 2px; background: var(--primary-color); border-radius: 0 0 2px 2px;
    }
    .bottom-nav-item.disabled { opacity: 0.3; pointer-events: none; }

    /* ==================== ONBOARDING MODE ==================== */
    .app.onboarding .sidebar { display: none; }
    .app.onboarding .mini-dashboard { display: none; }
    .app.onboarding .chat-messages { padding-top: 2rem; }

    .onboarding-header {
      display: none; padding: 1rem 1.5rem; text-align: center;
      border-bottom: 1px solid var(--border-color); background: var(--card-bg);
    }
    .app.onboarding .onboarding-header { display: block; }
    .onboarding-header .oh-logo {
      font-size: 1.25rem; font-weight: 700;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* ==================== MODE SWITCHER ==================== */
    .mode-switcher { position: fixed; top: 12px; right: 12px; z-index: 999; display: flex; gap: 6px; }
    .mode-btn {
      padding: 6px 14px; border-radius: 8px;
      border: 1px solid var(--border-color); background: var(--card-bg);
      color: var(--text-secondary); font-size: 0.75rem; font-weight: 500;
      cursor: pointer; transition: all 0.15s;
    }
    .mode-btn:hover { border-color: var(--primary-color); color: var(--primary-color); }
    .mode-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 1024px) {
      .sidebar { width: var(--sidebar-collapsed); }
      .sidebar .nav-label { display: none; }
      .sidebar .tagline { display: none; }
      .sidebar .logo { display: none; }
      .sidebar .logo-short { display: block; }
      .sidebar .theme-btn { display: none; }
      .sidebar .nav-item { padding: 0.875rem; justify-content: center; }
      .sidebar .nav-item.active { padding-left: calc(0.875rem - 3px); background: rgba(99, 102, 241, 0.1); }
      .sidebar .sidebar-footer { padding: 1rem 0.5rem; }
      .sidebar .sidebar-header { padding: 1.5rem 0.75rem 1rem; text-align: center; }
      .collapse-btn { display: none; }
    }
    @media (max-width: 768px) {
      .sidebar { display: none; }
      .bottom-nav { display: block; }
      .main-content { padding-bottom: var(--bottom-nav-height); }
      .mini-dashboard-collapsed { padding: 0.5rem 1rem; }
      .dash-metrics { gap: 0.75rem; }
      .chat-messages { padding: 1rem; }
      .chat-input-area { padding: 8px 12px; }
      .mode-switcher { top: auto; bottom: calc(var(--bottom-nav-height) + 8px); right: 8px; flex-direction: column; }
      .quick-prompt { padding: 8px 12px; font-size: 0.8125rem; }
    }

    /* Dark theme overrides */
    :root.dark .sidebar { background: var(--bg-primary); border-color: var(--border-color); }
    :root.dark .nav-item.active { background: rgba(129, 140, 248, 0.15); }
    :root.dark .chat-input-wrapper textarea { background: var(--bg-tertiary); border-color: var(--border-color); }
    :root.dark .chat-input-wrapper textarea:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.2); }
  </style>
</head>
<body>
  <div class="app" id="app">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-header-top">
          <span class="logo">OnePercent</span>
          <span class="logo-short">1%</span>
          <button class="theme-btn" onclick="toggleTheme()">
            <svg id="themeSvg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button>
        </div>
        <div class="tagline">+1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</div>
      </div>

      <button class="collapse-btn" onclick="toggleSidebar()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
      </button>

      <nav class="sidebar-nav" id="sidebarNav">
        <div class="nav-item active" data-nav="chat">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg></span>
          <span class="nav-label">–ß–∞—Ç</span>
        </div>
        <div class="nav-item" data-nav="dashboard">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></span>
          <span class="nav-label">–î–∞—à–±–æ—Ä–¥</span>
        </div>
        <div class="nav-item" data-nav="goals">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg></span>
          <span class="nav-label">–ë–∞–Ω–∫ —Ü–µ–ª–µ–π</span>
        </div>
        <div class="nav-item" data-nav="balance">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg></span>
          <span class="nav-label">–ö–æ–ª–µ—Å–æ –±–∞–ª–∞–Ω—Å–∞</span>
        </div>
        <div class="nav-item" data-nav="planning">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></span>
          <span class="nav-label">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
        </div>
        <div class="nav-item" data-nav="journal">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></span>
          <span class="nav-label">–î–Ω–µ–≤–Ω–∏–∫</span>
        </div>
        <div class="nav-item" data-nav="habits">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg></span>
          <span class="nav-label">–ü—Ä–∏–≤—ã—á–∫–∏</span>
        </div>
        <div class="nav-item" data-nav="achievements">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg></span>
          <span class="nav-label">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
        </div>
        <div class="nav-item" data-nav="learning">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 6 3 6 3s3 0 6-3v-5"/></svg></span>
          <span class="nav-label">–û–±—É—á–µ–Ω–∏–µ</span>
        </div>
      </nav>

      <div class="sidebar-footer">
        <div class="nav-item" data-nav="settings">
          <span class="nav-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c.26.604.852.997 1.51 1H21a2 2 0 0 1 0 4h-.09c-.658.003-1.25.396-1.51 1z"/></svg></span>
          <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </div>
      </div>
    </aside>

    <div class="main-content">
      <div class="onboarding-header"><span class="oh-logo">OnePercent</span></div>

      <div class="mini-dashboard" id="miniDashboard">
        <div class="mini-dashboard-collapsed" onclick="toggleDashboard()">
          <div class="dash-metrics">
            <div class="dash-focus"><span class="label">–§–æ–∫—É—Å:</span> –ó–∞–∫–æ–Ω—á–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é</div>
            <div class="dash-metric"><span>üî•</span> <span class="value">7</span> –¥–Ω–µ–π</div>
            <div class="dash-metric"><span>‚≠ê</span> <span class="value">1,240</span> XP</div>
            <div class="dash-metric"><span>‚úÖ</span> <span class="value">3/5</span> –∑–∞–¥–∞—á</div>
          </div>
          <button class="toggle-btn" id="dashToggle">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
        </div>
        <div class="mini-dashboard-expanded" id="dashExpanded">
          <div class="focus-tasks">
            <label class="focus-task done"><input type="checkbox" checked> –£—Ç—Ä–µ–Ω–Ω—è—è –º–µ–¥–∏—Ç–∞—Ü–∏—è (10 –º–∏–Ω)</label>
            <label class="focus-task done"><input type="checkbox" checked> –ü—Ä–æ—á–∏—Ç–∞—Ç—å 20 —Å—Ç—Ä–∞–Ω–∏—Ü –∫–Ω–∏–≥–∏</label>
            <label class="focus-task"><input type="checkbox"> –ó–∞–∫–æ–Ω—á–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é</label>
            <label class="focus-task"><input type="checkbox"> –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤ –∑–∞–ª–µ</label>
            <label class="focus-task done"><input type="checkbox" checked> –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é</label>
          </div>
          <div class="progress-bar-wrapper">
            <div class="progress-bar"><div class="progress-fill" style="width: 60%"></div></div>
            <span class="progress-label">60% –¥–Ω—è –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
          </div>
        </div>
      </div>

      <div class="chat-area">
        <div class="chat-messages" id="chatMessages">
          <div class="chat-messages-inner" id="messagesInner"></div>
        </div>
        <div class="chat-input-area">
          <div class="chat-input-inner">
            <div class="quick-prompts" id="quickPrompts">
              <div class="quick-prompt" onclick="sendQuick('–ö–∞–∫–∏–µ —É –º–µ–Ω—è –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è?')">üéØ –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</div>
              <div class="quick-prompt" onclick="sendQuick('–ü–æ–º–æ–≥–∏ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–µ–ª—é')">üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
              <div class="quick-prompt" onclick="sendQuick('–ö–∞–∫ –º–Ω–µ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å?')">üí° –°–æ–≤–µ—Ç—ã</div>
              <div class="quick-prompt" onclick="sendQuick('–†–∞—Å—Å–∫–∞–∂–∏ –æ –º–µ—Ç–æ–¥–µ 1%')">üìñ –û –º–µ—Ç–æ–¥–µ 1%</div>
            </div>
            <div class="chat-input-wrapper">
              <textarea id="chatInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="3" onkeydown="handleKey(event)"></textarea>
              <button class="send-btn" onclick="sendMessage()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="bottom-nav">
      <div class="bottom-nav-items">
        <div class="bottom-nav-item active" data-bnav="chat"><span class="bnav-icon">üí¨</span><span>–ß–∞—Ç</span></div>
        <div class="bottom-nav-item" data-bnav="goals"><span class="bnav-icon">üéØ</span><span>–¶–µ–ª–∏</span></div>
        <div class="bottom-nav-item" data-bnav="planning"><span class="bnav-icon">üìÖ</span><span>–ü–ª–∞–Ω</span></div>
        <div class="bottom-nav-item" data-bnav="more"><span class="bnav-icon">‚ò∞</span><span>–ï—â—ë</span></div>
      </div>
    </div>

    <div class="mode-switcher">
      <button class="mode-btn active" onclick="setMode('normal')" id="modeNormal">–û–±—ã—á–Ω—ã–π</button>
      <button class="mode-btn" onclick="setMode('onboarding')" id="modeOnboarding">–û–Ω–±–æ—Ä–¥–∏–Ω–≥</button>
      <button class="mode-btn" onclick="toggleTheme()" id="themeToggleBtn">üåô –¢–µ–º–∞</button>
    </div>
  </div>

  <script>
    const BOT_SVG = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/></svg>';

    let isDark = false, dashboardExpanded = false, sidebarCollapsed = false, currentMode = 'normal';

    const normalMessages = [
      { type: 'assistant', text: '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! üëã –°–µ–≥–æ–¥–Ω—è —É —Ç–µ–±—è 5 –∑–∞–¥–∞—á –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ. 3 —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Ç–µ–º–ø!', time: '09:12' },
      { type: 'assistant', text: '–ì–ª–∞–≤–Ω—ã–π —Ñ–æ–∫—É—Å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è ‚Äî <strong>–∑–∞–∫–æ–Ω—á–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é</strong>. –•–æ—á–µ—à—å —Ä–∞–∑–æ–±—å—ë–º –µ—ë –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏?', time: '09:12' },
      { type: 'user', text: '–î–∞, –¥–∞–≤–∞–π! –£ –º–µ–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å —Å–ª–∞–π–¥—ã –ø—Ä–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥', time: '09:14' },
      { type: 'assistant', text: '–û—Ç–ª–∏—á–Ω–æ! –í–æ—Ç –ø–ª–∞–Ω:\n\n1. <strong>–°–ª–∞–π–¥ "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã"</strong> ‚Äî —Å–æ–±–µ—Ä–∏ 3-4 –∫–ª—é—á–µ–≤—ã—Ö –∏–≥—Ä–æ–∫–∞, –∏—Ö —Å–∏–ª—å–Ω—ã–µ/—Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã (‚âà30 –º–∏–Ω)\n2. <strong>–§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥</strong> ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ + call-to-action (‚âà15 –º–∏–Ω)\n3. <strong>–†–µ–≤—å—é</strong> ‚Äî –ø—Ä–æ–π–¥–∏—Å—å –ø–æ –≤—Å–µ–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–∫—É (‚âà15 –º–∏–Ω)\n\n–ò—Ç–æ–≥–æ ~1 —á–∞—Å. –ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –Ω–∞—á–∞—Ç—å?', time: '09:15' },
      { type: 'user', text: '–ü–æ—Å–ª–µ –æ–±–µ–¥–∞, –≤ 14:00', time: '09:16' },
      { type: 'assistant', text: '–ó–∞–ø–∏—Å–∞–ª! –ù–∞–ø–æ–º–Ω—é —Ç–µ–±–µ –≤ 13:55 üîî\n\n–ö—Å—Ç–∞—Ç–∏, —Ç—ã —É–∂–µ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –≤—ã–ø–æ–ª–Ω—è–µ—à—å —É—Ç—Ä–µ–Ω–Ω—é—é –º–µ–¥–∏—Ç–∞—Ü–∏—é ‚Äî —ç—Ç–æ —Å—Ç—Ä–∏–∫! üî• –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.', time: '09:16' },
    ];

    const onboardingMessages = [
      { type: 'assistant', text: '–ü—Ä–∏–≤–µ—Ç! üëã –Ø –°–∞—à–∞ ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –≤ OnePercent.\n\n–†–∞–¥ —á—Ç–æ —Ç—ã –∑–¥–µ—Å—å! –î–∞–≤–∞–π –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏ –Ω–µ–º–Ω–æ–≥–æ –æ —Å–µ–±–µ. –ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ —Ç–µ–±—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?', time: '10:00' },
      { type: 'user', text: '–ü—Ä–∏–≤–µ—Ç! –•–æ—á—É –Ω–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –∂–∏–∑–Ω–∏, —á—É–≤—Å—Ç–≤—É—é —á—Ç–æ —Å—Ç–æ—é –Ω–∞ –º–µ—Å—Ç–µ', time: '10:02' },
      { type: 'assistant', text: '–ü–æ–Ω–∏–º–∞—é —ç—Ç–æ –æ—â—É—â–µ–Ω–∏–µ ‚Äî –∫–æ–≥–¥–∞ –≤—Ä–æ–¥–µ –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ –Ω–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –≤–ø–µ—Ä—ë–¥. –ú–Ω–æ–≥–∏–µ —Å —ç—Ç–æ–≥–æ –Ω–∞—á–∏–Ω–∞—é—Ç.\n\n–ê –∫–∞–∫–∞—è —Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç —Å–µ–π—á–∞—Å? –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞—Ä—å–µ—Ä–∞, –∑–¥–æ—Ä–æ–≤—å–µ, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —Ñ–∏–Ω–∞–Ω—Å—ã?', time: '10:02' },
      { type: 'user', text: '–ö–∞—Ä—å–µ—Ä–∞ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å. –†–∞–±–æ—Ç–∞—é —É–∂–µ 3 –≥–æ–¥–∞ –Ω–∞ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏ –Ω–µ —Ä–∞—Å—Ç—É', time: '10:04' },
      { type: 'assistant', text: '–¢—Ä–∏ –≥–æ–¥–∞ –Ω–∞ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî —ç—Ç–æ —Å–µ—Ä—å—ë–∑–Ω–æ. –¢—ã —É–∂–µ –¥—É–º–∞–ª, –∫—É–¥–∞ —Ö–æ—á–µ—à—å –¥–≤–∏–≥–∞—Ç—å—Å—è? –ù–∞–ø—Ä–∏–º–µ—Ä:\n\n‚Äî –í—ã—Ä–∞—Å—Ç–∏ –Ω–∞ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–µ (–ø–æ–≤—ã—à–µ–Ω–∏–µ)\n‚Äî –°–º–µ–Ω–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é –Ω–∞ –ø–æ–∑–∏—Ü–∏—é —É—Ä–æ–≤–Ω–µ–º –≤—ã—à–µ\n‚Äî –ò–ª–∏ –º–æ–∂–µ—Ç —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ?', time: '10:05' },
    ];

    function renderMessages(msgs) {
      const inner = document.getElementById('messagesInner');
      inner.innerHTML = msgs.map(m => `
        <div class="message ${m.type}">
          ${m.type === 'assistant' ? `<div class="msg-avatar">${BOT_SVG}</div>` : ''}
          <div class="msg-bubble">
            <div class="text">${m.text.replace(/\n/g, '<br>')}</div>
            <span class="msg-time">${m.time}</span>
          </div>
        </div>
      `).join('');
      if (currentMode === 'onboarding') {
        inner.innerHTML += `<div class="typing-indicator"><div class="msg-avatar">${BOT_SVG}</div><div class="typing-bubble"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div>`;
      }
      document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
    }

    function setMode(mode) {
      currentMode = mode;
      const app = document.getElementById('app');
      document.getElementById('modeNormal').classList.toggle('active', mode === 'normal');
      document.getElementById('modeOnboarding').classList.toggle('active', mode === 'onboarding');
      app.classList.toggle('onboarding', mode === 'onboarding');
      renderMessages(mode === 'onboarding' ? onboardingMessages : normalMessages);
      document.querySelectorAll('.bottom-nav-item').forEach(item => {
        item.classList.toggle('disabled', mode === 'onboarding' && item.dataset.bnav !== 'chat');
      });
    }

    function toggleTheme() {
      isDark = !isDark;
      document.documentElement.classList.toggle('dark', isDark);
      document.getElementById('themeToggleBtn').textContent = isDark ? '‚òÄÔ∏è –¢–µ–º–∞' : 'üåô –¢–µ–º–∞';
    }

    function toggleDashboard() {
      dashboardExpanded = !dashboardExpanded;
      document.getElementById('dashExpanded').classList.toggle('visible', dashboardExpanded);
      document.getElementById('dashToggle').classList.toggle('expanded', dashboardExpanded);
    }

    function toggleSidebar() {
      sidebarCollapsed = !sidebarCollapsed;
      document.getElementById('sidebar').classList.toggle('collapsed', sidebarCollapsed);
    }

    function handleKey(e) { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); } }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const text = input.value.trim();
      if (!text) return;
      const now = new Date();
      const time = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
      const msgs = currentMode === 'onboarding' ? onboardingMessages : normalMessages;
      msgs.push({ type: 'user', text, time });
      renderMessages(msgs);
      input.value = '';
      input.style.height = 'auto';

      setTimeout(() => {
        document.getElementById('messagesInner').innerHTML += `<div class="typing-indicator"><div class="msg-avatar">${BOT_SVG}</div><div class="typing-bubble"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div>`;
        document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
      }, 500);

      setTimeout(() => {
        msgs.push({ type: 'assistant', text: '–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è –≤–º–µ—Å—Ç–µ. –†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ –¥–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Å–æ–≤–µ—Ç ü§î', time });
        renderMessages(msgs);
      }, 2500);
    }

    function sendQuick(text) { document.getElementById('chatInput').value = text; sendMessage(); }

    document.getElementById('chatInput').addEventListener('input', function() {
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 120) + 'px';
    });

    renderMessages(normalMessages);
  </script>
</body>
</html>
