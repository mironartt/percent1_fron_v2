# OnePercent MVP

## Overview
The OnePercent MVP is a Vue 3 + Vite application for personal life management and goal tracking, inspired by the "1% improvement" philosophy. Its core purpose is to empower users with tools for self-improvement, fostering consistent growth. Key capabilities include a Balanced Scorecard (SSP) module for life balance assessment and a Goals Bank for structured goal setting, offering a guided, multi-step workflow. The project integrates an AI Mentor for user engagement and leverages a Django REST API backend for data persistence and authentication. The business vision is to establish a market-leading platform for personal development.

## User Preferences
I prefer simple language and iterative development. Ask before making major changes. I prefer detailed explanations. Do not make changes to the folder `Z`. Do not make changes to the file `Y`.

## System Architecture

### UI/UX Decisions
The application employs a guided, multi-step workflow for core modules. It features an interactive "Wheel of Life," a collapsible sidebar, dark/light theme, responsive design, and a consistent color priority system. Lucide Vue Next provides minimalist line icons. Mobile responsiveness is a key design consideration, with a primary breakpoint at 768px, hamburger menus for mobile navigation, and adaptive layouts for components like the MentorWidget and modals. A global MentorPanel ensures a unified experience across devices, with independent state management for desktop and mobile views.


### Technical Implementations
The frontend is built with Vue 3 (Composition API, script setup), Vite (with proxy to Django backend), Vue Router (with authentication guards), and Pinia for state management (with localStorage persistence). A custom Django-style configuration system (`settings.js` + `local_settings.js`) is used. Authentication is cookie-based with CSRF protection.

### Feature Specifications
- **SSP Module**: Redesigned tab-based interface for life balance assessment (removed 4-step wizard since SSP is covered in onboarding). Three tabs: "Колесо" (wheel + statistics + reassess button), "Рефлексия" (accordion with inline editing + per-sphere Create Goal CTA), "История" (trend charts per sphere). Features Bottom Sheet for quick reassessment with sliders, sspHistory store for assessment history with localStorage persistence and backend sync readiness. GoalEdit modal for goal creation with pre-selected sphere. Mobile-adaptive layout with responsive tabs and accordions.
- **Goals Bank Module**: Enhanced goal management with visual goal cards (sphere icons, colored borders, emoji indicators), goal templates by life spheres (35 pre-configured templates across 7 spheres), inline editing modal, and streamlined goal creation flow. Goal cards display sphere-specific styling with icons and progress indicators. **Simplified creation modal**: Reflection questions ("Почему важно?", "Как изменит жизнь?") now optional — collapsed by default with "Добавить рефлексию" toggle (badge "опционально"). **Simplified status system**: Only two statuses — "В работе" (in-work) and "Завершена" (completed); removed goal evaluation/validation flow, "На оценке" filter, validated/rejected states. Filter chips: Все, В работе, Завершены.
- **Goal Details Page (GoalEdit)**: Mobile-first redesign featuring **inline step addition** (Remente-inspired input field with +/check buttons), **step checklists** (sub-tasks within steps), **mini-journal** (collapsible notes section with add/delete entries and relative date formatting), compact sticky header, step cards with priority/time/date meta-info, FAB button, Bottom Sheet for step editing with checklist support. Auto-save syncs changes with backend, including journal entries via dedicated saveJournal() function. **Collapsible reflection block** under header (shows "Почему важно?" and "Как изменит жизнь?", collapsed by default). **"Запланировать шаги" CTA** after mini-journal with unscheduled steps counter, navigates to Planning module.
- **Planning Module**: Complete mobile-first redesign with single-page planner (no wizard). Features include: Week Bar with day tabs, chip filters for spheres/statuses (All/Unscheduled/Scheduled), card-based step grid, FAB button for adding steps, Bottom Sheet for task actions (complete, reschedule, priority, time, remove), compact weekly stats (steps count, completed, total time), infinite scroll for goals list. Loads step data via dedicated API endpoint. **Interactive steps in Goals block**: Tapping a step opens Bottom Sheet with context-aware actions — scheduled steps show Complete/Reschedule/Priority/Time/Remove options with info badges, unscheduled steps show 7-day grid for quick scheduling. Touch-friendly mobile styles with min-height 48-52px and active states.
- **Authentication**: Integrates with the Django backend for user login, registration, and logout, supporting Telegram authentication.
- **Onboarding (AI-Powered)**: A 5-step process with integrated SSP diagnosis, AI analysis, and auto-generated personalized goals and steps. Includes a post-onboarding Goals Review System.
- **AI Mentor**: A personalized coach providing contextual help and analysis via a Dashboard Widget (full chat interface) and a Floating Button (contextual hints). Features a demo mode with planned OpenAI integration.
- **First Steps**: A 7-step checklist guiding users through initial actions, with auto-completion triggers and personalized AI Mentor encouragement.
- **Learning Center**: A dedicated page containing all tutorial content, with progress tracking for lessons.
- **Dashboard ("День пользователя")**: Redesigned for daily retention, featuring a context-aware header, "Focus of the Day," compact habit tracker, evening reflection, AI Mentor CTA, and quick navigation links.
- **Journal/Diary Module**: Daily reflection feature with 4 questions, AI coach responses (demo mode), streak tracking, calendar history view, and full backend synchronization with optimistic UI updates.
- **XP/Gamification System**: Complete extrinsic motivation system with XP economy for habits, focus tasks, goal steps, and goals. Includes a reward wishlist, daily progress tracking, and a profile statistics page.
- **Habit Tracker**: Dashboard-integrated habit completion widget with "+X XP" micro-feedback animations and customizable habits via a modal manager. The dedicated Habits Page offers full habit management with scheduling, gamification settings (soft/balanced/hardcore/custom modes), XP penalties (0-200), and per-habit analytics. **Analytics Tab redesign**: Three main blocks (Выполнение, Календарь, Достижения) with compact view + "expand" buttons opening detailed modals. "Выполнение" modal: 8-week trend chart, per-habit distribution bars, best/worst week stats. "Календарь" modal: yearly heatmap (GitHub-style), monthly breakdown with rates. "Достижения" modal: 19 badges across 4 categories (Серии, Выполнение, Объём, Разнообразие) with progress bars for locked badges. Redesigned habits modal: 8 icons + "..." in single row (nowrap), always-visible XP slider (1-100), always-visible 4-row description textarea, schedule presets auto-highlight days (daily→all, weekdays→Mon-Fri, weekends→Sat-Sun), manual day selection switches to custom mode. Icons stored as names (e.g., 'fire', 'strength') for DB compatibility; habitIconsData contains 32 unique icons with {emoji, name} structure; normalizeIconName() provides backward compatibility for legacy emoji-based habits. Settings modal: removed AI-coach section, right-aligned footer, amnesty slider for non-soft modes with description, inline penalty sliders (0-100) for planning/journal toggles. Today modal: interactive habit checkboxes with XP display for quick completion. Top bar: compact mode button "режим: {название}" with settings icon, grid 1fr 1fr 1fr 1.5fr (4th block wider). Amnesty banner: appears on main page when amnestiesRemaining > 0 and missedDaysForAmnesty.length > 0; shows missed days from last 7 days with penalty XP; user can select specific day to forgive; amnestied dates stored in gameSettings.amnestiedDates; pink gradient styling. Habit suggestions modal: "Подобрать привычку" button opens modal with 5 categories (Здоровье, Продуктивность, Саморазвитие, Ментальное здоровье, Режим), each with 5 pre-configured habits; selecting fills formData automatically.
- **Bidirectional Calendar ↔ Goals Block Sync**: Enables synchronization of step dates, completion status, priority, and time estimates between the weekly calendar and the "Goals and Steps" block.
- **Marketing Landing Page** (route: `/`): Full-page conversion-focused landing inspired by procent1.ru. Sections: Hero with UTP, interactive 1% effect slider (30-365 days with compound growth visualization), problem-solution block, **interactive app preview section** (4 tabs: ССП, Планирование, Привычки, Достижения with browser mockup and feature descriptions), 8 feature cards (ССП, Goals Bank, Planner, AI Mentor, Journal, Habits Tracker, Achievements, XP & Rewards), 5-step journey visualization, audience targeting, testimonials, benefits, and final CTA. Mobile-first responsive design with @media 900px breakpoint for preview section, gradient styling, smooth scroll header.

### System Design Choices
The application uses a modular structure with dedicated components, services, views, router, and stores. Pinia manages state with persistence and reactivity. The system prioritizes user guidance, visual feedback, and a clean interface. The AI Mentor is a central value proposition. Backend synchronization provides immediate UI feedback and reliable data persistence, employing patterns like goal routing with `backendId`, race condition prevention, optimized step synchronization, and API pagination with append functionality.

## External Dependencies
- **Django REST API Backend**: Provides user authentication, profile management, SSP data, goals bank, decomposition, planning, onboarding, and journal services.
- **Lucide Vue Next**: Used for minimalist line icons.
- **Vite**: Frontend build tool providing fast development and a proxy to the Django backend.
- **Telegram OAuth**: Integrated for user registration and login.