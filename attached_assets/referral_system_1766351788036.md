# API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

## –û–±–∑–æ—Ä

–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ OnePercent –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—ã:

- **–†–µ—Ñ–µ—Ä–µ—Ä** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≥–ª–∞—Å–∏–ª –¥—Ä—É–≥–∞ (–≤–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞)
- **–†–µ—Ñ–µ—Ä–∞–ª** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:**
- –ù–∞–≥—Ä–∞–¥–∞: 30% –æ—Ç –ø–µ—Ä–≤–æ–π –æ–ø–ª–∞—Ç—ã —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª—ã—Ö —Ä—É–±–ª–µ–π)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 3000 —Ä—É–±–ª–µ–π
- –í—ã–≤–æ–¥: —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤—Ä—É—á–Ω—É—é

---

## –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π 12-—Å–∏–º–≤–æ–ª—å–Ω—ã–π HEX –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `A1B2C3D4E5F6`).

–î–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—Å—ã–ª–æ–∫:
- –ü—Ä—è–º–∞—è: `https://percent1.ru/ref/A1B2C3D4E5F6`
- Query: `https://percent1.ru/?ref=A1B2C3D4E5F6`

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω:

1. **–ò–∑–≤–ª–µ—á—å –∫–æ–¥ –∏–∑ URL:**
```javascript
// –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ /ref/{code}
const pathMatch = window.location.pathname.match(/^\/ref\/([A-Z0-9]+)$/i);
if (pathMatch) {
  localStorage.setItem('referral_code', pathMatch[1].toUpperCase());
}

// Query —Å—Å—ã–ª–∫–∞ /?ref={code}
const urlParams = new URLSearchParams(window.location.search);
const refCode = urlParams.get('ref');
if (refCode) {
  localStorage.setItem('referral_code', refCode.toUpperCase());
}
```

2. **–ü–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
```javascript
const registrationData = {
  first_name: '–ò–≤–∞–Ω',
  email: 'ivan@example.com',
  password1: 'password123',
  password2: 'password123',
  is_terms_accepted: true,
  is_privacy_accepted: true,
  referral_code: localStorage.getItem('referral_code') || null  // <-- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
};

const result = await api.post('/api/rest/front/registration/', registrationData);

// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ–¥
localStorage.removeItem('referral_code');
```

### –í–∞–∂–Ω–æ

- –ü–æ–ª–µ `referral_code` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ—Ç –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–≤—è–∑–∏
- –ö–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –¥–æ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–¥ (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ—Ñ–µ—Ä–µ—Ä) –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏

---

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

**URL:** `POST /api/rest/front/app/referral/get/`

**Request:**
```json
{
  "page": 1,
  "page_size": 10,
  "order_by": "date_created",
  "order_direction": "desc"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `page` | int | –ù–µ—Ç | 1 | –°—Ç—Ä–∞–Ω–∏—Ü–∞ |
| `page_size` | int | –ù–µ—Ç | 10 | –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (1-50) |
| `order_by` | string | –ù–µ—Ç | "date_created" | –ü–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: `date_created`, `has_first_payment` |
| `order_direction` | string | –ù–µ—Ç | "desc" | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `asc`, `desc` |

**Response:**
```json
{
  "status": "ok",
  "data": {
    "balance": 1500.00,
    "total_earned": 3000.00,
    "total_referrals": 10,
    "paid_referrals": 5,
    "pending_withdrawals": 0.00,
    "min_withdrawal_amount": 3000.00,
    "referral_links": {
      "direct": "https://percent1.ru/ref/A1B2C3D4E5F6",
      "query": "https://percent1.ru/?ref=A1B2C3D4E5F6"
    },
    "calculator": [
      {
        "tariff_code": "pro",
        "tariff_title": "Pro",
        "term_months": 1,
        "term_title": "1 –º–µ—Å—è—Ü",
        "payment_amount": 990.00,
        "reward_amount": 297.00
      },
      {
        "tariff_code": "pro",
        "tariff_title": "Pro",
        "term_months": 3,
        "term_title": "3 –º–µ—Å—è—Ü–∞",
        "payment_amount": 2673.00,
        "reward_amount": 801.00
      },
      {
        "tariff_code": "pro",
        "tariff_title": "Pro",
        "term_months": 6,
        "term_title": "6 –º–µ—Å—è—Ü–µ–≤",
        "payment_amount": 4752.00,
        "reward_amount": 1425.00
      },
      {
        "tariff_code": "pro",
        "tariff_title": "Pro",
        "term_months": 12,
        "term_title": "12 –º–µ—Å—è—Ü–µ–≤",
        "payment_amount": 8316.00,
        "reward_amount": 2494.00
      },
      {
        "tariff_code": "club",
        "tariff_title": "–ö–ª—É–± 1%",
        "term_months": 1,
        "term_title": "1 –º–µ—Å—è—Ü",
        "payment_amount": 2990.00,
        "reward_amount": 897.00
      }
    ],
    "referrals": [
      {
        "id": 1,
        "email_masked": "i***@example.com",
        "has_first_payment": true,
        "first_payment_amount": 990.00,
        "first_payment_date": "2024-01-15 10:30:00",
        "date_created": "2024-01-10 14:20:00"
      },
      {
        "id": 2,
        "email_masked": "p***@gmail.com",
        "has_first_payment": false,
        "first_payment_amount": null,
        "first_payment_date": null,
        "date_created": "2024-01-12 09:15:00"
      }
    ],
    "total_items": 10,
    "page": 1,
    "page_size": 10,
    "total_pages": 1
  }
}
```

**–ü–æ–ª—è:**
| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `balance` | –¢–µ–∫—É—â–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –≤—ã–≤–æ–¥–∞ |
| `total_earned` | –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è |
| `total_referrals` | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ |
| `paid_referrals` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —Å –æ–ø–ª–∞—Ç–æ–π |
| `pending_withdrawals` | –°—É–º–º–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ |
| `min_withdrawal_amount` | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞ (3000 —Ä—É–±) |
| `referral_links` | –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `calculator` | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞ (30% –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞/–ø–µ—Ä–∏–æ–¥–∞) |
| `referrals` | –°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π |

---

### 2. –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**URL:** `POST /api/rest/front/app/referral/transactions/get/`

**Request:**
```json
{
  "page": 1,
  "page_size": 20,
  "type_filter": null
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `page` | int | –ù–µ—Ç | 1 | –°—Ç—Ä–∞–Ω–∏—Ü–∞ |
| `page_size` | int | –ù–µ—Ç | 20 | –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (1-100) |
| `type_filter` | string | –ù–µ—Ç | null | –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É: `income`, `withdrawal` |

**Response:**
```json
{
  "status": "ok",
  "data": {
    "transactions": [
      {
        "id": 1,
        "type": "income",
        "amount": 297.00,
        "balance_after": 1500.00,
        "date_created": "2024-01-15 10:35:00"
      },
      {
        "id": 2,
        "type": "withdrawal",
        "amount": -3000.00,
        "balance_after": 500.00,
        "date_created": "2024-01-20 12:00:00"
      }
    ],
    "total_items": 10,
    "page": 1,
    "page_size": 20,
    "total_pages": 1
  }
}
```

**–¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—É–º–º–∞ |
|-----|----------|-------|
| `income` | –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ | –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è (+297.00) |
| `withdrawal` | –°–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—ã–≤–æ–¥ | –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è (-3000.00) |

---

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥

**URL:** `POST /api/rest/front/app/referral/withdrawal/create/`

**Request:**
```json
{
  "amount": 3000.00,
  "comment": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É –°–±–µ—Ä–±–∞–Ω–∫–∞: 4276 1234 5678 9012"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `amount` | decimal | –î–∞ | –°—É–º–º–∞ –≤—ã–≤–æ–¥–∞ (–º–∏–Ω–∏–º—É–º 3000 —Ä—É–±) |
| `comment` | string | –ù–µ—Ç | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (—Ä–µ–∫–≤–∏–∑–∏—Ç—ã, –ø–æ–∂–µ–ª–∞–Ω–∏—è) |

**Response (—É—Å–ø–µ—Ö):**
```json
{
  "status": "ok",
  "data": {
    "withdrawal": {
      "id": 5,
      "amount": 3000.00,
      "status": "pending",
      "comment": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É –°–±–µ—Ä–±–∞–Ω–∫–∞: 4276 1234 5678 9012",
      "date_created": "2024-01-20 12:00:00",
      "processed_at": null,
      "admin_comment": null
    },
    "new_balance": 0.00
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `withdrawal_min_amount` | –°—É–º–º–∞ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π (3000 —Ä—É–±) |
| `withdrawal_insufficient_balance` | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ |

---

### 4. –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—ã–≤–æ–¥

**URL:** `POST /api/rest/front/app/referral/withdrawal/get/`

**Request:**
```json
{
  "status_filter": null
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `status_filter` | string | –ù–µ—Ç | null | –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É: `pending`, `approved`, `rejected`, `completed` |

**Response:**
```json
{
  "status": "ok",
  "data": {
    "withdrawals": [
      {
        "id": 5,
        "amount": 3000.00,
        "status": "pending",
        "comment": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É –°–±–µ—Ä–±–∞–Ω–∫–∞: 4276 1234 5678 9012",
        "date_created": "2024-01-20 12:00:00",
        "processed_at": null,
        "admin_comment": null
      },
      {
        "id": 3,
        "amount": 5000.00,
        "status": "completed",
        "comment": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É",
        "date_created": "2024-01-10 09:00:00",
        "processed_at": "2024-01-11 14:30:00",
        "admin_comment": "–í—ã–ø–æ–ª–Ω–µ–Ω–æ, —á–µ–∫ #12345"
      }
    ]
  }
}
```

**–°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫:**
| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–≤–µ—Ç UI |
|--------|----------|---------|
| `pending` | –û–∂–∏–¥–∞–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è | –û—Ä–∞–Ω–∂–µ–≤—ã–π (#F59E0B) |
| `approved` | –û–¥–æ–±—Ä–µ–Ω–æ, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –°–∏–Ω–∏–π (#3B82F6) |
| `rejected` | –û—Ç–∫–ª–æ–Ω–µ–Ω–æ (—Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã) | –ö—Ä–∞—Å–Ω—ã–π (#EF4444) |
| `completed` | –í—ã–ø–æ–ª–Ω–µ–Ω–æ | –ó–µ–ª–µ–Ω—ã–π (#10B981) |

---

## –¢–∏–ø–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã /app/referral

```javascript
async function loadReferralPage() {
  // 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  const result = await api.post('/app/referral/get/', {
    page: 1,
    page_size: 10
  });

  const data = result.data;

  // 2. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  showStats({
    balance: data.balance,
    totalEarned: data.total_earned,
    totalReferrals: data.total_referrals,
    paidReferrals: data.paid_referrals
  });

  // 3. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏
  showReferralLinks(data.referral_links);

  // 4. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
  showCalculator(data.calculator);

  // 5. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
  showReferralsTable(data.referrals, {
    page: data.page,
    totalPages: data.total_pages
  });

  // 6. –ö–Ω–æ–ø–∫–∞ –≤—ã–≤–æ–¥–∞
  const canWithdraw = data.balance >= data.min_withdrawal_amount;
  showWithdrawButton(canWithdraw, data.min_withdrawal_amount);
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏

```javascript
async function copyReferralLink(linkType) {
  const result = await api.post('/app/referral/get/', {});
  const links = result.data.referral_links;

  const link = linkType === 'direct' ? links.direct : links.query;

  await navigator.clipboard.writeText(link);
  showToast('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥

```javascript
async function createWithdrawal(amount, comment) {
  try {
    const result = await api.post('/app/referral/withdrawal/create/', {
      amount: amount,
      comment: comment
    });

    showSuccess(`–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ ${amount} —Ä—É–±. —Å–æ–∑–¥–∞–Ω–∞!`);

    // –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å
    updateBalance(result.data.new_balance);

    // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
    await loadWithdrawals();

  } catch (error) {
    if (error.error_code?.includes('withdrawal_min_amount')) {
      showError(`–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 3000 —Ä—É–±.`);
    } else if (error.error_code?.includes('withdrawal_insufficient_balance')) {
      showError('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ');
    } else {
      showError(error.error_message);
    }
  }
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏

```javascript
async function loadWithdrawals(statusFilter = null) {
  const result = await api.post('/app/referral/withdrawal/get/', {
    status_filter: statusFilter
  });

  const withdrawals = result.data.withdrawals;

  withdrawals.forEach(w => {
    const statusBadge = getStatusBadge(w.status);
    const canCancel = w.status === 'pending'; // –¢–æ–ª—å–∫–æ pending –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å

    renderWithdrawalRow(w, statusBadge, canCancel);
  });
}

function getStatusBadge(status) {
  const badges = {
    'pending': { text: '–û–∂–∏–¥–∞–µ—Ç', color: '#F59E0B' },
    'approved': { text: '–û–¥–æ–±—Ä–µ–Ω–æ', color: '#3B82F6' },
    'rejected': { text: '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ', color: '#EF4444' },
    'completed': { text: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ', color: '#10B981' }
  };
  return badges[status];
}
```

---

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –†–∞—Å—á–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã

```
reward = floor(payment_amount * 0.30)
```

–ü—Ä–∏–º–µ—Ä:
- –ü–ª–∞—Ç–µ–∂ —Ä–µ—Ñ–µ—Ä–∞–ª–∞: 990 —Ä—É–±
- –ù–∞–≥—Ä–∞–¥–∞ —Ä–µ—Ñ–µ—Ä–µ—Ä–∞: floor(990 * 0.30) = 297 —Ä—É–±

### –ö–æ–≥–¥–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–≥—Ä–∞–¥–∞

1. –†–µ—Ñ–µ—Ä–∞–ª —Å–æ–≤–µ—Ä—à–∞–µ—Ç **–ø–µ—Ä–≤—É—é** –æ–ø–ª–∞—Ç—É (–ª—é–±–æ–π –ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)
2. –ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Robokassa
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è `income` –Ω–∞ –±–∞–ª–∞–Ω—Å —Ä–µ—Ñ–µ—Ä–µ—Ä–∞

**–í–∞–∂–Ω–æ:**
- –ù–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–∞ **–ø–µ—Ä–≤—É—é** –æ–ø–ª–∞—Ç—É
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–ª–∞—Ç—ã —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –Ω–∞–≥—Ä–∞–¥—É –Ω–µ –¥–∞—é—Ç
- –ù–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–ª–∞—Ç–µ–∂ —Ä–µ–∞–ª—å–Ω—ã–π (`is_real_payment = True`)

### –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫—É (amount >= 3000, amount <= balance)
2. –°—É–º–º–∞ —Å—Ä–∞–∑—É —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –±–∞–ª–∞–Ω—Å–∞ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è `withdrawal`)
3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞—è–≤–∫—É:
   - `approve` ‚Üí –∑–∞—è–≤–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∞, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - `complete` ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã
   - `reject` ‚Üí –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ, —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ –±–∞–ª–∞–Ω—Å

---

## UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                 ‚îÇ
‚îÇ  üí∞ –ë–∞–ª–∞–Ω—Å: 1 500 ‚ÇΩ                             ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞                                  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 3 000 ‚ÇΩ                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ –í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤: 10                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –° –æ–ø–ª–∞—Ç–æ–π: 5                              ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  [–í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞]                             ‚îÇ
‚îÇ                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                 ‚îÇ
‚îÇ  https://percent1.ru/ref/A1B2C3D4E5F6    [üìã]  ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ 30%             ‚îÇ
‚îÇ  –æ—Ç –∏—Ö –ø–µ—Ä–≤–æ–π –æ–ø–ª–∞—Ç—ã!                           ‚îÇ
‚îÇ                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                 ‚îÇ
‚îÇ  –ï—Å–ª–∏ –¥—Ä—É–≥ –∫—É–ø–∏—Ç:           –í—ã –ø–æ–ª—É—á–∏—Ç–µ:        ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îÇ
‚îÇ  Pro (1 –º–µ—Å) - 990 ‚ÇΩ        ‚Üí 297 ‚ÇΩ            ‚îÇ
‚îÇ  Pro (3 –º–µ—Å) - 2 673 ‚ÇΩ      ‚Üí 801 ‚ÇΩ            ‚îÇ
‚îÇ  Pro (6 –º–µ—Å) - 4 752 ‚ÇΩ      ‚Üí 1 425 ‚ÇΩ          ‚îÇ
‚îÇ  Pro (12 –º–µ—Å) - 8 316 ‚ÇΩ     ‚Üí 2 494 ‚ÇΩ          ‚îÇ
‚îÇ  –ö–ª—É–± 1% (1 –º–µ—Å) - 2 990 ‚ÇΩ  ‚Üí 897 ‚ÇΩ            ‚îÇ
‚îÇ                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Email           ‚îÇ –°—Ç–∞—Ç—É—Å   ‚îÇ –û–ø–ª–∞—Ç–∞    ‚îÇ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  i***@example.com ‚îÇ ‚úÖ –û–ø–ª–∞—Ç–∞ ‚îÇ 990 ‚ÇΩ     ‚îÇ 10.01.2024         ‚îÇ
‚îÇ  p***@gmail.com   ‚îÇ ‚è≥ –ñ–¥—ë–º   ‚îÇ ‚Äî         ‚îÇ 12.01.2024         ‚îÇ
‚îÇ  a***@mail.ru     ‚îÇ ‚úÖ –û–ø–ª–∞—Ç–∞ ‚îÇ 2 673 ‚ÇΩ   ‚îÇ 15.01.2024         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –°—É–º–º–∞    ‚îÇ –°—Ç–∞—Ç—É—Å          ‚îÇ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è ‚îÇ –î–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  3 000 ‚ÇΩ  ‚îÇ üü† –û–∂–∏–¥–∞–µ—Ç      ‚îÇ 20.01.2024    ‚îÇ ‚Äî                ‚îÇ
‚îÇ  5 000 ‚ÇΩ  ‚îÇ üü¢ –í—ã–ø–æ–ª–Ω–µ–Ω–æ    ‚îÇ 10.01.2024    ‚îÇ 11.01.2024       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

```json
{
  "status": "error",
  "error_code": "REF00X_error_type",
  "error_message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `REF003_withdrawal_min_amount` | –°—É–º–º–∞ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π (3000 —Ä—É–±) |
| `REF003_withdrawal_insufficient_balance` | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ |

---

## –ß–µ–∫-–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞:**
   - [ ] –ü–∞—Ä—Å–∏–Ω–≥ `/ref/{code}` –∏–∑ URL
   - [ ] –ü–∞—Ä—Å–∏–Ω–≥ `?ref={code}` –∏–∑ query
   - [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
   - [ ] –ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - [ ] –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ /app/referral:**
   - [ ] –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–±–∞–ª–∞–Ω—Å, –∑–∞—Ä–∞–±–æ—Ç–æ–∫, —Ä–µ—Ñ–µ—Ä–∞–ª—ã)
   - [ ] –ë–ª–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏ —Å –∫–Ω–æ–ø–∫–æ–π –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
   - [ ] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ—Ö–æ–¥–∞
   - [ ] –¢–∞–±–ª–∏—Ü–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
   - [ ] –ö–Ω–æ–ø–∫–∞ "–í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞" (–∞–∫—Ç–∏–≤–Ω–∞ –µ—Å–ª–∏ balance >= 3000)

3. **–ú–æ–¥–∞–ª–∫–∞ –≤—ã–≤–æ–¥–∞:**
   - [ ] –ü–æ–ª–µ —Å—É–º–º—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è >= 3000, <= balance)
   - [ ] –ü–æ–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (—Ä–µ–∫–≤–∏–∑–∏—Ç—ã)
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
   - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

4. **–°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫:**
   - [ ] –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Å—Ç–∞—Ç—É—Å—É
   - [ ] –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —Ü–≤–µ—Ç–∞–º–∏
   - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∞–¥–º–∏–Ω–∞

5. **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
   - [ ] –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–∏–ø—É
   - [ ] –¶–≤–µ—Ç–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ (–∑–µ–ª–µ–Ω—ã–π = income, –∫—Ä–∞—Å–Ω—ã–π = withdrawal)
   - [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ email** ‚Äî email —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ (`i***@example.com`)

2. **–§–æ—Ä–º–∞—Ç –¥–∞—Ç** ‚Äî –≤—Å–µ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD HH:MM:SS` (–º–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è)

3. **–°—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö** ‚Äî –≤—Å–µ —Å—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö —Å 2 –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Å –ø–æ–ª—è–º–∏ `page`, `page_size`, `total_pages`, `total_items`

5. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:**
   - `date_created` ‚Äî –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - `has_first_payment` ‚Äî –ø–æ —Å—Ç–∞—Ç—É—Å—É –æ–ø–ª–∞—Ç—ã

6. **–í–∞–ª—é—Ç–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞** ‚Äî —Ü–µ–Ω—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤, –Ω–∞–≥—Ä–∞–¥–∞ = 30% (floor)

7. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫** ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤—Ä—É—á–Ω—É—é, —Å—Ä–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏
