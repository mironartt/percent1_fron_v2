–°–µ–π—á–∞—Å –±—É–¥–µ–º –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –±–æ–ª—å—à–æ–π –∑–∞–¥–∞—á–µ–π –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–∞—Ç–∞ AI –º–µ–Ω—Ç–æ—Ä–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º.  


–£ –Ω–∞—Å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ, —ç—Ç–æ –ø—Ä–∞–≤—ã–π –±–ª–æ–∫ –ø–æ–≤–µ—Ä—Ö –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã `AI –ú–µ–Ω—Ç–æ—Ä`.    
–û–±—â–∏–µ –º–æ–º–µ–Ω—Ç—ã:  
- –Æ–∑–µ—Ä –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç, –∏ –±—ç–∫ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –≤ –¥–∞–Ω–Ω—ã–π —á–∞—Ç.   
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–∫–∞ –±—ç–∫ –Ω–µ –¥–∞—Å—Ç –æ—Ç–≤–µ—Ç–∞.  
–¢—É—Ç –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –µ–º—É –≤–≤–æ–¥ (—ç—Ç–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —Ñ—Ä–æ–Ω—Ç, –∞ –Ω–∞ –±—ç–∫–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—è —á—Ç–æ –µ—â–µ –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª –æ—Ç–≤–µ—Ç),
–ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ –±—É–¥–µ—Ç –¥–ª—è –±—ç–∫–∞) –∏ –¥–∞–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Ñ—Ä–æ–Ω—Ç—É, —á—Ç–æ–±—ã –æ–Ω –æ—Ç—Ä–∏—Å–æ–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–≤–µ—Ç.   
–ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ —á–∞—Ç –±—ã–ª –Ω–∞ —Å–≤—è–∑–∏, —Ç.–∫. –±—ç–∫ –º–æ–∂–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
–ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ –∞–∫—Ç–∏–≤–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±—ç–∫–æ–º.  

–ù–∞ –±—ç–∫–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –Ω–µ –∞–∫—Ç–∏–≤—ã–Ω–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ.   
–ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–æ, —Ñ—Ä–æ—Ç –±—É–¥–µ—Ç —Å–∞–º –ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.  
–ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —á–∞—Ç–∞. –ò —á—Ç–æ–±—ã –æ–Ω–æ –æ—Ç–≤–µ—á–∞–ª–æ –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.  

–ü–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É —á–∞—Ç–∞ —á–∞—Å—Ç–∏—á–Ω–æ —É–∂–µ –æ–ø–∏—Å–∞–Ω–æ:
- —é–∑–µ—Ä –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ (–Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –∑–∞–ª–æ–∂–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≥–æ–ª–æ—Å–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–µ –±—É–¥–µ–º, –Ω–æ –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ–º)
- —é–∑–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç, –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–æ—à–ª–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- —é–∑–µ—Ä –º–æ–∂–µ—Ç –ª–∏—Å—Ç–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π
- –Ω–∞ –±—ç–∫–µ –¥–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–ª —Å–æ–æ–±—â–µ–Ω–∏–µ
- —Ç–∞–∫–∂–µ —Ñ—Ä–æ–Ω—Ç, –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Å–∞–π—Ç–µ –∏–¥–µ—Ç —á–∞—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —Ç.–µ. –Ω—É–∂–Ω–æ –∑–∞–ª–æ–∂–∏—Ç—å —á—Ç–æ —Ñ—Ä–æ–Ω—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ meta –¥–∞–Ω–Ω—ã–µ (–∫–∞–∫ –æ–±—ã—á–Ω–æ —Å–ª–æ–≤–∞—Ä—å json)
- –ø–æ–¥—É–º–∞—Ç—å –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–ª–∞–≥–∞—é —á—Ç–æ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –∏–ª–∏ markdown –∏–ª–∏ html –≤–µ—Ä—Å–∫—Ç–∞ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, —á—Ç–æ–±—ã –æ–Ω–∏ –≤—ã–≥–ª—è–¥–µ–ª–∏ –±–æ–ª–µ–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ.

–í—ã—à–µ —è —É–∫–∞–∑–∞–ª –≤—Å–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏ –Ω—É–∂–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.  

–í –¥–∞–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —è –ø—Ä–∏–∫—Ä–µ–ø–∏–ª —Ñ–∞–π–ª `chat_v3_integration.md` –≥–¥–µ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –∫–∞–∂–¥–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.  

----

## –ø—Ä–∏–º–µ—Ä
–î–æ–±–∞–≤–ª—é –ø—Ä–∏–º–µ—Ä—ã, –∫–∞–∫ —è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–æ–∫–µ—Ç–∞–º –ª–æ–∫–∞–ª—å–Ω–æ (—ç—Ç–æ –Ω–µ –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é, –∞ –ª–∏—à—å –ø—Ä–∏–º–µ—Ä).  
–Ø –∞–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞–ª—Å—è –Ω–∞ —Å–∞–π—Ç–µ, –æ—Ç–∫—Ä—ã–≤–∞–ª –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –≤—Å—Ç–∞–≤–ª—è–ª:
```js
let chatWS = null;

// ========================================
// CONNECTION
// ========================================

function connectWebSocket(url = 'wss://ft1zzp-95-72-16-20.ru.tuna.am/ws/chat/') {
    console.log(`üîÑ Connecting to ${url}...`);

    chatWS = new WebSocket(url);

    chatWS.onopen = function(event) {
        console.log('‚úÖ WebSocket Connected!');
        console.log('   Use helper functions:');
        console.log('   - sendMessage(conversationId, content)');
        console.log('   - startTyping(conversationId)');
        console.log('   - stopTyping(conversationId)');
        console.log('   - markAsRead(conversationId, messageIds)');
        console.log('   - addReaction(messageId, reactionType)');
        console.log('   - disconnect()');
    };

    chatWS.onmessage = function(event) {
        console.log('üì® Message received:', event.data);

        try {
            const data = JSON.parse(event.data);
            console.log('üì¶ Parsed:', data);

            // Pretty print based on type
            switch(data.type) {
                case 'new_message':
                    const msg = data.data?.message || data.message;
                    console.log(`üí¨ New message (${msg.message_type}):`);
                    console.log(`   "${msg.content}"`);
                    if (msg.message_type === 'bot') {
                        console.log('   ü§ñ From AI Bot');
                        if (msg.bot_metadata?.is_proactive) {
                            console.log('   üì¢ Proactive message');
                        }
                    }
                    break;

                case 'bot_typing':
                    const typing = data.data?.typing;
                    if (typing) {
                        console.log('‚å®Ô∏è  Bot is typing...');
                    } else {
                        console.log('‚å®Ô∏è  Bot stopped typing');
                    }
                    break;

                case 'message_sent':
                    const sentMsg = data.data?.message;
                    console.log('‚úÖ Message sent successfully');
                    console.log('   Message ID:', sentMsg?.message_id);
                    break;

                case 'messages_read':
                    console.log(`üëÅÔ∏è  Messages marked as read: ${data.message_ids.join(', ')}`);
                    break;

                case 'reaction_added':
                    console.log(`üëç Reaction "${data.reaction.reaction_type}" added to message ${data.reaction.message_id}`);
                    break;

                // === v2 Events ===
                case 'ping':
                    console.log('üèì Ping received, sending pong...');
                    chatWS.send(JSON.stringify({ action: 'pong', data: {} }));
                    console.log('üèì Pong sent!');
                    break;

                case 'force_disconnect':
                    console.warn('‚ö†Ô∏è  FORCE DISCONNECT!');
                    console.warn('   Reason:', data.data?.reason);
                    console.warn('   Chat opened in another tab/device');
                    break;

                case 'error':
                    console.error('‚ùå Error:', data.data?.error_message || data.error_message);
                    console.error('   Code:', data.data?.error_code || data.error_code);
                    break;

                default:
                    console.log('üì¨ Unknown message type:', data.type);
            }
        } catch (e) {
            console.error('‚ö†Ô∏è  Failed to parse message:', e);
        }
    };

    chatWS.onerror = function(error) {
        console.error('‚ùå WebSocket Error:', error);
    };

    chatWS.onclose = function(event) {
        console.log('üîå WebSocket Disconnected');
        console.log('   Code:', event.code);
        console.log('   Reason:', event.reason || 'No reason');
        console.log('   Clean:', event.wasClean);

        // v2 close codes
        switch(event.code) {
            case 4001:
                console.error('‚ùå Not authenticated! Please login first.');
                break;
            case 4002:
                console.warn('‚è∞ Heartbeat timeout - no pong response');
                break;
            case 4003:
                console.warn('üîÑ Force disconnected - new connection opened elsewhere');
                break;
            default:
                if (!event.wasClean) {
                    console.warn('‚ö†Ô∏è  Connection closed unexpectedly!');
                }
        }
    };

    return chatWS;
}

// ========================================
// HELPER FUNCTIONS
// ========================================

function sendMessage(conversationId, content, sourcePage = '/test-console', clientContext = null) {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected! Call connectWebSocket() first.');
        return;
    }

    const message = {
        action: 'send_message',
        data: {
            conversation_id: conversationId,
            content: content,
            source_page: sourcePage,
            client_context: clientContext
        }
    };

    console.log('üì§ Sending message:', message);
    chatWS.send(JSON.stringify(message));
}

// v2: Send pong manually (for testing)
function sendPong() {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected!');
        return;
    }
    chatWS.send(JSON.stringify({ action: 'pong', data: {} }));
    console.log('üèì Pong sent manually');
}

function startTyping(conversationId) {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected!');
        return;
    }

    chatWS.send(JSON.stringify({
        action: 'typing_start',
        data: { conversation_id: conversationId }
    }));
    console.log('‚å®Ô∏è  Started typing...');
}

function stopTyping(conversationId) {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected!');
        return;
    }

    chatWS.send(JSON.stringify({
        action: 'typing_stop',
        data: { conversation_id: conversationId }
    }));
    console.log('‚å®Ô∏è  Stopped typing');
}

function markAsRead(conversationId, messageIds = null) {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected!');
        return;
    }

    const data = { conversation_id: conversationId };
    if (messageIds) {
        data.message_ids = Array.isArray(messageIds) ? messageIds : [messageIds];
    }

    chatWS.send(JSON.stringify({
        action: 'mark_read',
        data: data
    }));
    console.log('üëÅÔ∏è  Marking as read...');
}

function addReaction(messageId, reactionType = 'like') {
    if (!chatWS || chatWS.readyState !== WebSocket.OPEN) {
        console.error('‚ùå WebSocket not connected!');
        return;
    }

    chatWS.send(JSON.stringify({
        action: 'add_reaction',
        data: {
            message_id: messageId,
            reaction_type: reactionType  // like, dislike, helpful
        }
    }));
    console.log(`üëç Adding "${reactionType}" reaction...`);
}

function disconnect() {
    if (chatWS) {
        chatWS.close();
        console.log('üîå Disconnecting...');
    } else {
        console.log('‚ö†Ô∏è  Already disconnected');
    }
}

function getStatus() {
    if (!chatWS) {
        console.log('Status: Not initialized');
        return;
    }

    const states = {
        0: 'CONNECTING',
        1: 'OPEN',
        2: 'CLOSING',
        3: 'CLOSED'
    };

    console.log('WebSocket Status:', states[chatWS.readyState]);
    console.log('URL:', chatWS.url);
}

// ========================================
// AUTO CONNECT
// ========================================

console.log('üöÄ WebSocket Test Script v2 Loaded!');
console.log('');
console.log('Available functions:');
console.log('  connectWebSocket(url)                    - Connect to WebSocket server');
console.log('  sendMessage(convId, text, page, ctx)    - Send a message with meta data');
console.log('  startTyping(convId)                      - Start typing indicator');
console.log('  stopTyping(convId)                       - Stop typing indicator');
console.log('  markAsRead(convId, [msgIds])             - Mark messages as read');
console.log('  addReaction(msgId, type)                 - Add reaction (like/dislike/helpful)');
console.log('  sendPong()                               - Send pong manually (v2)');
console.log('  disconnect()                             - Close connection');
console.log('  getStatus()                              - Check connection status');
console.log('');
console.log('v2 Features:');
console.log('  - Auto pong response to ping (heartbeat)');
console.log('  - Force disconnect handling (multi-tab)');
console.log('  - source_page & client_context support');
console.log('');
console.log('Close codes: 4001=Not auth, 4002=Heartbeat timeout, 4003=Force disconnect');
console.log('');

// === Choose connection URL ===
// For PRODUCTION:
// connectWebSocket('wss://ft1zzp-95-72-16-20.ru.tuna.am/ws/chat/');

// For LOCAL testing:
// connectWebSocket('ws://localhost:8001/ws/chat/');

console.log('‚ö†Ô∏è  Auto-connect disabled. Run one of:');
console.log('   connectWebSocket("wss://ft1zzp-95-72-16-20.ru.tuna.am/ws/chat/")  - Production');
console.log('   connectWebSocket("ws://localhost:8001/ws/chat/") - Local');
console.log('');
```
–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–∞–ª—Å—è:
```js
connectWebSocket('wss://ft1zzp-95-72-16-20.ru.tuna.am/ws/chat/')
```
–ü–æ—Å–ª–µ –º–æ–≥ —É—Å–ø–µ—à–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å:
```js
sendMessage(2, '–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ3', '/goals', { test: true })
```
ID —á–∞—Ç–∞ —è –ø–æ–ª—É—á–∞–ª –∏–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ get-user-data, –≤ –Ω–µ–º –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è (—ç—Ç–æ –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ):
```js
// –í get-user-data –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç ai_bot_chat:
{
    conversation_id: number,  // ID –±–µ—Å–µ–¥—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    unread_count: number,     // –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –±–æ—Ç–∞
    is_bot_processing: boolean // –§–ª–∞–≥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
}
```

----

–¢–≤–æ—è –∑–∞–¥–∞—á–∞ –∏–∑—É—á–∏—Ç—å –≤—Å—ë, —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.  
–í–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–ª–æ—Å—å –Ω–µ –ø–æ –ø—Ä–∏—á–∏–Ω–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–æ–≤–æ–≥–æ, —Ç–æ –ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ.