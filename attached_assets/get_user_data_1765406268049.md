# –≠–Ω–¥–ø–æ–∏–Ω—Ç: get-user-data/

**URL:** `POST /api/rest/front/get-user-data/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∫–ª—é—á–∞—è —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–≤—ã—á–∫–∞—Ö –∏ –∑–∞–¥–∞—á–∞—Ö –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∞ —Ç–∞–∫–∂–µ XP –±–∞–ª–∞–Ω—Å.

## –ó–∞–ø—Ä–æ—Å

–≠–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤):

```json
{}
```

**–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:** –î–∞ (authentication required)

## –û—Ç–≤–µ—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

```json
{
  "status": "ok",
  "data": {
    "id": 123,
    "email": "user@example.com",
    "first_name": "–ò–≤–∞–Ω",
    "finish_onboarding": true,
    "finish_minitask": true,
    "is_telegram_registration": false,
    "telegram_bot_link": "https://t.me/onepercentbot?start=abc123def456",
    "has_diary_entry_today": true,
    "xp_balance": 1250,
    "lifetime_xp": 5000,
    "today_habits": {
      "total_count": 5,
      "completed_count": 3,
      "habits": [
        {
          "habit_id": 1,
          "name": "–£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞",
          "icon": "üí™",
          "is_completed": true
        },
        {
          "habit_id": 2,
          "name": "–ú–µ–¥–∏—Ç–∞—Ü–∏—è",
          "icon": "üßò",
          "is_completed": false
        }
      ]
    },
    "today_tasks": {
      "total_count": 8,
      "completed_count": 4,
      "tasks": [
        {
          "step_id": 10,
          "step_title": "–ü—Ä–æ–±–µ–∂–∞—Ç—å 5–∫–º",
          "goal_id": 1,
          "goal_title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Ä–∞—Ñ–æ–Ω—É",
          "is_complete": true,
          "priority": 1,
          "time_duration": 30,
          "order": 1
        },
        {
          "step_id": 11,
          "step_title": "–†–∞—Å—Ç—è–∂–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–±–µ–∂–∫–∏",
          "goal_id": 1,
          "goal_title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Ä–∞—Ñ–æ–Ω—É",
          "is_complete": false,
          "priority": 0,
          "time_duration": 15,
          "order": 2
        }
      ]
    },
    "top_goals": {
      "total_incomplete_goals": 15,
      "goals": [
        {
          "goal_id": 1,
          "title": "–í—ã—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
          "category": "hobby",
          "status": "work",
          "score": "true",
          "total_steps": 10,
          "completed_steps": 7,
          "progress_percent": 70,
          "date_created": "2023-08-27 15:43:45"
        },
        {
          "goal_id": 2,
          "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Ä–∞—Ñ–æ–Ω—É",
          "category": "health_sport",
          "status": "work",
          "score": "true",
          "total_steps": 20,
          "completed_steps": 12,
          "progress_percent": 60,
          "date_created": "2023-09-10 10:00:00"
        },
        {
          "goal_id": 3,
          "title": "–ù–∞—É—á–∏—Ç—å—Å—è –≥–æ—Ç–æ–≤–∏—Ç—å",
          "category": "hobby",
          "status": "work",
          "score": null,
          "total_steps": 5,
          "completed_steps": 2,
          "progress_percent": 40,
          "date_created": "2023-10-01 12:30:00"
        }
      ]
    }
  }
}
```

## –ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞

### –ö–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `status` | string | –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: `"ok"` –∏–ª–∏ `"error"` |
| `data` | object | –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### –û–±—ä–µ–∫—Ç `data`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `id` | integer | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ |
| `email` | string | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–ª–∏ @username, –µ—Å–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Telegram) |
| `first_name` | string | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `finish_onboarding` | boolean | –ó–∞–≤–µ—Ä—à–µ–Ω –ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ |
| `finish_minitask` | boolean | –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –º–∏–Ω–∏—Ç–∞—Å–∫ —á–∞—Å—Ç—å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ |
| `is_telegram_registration` | boolean | –ë—ã–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ |
| `telegram_bot_link` | string | –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–≤—è–∑–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ |
| `has_diary_entry_today` | boolean | –ï—Å—Ç—å –ª–∏ –∑–∞–ø–∏—Å—å –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å |
| `xp_balance` | integer | –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å XP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã) |
| `lifetime_xp` | integer | –°—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ XP, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è |
| `today_habits` | object | –î–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–∏–≤—ã—á–∫–∞–º –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (—Å–º. –Ω–∏–∂–µ) |
| `today_tasks` | object | –î–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–¥–∞—á–∞–º/—à–∞–≥–∞–º —Ü–µ–ª–µ–π –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (—Å–º. –Ω–∏–∂–µ) |
| `top_goals` | object | –¢–æ–ø-3 –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º (—Å–º. –Ω–∏–∂–µ) |

### –û–±—ä–µ–∫—Ç `today_habits`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `total_count` | integer | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –¥–Ω—è –Ω–µ–¥–µ–ª–∏) |
| `completed_count` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ —Å–µ–≥–æ–¥–Ω—è |
| `habits` | array | –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏–≤—ã—á–µ–∫ (—Å–º. –Ω–∏–∂–µ) |

### –û–±—ä–µ–∫—Ç –ø—Ä–∏–≤—ã—á–∫–∏ –≤ `habits`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `habit_id` | integer | ID –ø—Ä–∏–≤—ã—á–∫–∏ |
| `name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (e.g. "–£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞") |
| `icon` | string | –≠–º–æ–¥–∑–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∏–∫–æ–Ω–∫–∞ –ø—Ä–∏–≤—ã—á–∫–∏ |
| `is_completed` | boolean | –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –ø—Ä–∏–≤—ã—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è |

### –û–±—ä–µ–∫—Ç `today_tasks`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `total_count` | integer | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á (—à–∞–≥–æ–≤ —Ü–µ–ª–µ–π) –Ω–∞ —Å–µ–≥–æ–¥–Ω—è |
| `completed_count` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á —Å–µ–≥–æ–¥–Ω—è |
| `tasks` | array | –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–¥–∞—á (—Å–º. –Ω–∏–∂–µ) |

### –û–±—ä–µ–∫—Ç –∑–∞–¥–∞—á–∏ –≤ `tasks`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `step_id` | integer | ID —à–∞–≥–∞ —Ü–µ–ª–∏ |
| `step_title` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞ (e.g. "–ü—Ä–æ–±–µ–∂–∞—Ç—å 5–∫–º") |
| `goal_id` | integer | ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ü–µ–ª–∏ |
| `goal_title` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ü–µ–ª–∏ (e.g. "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Ä–∞—Ñ–æ–Ω—É") |
| `is_complete` | boolean | –í—ã–ø–æ–ª–Ω–µ–Ω –ª–∏ —à–∞–≥ |
| `priority` | integer | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 0 (–Ω–∏–∑–∫–∏–π), 1 (—Å—Ä–µ–¥–Ω–∏–π), 2 (–≤—ã—Å–æ–∫–∏–π) |
| `time_duration` | integer \| null | –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö (–º–æ–∂–µ—Ç –±—ã—Ç—å null) |
| `order` | integer | –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö —Ü–µ–ª–∏ |

### –û–±—ä–µ–∫—Ç `top_goals`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `total_incomplete_goals` | integer | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π —Å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º–∏ —à–∞–≥–∞–º–∏ |
| `goals` | array | –ú–∞—Å—Å–∏–≤ —Ç–æ–ø-3 —Ü–µ–ª–µ–π —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º (—Å–º. –Ω–∏–∂–µ) |

### –û–±—ä–µ–∫—Ç —Ü–µ–ª–∏ –≤ `goals` (top_goals)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `goal_id` | integer | ID —Ü–µ–ª–∏ |
| `title` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ (e.g. "–í—ã—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫") |
| `category` | string \| null | –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ü–µ–ª–∏: `welfare`, `hobby`, `environment`, `health_sport`, `work`, `family` |
| `status` | string \| null | –°—Ç–∞—Ç—É—Å —Ü–µ–ª–∏: `work`, `complete`, `rejected` |
| `score` | string \| null | –û—Ü–µ–Ω–∫–∞ —Ü–µ–ª–∏: `true` (–∏—Å—Ç–∏–Ω–Ω–∞—è) –∏–ª–∏ `false` (–ª–æ–∂–Ω–∞—è) |
| `total_steps` | integer | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –≤ —Ü–µ–ª–∏ |
| `completed_steps` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤ |
| `progress_percent` | integer | –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–∏ (0-99, –Ω–µ 100 —Ç.–∫. —Ç–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏) |
| `date_created` | string | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `"YYYY-MM-DD HH:MM:SS"` |

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ `top_goals`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ —Ü–µ–ª–µ–π:**
1. –¢–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ (—Å—Ç–∞—Ç—É—Å –Ω–µ `complete`)
2. –¢–æ–ª—å–∫–æ —Ü–µ–ª–∏ —Å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∏–º —à–∞–≥–æ–º (`total_steps > 0`)
3. –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è —Ü–µ–ª–∏ —Å–æ 100% –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º (–≤—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)
4. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é `progress_percent`, –∑–∞—Ç–µ–º –ø–æ `completed_steps`
5. –ú–∞–∫—Å–∏–º—É–º 3 —Ü–µ–ª–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ü–µ–ª–∏, –±–ª–∏–∑–∫–∏–µ –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é
- –ú–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–∞—á–∞—Ç—ã—Ö —Ü–µ–ª–µ–π
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —Ü–µ–ª—è–º —Å –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Frontend)

### Vue 3 + TypeScript

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
async function fetchUserData() {
  try {
    const response = await fetch('/api/rest/front/get-user-data/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': getCsrfToken(),
      },
      body: JSON.stringify({}),
    });

    const result = await response.json();

    if (result.status === 'ok') {
      const userData = result.data;

      console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', userData.first_name);
      console.log('XP –±–∞–ª–∞–Ω—Å:', userData.xp_balance);
      console.log('–ü—Ä–∏–≤—ã—á–µ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:', userData.today_habits.total_count);
      console.log('–ó–∞–¥–∞—á –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:', userData.today_tasks.total_count);

      return userData;
    } else {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
    }
  } catch (error) {
    console.error('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞:', error);
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–≠–Ω–¥–ø–æ–∏–Ω—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```typescript
async function checkAuthStatus() {
  try {
    const response = await fetch('/api/rest/front/get-user-data/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': getCsrfToken(),
      },
      body: JSON.stringify({}),
    });

    if (response.status === 401) {
      console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
      return null;
    }

    const result = await response.json();
    return result.status === 'ok' ? result.data : null;
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', error);
    return null;
  }
}
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–≠–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å–Ω–∏–º–æ–∫ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è** –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∞:

- **–ü—Ä–∏–≤—ã—á–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:** –¥–∞–Ω–Ω—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã –Ω–∞ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
- **–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:** —Ç–æ–ª—å–∫–æ —à–∞–≥–∏, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
- **XP –±–∞–ª–∞–Ω—Å:** –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–∏–≤—ã—á–µ–∫/–∑–∞–¥–∞—á
- **–ó–∞–ø–∏—Å—å –≤ –¥–Ω–µ–≤–Ω–∏–∫:** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å–µ–≥–æ–¥–Ω—è (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è = —Å–µ–≥–æ–¥–Ω—è)
- **–¢–æ–ø-—Ü–µ–ª–∏:** –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ —à–∞–≥–∞–º

## HTTP –°—Ç–∞—Ç—É—Å—ã

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------|
| 200 | OK - –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã |
| 401 | Unauthorized - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| 403 | Forbidden - –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω |
| 500 | Internal Server Error - –æ—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **Soft delete:** –í—Å–µ –æ–±—ä–µ–∫—Ç—ã (–ø—Ä–∏–≤—ã—á–∫–∏, —Ü–µ–ª–∏, –∑–∞–¥–∞—á–∏) –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Ñ–ª–∞–≥ `date_deleted__isnull=True`, —Ç.–µ. —É–¥–∞–ª–µ–Ω–Ω—ã–µ (–º—è–≥–∫–æ —É–¥–∞–ª–µ–Ω–Ω—ã–µ) –æ–±—ä–µ–∫—Ç—ã –Ω–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç.

2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞:** –î–∞—Ç–∞ "—Å–µ–≥–æ–¥–Ω—è" –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–π –∑–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `timezone.localtime()`.

3. **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫:** –ü—Ä–∏–≤—ã—á–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª—é `schedule_days` (–º–∞—Å—Å–∏–≤ –¥–Ω–µ–π, –≥–¥–µ 0=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 1=–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, ..., 6=—Å—É–±–±–æ—Ç–∞).

4. **–°—Ç–∞—Ç—É—Å—ã –ø—Ä–∏–≤—ã—á–µ–∫:** –í –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–∏–≤—ã—á–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å `HabitCompletion` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `'completed'`.

5. **Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Telegram –∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª —Ä–µ–∞–ª—å–Ω—ã–π email, –≤–º–µ—Å—Ç–æ email –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è username –≤ —Ñ–æ—Ä–º–∞—Ç–µ `@username`.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| 401 Unauthorized | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω | –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è |
| CSRF token missing | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç CSRF —Ç–æ–∫–µ–Ω | –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ `/api/rest/front/csrf/` |
| Invalid JSON | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ | –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Å—Ç–æ–π JSON `{}` |

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /api/rest/front/csrf/` - –ø–æ–ª—É—á–µ–Ω–∏–µ CSRF —Ç–æ–∫–µ–Ω–∞
- `POST /api/rest/front/login/` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/rest/front/registration/` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/rest/front/logout/` - –≤—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
- `POST /api/rest/front/app/habits/update/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏–≤—ã—á–µ–∫
- `POST /api/rest/front/app/goals/steps/update/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á
- `POST /api/rest/front/app/diary/get/` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –¥–Ω–µ–≤–Ω–∏–∫–∞