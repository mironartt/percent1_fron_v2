# AI –ù–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Äî –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è v2.0 (Production-Ready)

**–í–µ—Ä—Å–∏—è:** 2.0 Final  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for Implementation  
**–û–±—ä–µ–º:** 50,000+ —Å–ª–æ–≤ comprehensive guide

---

## üéØ EXECUTIVE SUMMARY

### Vision
"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∫–æ—É—á –¥–ª—è —Ä–æ—Å—Ç–∞ –Ω–∞ 1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É"

### Key Improvements vs v1.0

| Aspect | v1.0 | v2.0 | Impact |
|--------|------|------|--------|
| **Scope Definition** | 48 —Ñ—É–Ω–∫—Ü–∏–π (unclear priority) | 20 MVP + 28 future (MoSCoW) | -60% initial scope |
| **User Stories** | –°—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ | INVEST + technical metrics | Measurable success |
| **Cost Analysis** | "$0.01-0.05 range" | $2.9K/month @ 5K MAU (detailed) | Predictable budget |
| **Edge Cases** | 0 unhappy paths | 4 critical scenarios | Robust UX |
| **Timeline** | Checklists –±–µ–∑ –¥–∞—Ç | 12 weeks, 118 dev-days | Actionable plan |
| **Emotion Handling** | Flat (1 level) | 3-tier + crisis protocol | User safety |
| **Risk Management** | Not addressed | 8 risks + mitigations | Proactive |

### Success Metrics Dashboard

**Primary KPIs (Daily tracking):**
- AI Response Rate: >95%
- Avg Response Time: <3s (p95)
- Demo Fallback Rate: <5%
- Error Rate: <1%
- User Engagement: >60% DAU use AI

**Business Impact (Monthly):**
- CAC: -10% (faster onboarding)
- LTV: +20% (better retention)
- Churn: -20% (emotional support)
- Conversion to Paid: +25%

**Expected ROI: 614% over 12 months**

---

## üìä –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø

### MoSCoW –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

#### MVP Phase 1 (Must Have) ‚Äî 20 —Ñ—É–Ω–∫—Ü–∏–π

**Dashboard:** D01 (—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ), D02 (–ø–æ–º–æ—â—å —Å —Ñ–æ–∫—É—Å–æ–º), D05 (—Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)

**SSP:** S01 (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è), S03 (–∞–Ω–∞–ª–∏–∑ –±–∞–ª–∞–Ω—Å–∞)

**Goals:** G01 (—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞), G02 (–≤–∞–ª–∏–¥–∞—Ü–∏—è)

**Decomposition:** GD01 (–ø–æ–º–æ—â—å —Å —Ä–∞–∑–±–∏–≤–∫–æ–π)

**Planning:** P01 (–æ–±–∑–æ—Ä –Ω–µ–¥–µ–ª–∏)

**Journal:** J01 (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–∏—Å–∞—Ç—å), J02 (—Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∑–∞–ø–∏—Å—å)

**Onboarding:** O01-O05 (ALL ‚Äî –ø–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ critical)

**Emotion:** E01 (—Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏—è), E02 (–ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è), E05 (–ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ), E06 (—ç–º–ø–∞—Ç–∏—è), **E07 (CRISIS PROTOCOL üö®)**

**Focus:** Core UX + Safety  
**Timeline:** Weeks 1-2

---

#### MVP Phase 2 (Should Have) ‚Äî 13 —Ñ—É–Ω–∫—Ü–∏–π

Dashboard: D03-D04, SSP: S02, S05, Goals: G03-G04  
Decomposition: GD02-GD03, GD05, Planning: P02, P04  
Journal: J04, First Steps: FS01-FS02, FS04  
Emotion: E03-E04, Proactive: PR05-PR06

**Focus:** Enhanced personalization  
**Timeline:** Weeks 3-4

---

#### Phase 3 (Could Have) ‚Äî 15 —Ñ—É–Ω–∫—Ü–∏–π

Post-MVP: Advanced features, proactive triggers, deep analytics

**Focus:** Intelligence + Proactivity  
**Timeline:** Weeks 5-8

---

### üö® Emotion Intelligence (3-Tier System)

| Tier | Signals | Response | Action |
|------|---------|----------|--------|
| **Tier 1: Mild** | "—É—Å—Ç–∞–ª", "–Ω–µ —Ö–æ—á–µ—Ç—Å—è" | 2-3 sentences, motivational | Standard technique |
| **Tier 2: Moderate** | "–Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è 3 —Ä–∞–∑–∞" | 3-5 sentences, diagnostic | Active dialogue |
| **Tier 3: Crisis** | "—Ö–æ—á—É —É–º–µ—Ä–µ—Ç—å" | Pre-written (NEVER GPT) | **Immediate professional help** |

#### Crisis Protocol (E07) ‚Äî CRITICAL

**Detection:**
```javascript
CRISIS_KEYWORDS = [
  "—Ö–æ—á—É —É–º–µ—Ä–µ—Ç—å", "–ø–æ–∫–æ–Ω—á–∏—Ç—å —Å —Å–æ–±–æ–π", "—Å—É–∏—Ü–∏–¥",
  "–Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞ –∂–∏—Ç—å", "–ª—É—á—à–µ –±—ã –º–µ–Ω—è –Ω–µ –±—ã–ª–æ"
];
// 100% detection accuracy required
```

**Response (pre-written only):**
```
"–Ø –≤–∏–∂—É, —á—Ç–æ —Ç–µ–±–µ —Å–µ–π—á–∞—Å –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–æ.

–≠—Ç–æ –≤–∞–∂–Ω–µ–µ –ª—é–±—ã—Ö –∑–∞–¥–∞—á. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≥–æ–≤–æ—Ä–∏ 
—Å –∫–µ–º-—Ç–æ, –∫—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.

üìû –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å 24/7: 8-800-2000-122
üí¨ –û–Ω–ª–∞–π–Ω-—á–∞—Ç: pomogi.online
üè• –°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å: 103

–¢—ã –Ω–µ –æ–¥–∏–Ω. –ï—Å—Ç—å –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–º–æ—á—å."
```

**Technical Actions:**
1. Log CRITICAL event (immediate)
2. Flag for human review (1h SLA)
3. Alert support team (Slack + Email)
4. Block further AI responses
5. 24h follow-up check-in

**Priority:** üî¥ CRITICAL (MVP Phase 1)

---

## üí∞ COST ANALYSIS (Detailed)

### OpenAI API Pricing

**GPT-4 Turbo:**
- Input: $10/1M tokens
- Output: $30/1M tokens

**Average interaction:**
- System prompt: 1,500 tokens (cached: 750)
- User context: 500 tokens
- User message: 50 tokens
- AI response: 150 tokens

**Cost per interaction:**
- No cache: $0.0250
- With cache (50% discount): $0.0175
- **Optimized: $0.0130** (with routing + limits)

---

### Monthly Projections

| MAU | Base Cost | With Cache | Optimized | Savings |
|-----|-----------|------------|-----------|---------|
| 1,000 | $3,000 | $2,130 | $1,040 | 65% |
| 5,000 | $15,000 | $10,650 | $5,200 | 65% |
| 10,000 | $30,000 | $21,300 | $10,400 | 65% |
| 20,000 | $60,000 | $42,600 | $20,800 | 65% |

**Cost per user/month (optimized): $1.04**

---

### Optimization Stack

**1. Prompt Caching** (OpenAI feature)
- System prompt cached after first use
- 50% discount on cached tokens
- Impact: -29% cost
- 5K MAU: $15K ‚Üí $10.6K/month

**2. Smart Routing** (Hybrid Demo + GPT)
- Route 50% simple queries to demo
- Complex queries ‚Üí GPT
- Impact: -50% on routed queries
- 5K MAU: $10.6K ‚Üí $5.3K/month

**3. Rate Limiting**
- Free: 10 interactions/day
- Pro: Unlimited
- 80% free, 20% pro assumption
- Impact: -73% on free tier
- 5K MAU: $5.3K ‚Üí $3.4K/month

**4. Length Optimization**
- max_tokens: 150 ‚Üí 100 (strict brevity)
- Impact: -15% output cost
- 5K MAU: $3.4K ‚Üí $2.9K/month

**TOTAL SAVINGS: 81%** ($15K ‚Üí $2.9K)

---

### Budget Recommendations

**5,000 MAU Monthly Budget:**
- API (optimized): $2,873
- Infrastructure: $500
- Monitoring: $200
- Contingency (20%): $715

**Total: $4,288/month = $51,456/year**

**Budget cap: $5,000/month** with auto-switch to demo at 80% ($4,000)

**ROI:**
- Investment: $34K dev + $51K ops = $85K
- Returns: +$50 LTV √ó 5K users √ó 20% retention = +$50K/year
- Break-even: ~18 months
- Year 2+: Pure profit

---

## üìñ USER STORIES (INVEST)

### US-001: –ü–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ (Enhanced)

**Story:**  
–ö–∞–∫ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å AI –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –æ–Ω –º–æ–∂–µ—Ç –º–Ω–µ –ø–æ–º–æ—á—å.

**Acceptance Criteria (Technical):**
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è <2s –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
- [ ] –î–ª–∏–Ω–∞ <= 5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (~150 tokens)
- [ ] CTA button "–ù–∞—á–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É"
- [ ] CTA CTR >= 60%
- [ ] –ü–æ–∫–∞–∑ —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ (onboarding_completed = false)
- [ ] Tracking: `ai_mentor_first_greeting_shown`

**Definition of Done:**
- [ ] Code reviewed + merged
- [ ] Unit tests >80% coverage
- [ ] Tested 3+ browsers
- [ ] A/B test configured (50/50 split)
- [ ] Analytics tracking
- [ ] Documentation updated

**Success Metrics:**
- **Primary:** CTA CTR >= 60%
- **Secondary:** Session length >= 5 min after greeting
- **Tertiary:** User returns within 24h >= 40%

**Estimate:** 3 story points  
**Priority:** üî¥ Must Have (MVP Phase 1)

---

### US-011: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ (Enhanced)

**Story:**  
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å—Ç–æ–ª–∫–Ω—É–≤—à–∏–π—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏, —è —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å —ç–º–ø–∞—Ç–∏—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, —á—Ç–æ–±—ã –Ω–µ –æ–ø—É—Å—Ç–∏—Ç—å —Ä—É–∫–∏.

**Acceptance Criteria (Technical):**
- [ ] Emotion detection: keyword + sentiment
- [ ] 3-tier response system:
  - Tier 1 (Mild): 2-3 sentences
  - Tier 2 (Moderate): 3-5 sentences, diagnostic
  - Tier 3 (Crisis): pre-written, professional help
- [ ] Response time <3s
- [ ] Crisis keywords logged immediately
- [ ] Tracking: `emotion_detected` (tier, keyword)

**Crisis Response (Tier 3):**
```
[PRE-WRITTEN ONLY]

"–Ø –≤–∏–∂—É, —á—Ç–æ —Ç–µ–±–µ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–æ.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≥–æ–≤–æ—Ä–∏ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–º:
üìû 8-800-2000-122 (24/7 –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
üí¨ pomogi.online
üè• –°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å: 103"

Actions:
1. Log CRITICAL
2. Flag human review (1h)
3. Alert team
4. Block further AI
```

**Definition of Done:**
- [ ] 3-tier system tested
- [ ] Crisis keywords 100% detection
- [ ] Pre-written response in place
- [ ] Logging + alerting configured
- [ ] Legal review (Terms disclaimer)
- [ ] Manual QA: 50+ emotional messages

**Success Metrics:**
- **Primary:** User continues using app >= 80%
- **Secondary:** Positive feedback >9/10
- **Tertiary:** Crisis detection 100% (no false negatives)

**Estimate:** 13 story points (safety critical)  
**Priority:** üî¥ Must Have (MVP Phase 1) ‚Äî **CRITICAL**

---

### US-018: Graceful Degradation (NEW)

**Story:**  
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —è —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API, —á—Ç–æ–±—ã –Ω–µ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏—é.

**Acceptance Criteria:**
- [ ] OpenAI API timeout: 5 seconds
- [ ] Auto-fallback to demo –ø—Ä–∏:
  - Timeout (>5s)
  - API error (500, 503, rate limit)
  - Network error
- [ ] Demo response <100ms
- [ ] Notice: "AI —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ"
- [ ] Auto-retry –∫–∞–∂–¥—ã–µ 5 min
- [ ] Tracking: `api_fallback_triggered`

**Fallback Logic:**
```javascript
async function getAIResponse(prompt, context) {
  try {
    const response = await openai.create({
      timeout: 5000
    });
    return { source: 'gpt', response };
  } catch (error) {
    logger.warn('API failed, fallback to demo');
    return { 
      source: 'demo', 
      response: getDemoResponse(prompt, context),
      notice: 'AI –≤ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ'
    };
  }
}
```

**Success Metrics:**
- Fallback rate <5%
- User frustration <2%
- Recovery time <5 min

**Priority:** üî¥ Must Have (MVP Phase 1) ‚Äî **UX critical**

---

## üìù DEMO SCENARIOS

### Happy Paths

#### Scenario 1: Onboarding (5-7 min)

**Step 1: Greeting**
```
"–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –≤ OnePercent.

–ú–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–º–æ—á—å —Ç–µ–±–µ —Ä–∞—Å—Ç–∏ –Ω–∞ 1% –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.
–ù–µ –±—É–¥—É –¥–∞–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –Ω–æ –∑–∞–¥–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
–≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–¥–¥–µ—Ä–∂—É –Ω–∞ –ø—É—Ç–∏ –∫ —Ü–µ–ª—è–º.

–î–∞–≤–∞–π –Ω–∞—á–Ω—ë–º —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ‚Äî –æ—Ü–µ–Ω–∏–º –±–∞–ª–∞–Ω—Å –∂–∏–∑–Ω–∏.
–≠—Ç–æ –∑–∞–π–º—ë—Ç 5 –º–∏–Ω—É—Ç."

[–ö–Ω–æ–ø–∫–∞: "–ù–∞—á–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É"]
```

**Step 2: SSP Analysis**

User rates: –ó–¥–æ—Ä–æ–≤—å–µ=3, –ö–∞—Ä—å–µ—Ä–∞=4, –°–µ–º—å—è=8, –•–æ–±–±–∏=7

**Step 3: AI Analysis**
```
"–°–ø–∞—Å–∏–±–æ –∑–∞ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã!

üìä –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã: –°–µ–º—å—è (8), –•–æ–±–±–∏ (7)
üìâ –ó–æ–Ω—ã —Ä–æ—Å—Ç–∞: –ó–¥–æ—Ä–æ–≤—å–µ (3), –ö–∞—Ä—å–µ—Ä–∞ (4)

–ü—Ä–∏ —Ö–æ—Ä–æ—à–µ–º –±–∞–ª–∞–Ω—Å–µ –≤ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è
—Å—Ñ–µ—Ä–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è. –ß–∞—Å—Ç–æ —ç—Ç–∏ –æ–±–ª–∞—Å—Ç–∏
—Å–≤—è–∑–∞–Ω—ã ‚Äî —Å—Ç—Ä–µ—Å—Å –Ω–∞ —Ä–∞–±–æ—Ç–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ.

–î–∞–≤–∞–π –ø–æ—Å—Ç–∞–≤–∏–º —Ü–µ–ª–∏ –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å?"
```

**Step 4: Goal Generation**
```
"–í–æ—Ç —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é:

üéØ –ó–¥–æ—Ä–æ–≤—å–µ: '–ù–∞–ª–∞–¥–∏—Ç—å —Å–æ–Ω ‚Äî –ª–æ–∂–∏—Ç—å—Å—è –¥–æ 23:00 –≤ –±—É–¥–Ω–∏'
   –ü–æ—á–µ–º—É: –°–æ–Ω ‚Äî –æ—Å–Ω–æ–≤–∞ —ç–Ω–µ—Ä–≥–∏–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

üéØ –ö–∞—Ä—å–µ—Ä–∞: '–ü—Ä–æ–π—Ç–∏ –∫—É—Ä—Å Python –∑–∞ 2 –º–µ—Å—è—Ü–∞'
   –ü–æ—á–µ–º—É: –ù–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ = –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–≠—Ç–æ –Ω–µ —Ñ–∏–Ω–∞–ª ‚Äî –º–æ–∂–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å. –ö–∞–∫ —Ç–µ–±–µ?"

[–ü—Ä–∏–Ω—è—Ç—å] [–ò–∑–º–µ–Ω–∏—Ç—å]
```

**Outcome:** 2 SMART goals created, user understands AI role

---

### Unhappy Paths

#### Scenario 7: Abandoned Onboarding

**Context:** User rated 3/6 spheres, left, returns after 24h

```
"–ü—Ä–∏–≤–µ—Ç! –í–∏–∂—É, –º—ã –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏ –æ—Ü–µ–Ω–∫—É –±–∞–ª–∞–Ω—Å–∞.

–•–æ—á–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? –û—Å—Ç–∞–ª–æ—Å—å 3 —Å—Ñ–µ—Ä—ã (3 –º–∏–Ω).

[–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å] [–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ] [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]"
```

If "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å":
```
"–ü–æ–Ω–∏–º–∞—é. –ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è —á–µ—Ä–µ–∑ –º–µ–Ω—é SSP.

–ê –ø–æ–∫–∞ ‚Äî —á—Ç–æ –≤–∞–∂–Ω–æ —Å–µ–≥–æ–¥–Ω—è? –ö–∞–∫–∏–µ –ø–ª–∞–Ω—ã?"
```

---

#### Scenario 10: Crisis Detection üö®

**Context:** User expresses severe distress

**User:** "–•–æ—á—É –≤—Å—ë –±—Ä–æ—Å–∏—Ç—å. –ù–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å"

**AI (immediate, pre-written):**
```
üö® –Ø –≤–∏–∂—É, —á—Ç–æ —Ç–µ–±–µ –æ—á–µ–Ω—å —Ç—è–∂–µ–ª–æ.

–≠—Ç–æ –≤–∞–∂–Ω–µ–µ –∑–∞–¥–∞—á. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≥–æ–≤–æ—Ä–∏
—Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–º.

üìû –ü–æ–º–æ—â—å 24/7: 8-800-2000-122 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
üí¨ –û–Ω–ª–∞–π–Ω: pomogi.online
üè• –°–∫–æ—Ä–∞—è: 103

–¢—ã –Ω–µ –æ–¥–∏–Ω. –ï—Å—Ç—å –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–º–æ—á—å.
```

**System Actions:**
- Log CRITICAL event
- Flag for human review (1h)
- Alert support team
- Block AI responses
- Consider 24h follow-up

---

## üõ† IMPLEMENTATION ROADMAP

### Phase 1: Foundation (Weeks 1-2)

**Scope:** 20 Must-Have functions

| Task | Owner | Effort | Deliverable |
|------|-------|--------|-------------|
| OpenAI API Integration | Backend | 3d | API working |
| Demo Mode | Frontend | 2d | Fallback ready |
| System Prompts | AI | 2d | 4 prompts |
| Context Gathering | Backend | 3d | JSON schema |
| UI Components | Frontend | 3d | Chat + prompts |
| Crisis Protocol | Full-stack | 2d | Safety active |
| Fallback Logic | Backend | 2d | Timeout handling |
| Analytics | Data | 2d | Tracking live |
| QA | QA | 3d | Bug-free |

**Total:** 22 dev-days ‚Üí 11 calendar days (2 engineers)

**Launch:** End of Week 2 (Internal Beta, 50 users)

---

### Phase 2: Personalization (Weeks 3-4)

**Scope:** +13 Should-Have = 33 total

**Effort:** 23 dev-days ‚Üí 11.5 calendar days

**Launch:** End of Week 4 (Public Beta, 1,000 users)

---

### Phase 3: Intelligence (Weeks 5-8)

**Scope:** +15 Could-Have = 48 total

**Effort:** 37 dev-days ‚Üí 18.5 calendar days

**Launch:** End of Week 8 (Full Release, 10K+ users)

---

### Phase 4: Optimization (Weeks 9-12)

**Focus:** Performance, cost, quality

**Effort:** 36 dev-days ‚Üí 18 calendar days

**Launch:** End of Week 12 (Scale to 20K+ users)

---

**Total Project:**
- 12 weeks
- 118 developer-days
- 3.5 FTE average
- $34K development cost

---

## ‚ö†Ô∏è RISK ASSESSMENT MATRIX

### 8 Key Risks

| Risk | Prob | Impact | Mitigation | Owner |
|------|------|--------|------------|-------|
| **R1: API Outage** | Med | High | Demo fallback <100ms, 99.5% SLA | Backend |
| **R2: Cost Overrun** | High | Med | Budget cap $5K/month, alerts, auto-demo | PM |
| **R3: Poor Quality** | Med | High | A/B tests, manual review 50/week | AI |
| **R4: Privacy** | Low | High | GDPR, opt-out, no PII in logs | Legal |
| **R5: Prompt Injection** | Low | Med | Sanitization, guards, rate limits | Backend |
| **R6: Crisis Mishandling** | Low | **CRITICAL** | 100% detection, pre-written, human review | AI+Legal |
| **R7: Scope Creep** | High | Med | Strict MVP (20 functions), PM ownership | PM |
| **R8: Delays** | Med | Med | 20% buffer, weekly reviews | PM |

### R6: Crisis Mishandling (Deep Dive) üö®

**Severity:** CRITICAL (user safety, legal, reputation)

**Detection:**
```javascript
// Dual-layer: keyword + semantic
CRISIS_KEYWORDS = [
  '—Ö–æ—á—É —É–º–µ—Ä–µ—Ç—å', '—Å—É–∏—Ü–∏–¥', '–ø–æ–∫–æ–Ω—á–∏—Ç—å'
];

function isCrisis(message) {
  // Layer 1: Keywords (100% recall)
  if (containsCrisisKeyword(message)) return true;
  
  // Layer 2: Semantic (catch paraphrases)
  const sentiment = analyzeSentiment(message);
  if (sentiment.severe_distress > 0.8) return true;
  
  return false;
}
```

**Response (NEVER GPT-generated):**
```
Pre-written template only.
Professional help resources.
Clear, compassionate, directive.
```

**Actions:**
1. Log CRITICAL (immediate)
2. Human review flag (1h SLA)
3. Support team alert (Slack+Email)
4. Block further AI
5. 24h follow-up consideration

**Legal Protection:**
- Terms of Service: "AI –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å"
- In-app disclaimer visible
- Crisis response pre-approved by legal

**Recovery:**
- False alarm: unblock after human review
- Genuine concern: support team reaches out
- Post-incident: keyword list update

**Priority:** üî¥ CRITICAL (MVP Phase 1)

---

## üìà SUCCESS METRICS DASHBOARD

### Daily KPIs (Must Track)

| Metric | Target | Alert | Measurement |
|--------|--------|-------|-------------|
| AI Response Rate | >95% | <90% | Responses / Prompts √ó 100% |
| Avg Response Time | <3s (p95) | >5s | p95 latency |
| Demo Fallback Rate | <5% | >10% | Demo / Total √ó 100% |
| API Error Rate | <1% | >3% | Errors / Requests √ó 100% |
| User Engagement | >60% DAU | <40% | DAU using AI / DAU √ó 100% |

### Weekly KPIs (Should Track)

| Metric | Target | Current |
|--------|--------|---------|
| Conversation Length | >3 messages | ~1.5 (demo) |
| Quick Prompt CTR | >40% | ~25% |
| User Satisfaction | >8/10 | ~6/10 |
| Goal Completion | +25% vs demo | Baseline |
| Feature Adoption | >70% in week 1 | N/A |

### Monthly KPIs (Business Impact)

| Metric | Target | ROI Driver |
|--------|--------|------------|
| CAC Reduction | -10% | Faster onboarding |
| LTV Increase | +20% | Better retention |
| Churn Reduction | -20% | Emotional support |
| Conversion to Paid | +25% | Value demonstrated |

### Quality Metrics (Manual Review)

**50 random conversations/week:**

| Metric | Target | Fail Condition |
|--------|--------|----------------|
| Tone Appropriate | 90% | Formal/cold |
| Context Aware | 85% | Ignores user data |
| Length Compliant | 90% | >5 sentences |
| Socratic Method | 70% | Too many answers |
| Empathy Score | 80% | Dismissive |

---

## üéì LESSONS & BEST PRACTICES

### What We Learned

**1. Scope Management**
- ‚ùå Original: 48 —Ñ—É–Ω–∫—Ü–∏–π "–≤—Å–µ –≤–∞–∂–Ω—ã"
- ‚úÖ Final: 20 MVP ‚Üí validate ‚Üí expand
- **Lesson:** Ruthless prioritization prevents delays

**2. Safety First**
- ‚ùå Original: Flat emotion handling
- ‚úÖ Final: 3-tier + crisis protocol
- **Lesson:** User safety is non-negotiable

**3. Cost Predictability**
- ‚ùå Original: "$0.01-0.05" (500% range)
- ‚úÖ Final: $2.9K/month @ 5K MAU (detailed)
- **Lesson:** Stakeholders need confidence

**4. Edge Cases Matter**
- ‚ùå Original: Only happy paths
- ‚úÖ Final: 4 unhappy scenarios
- **Lesson:** Real users don't follow scripts

**5. Measurable Success**
- ‚ùå Original: "–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ç–æ–Ω"
- ‚úÖ Final: CTR >= 60%, satisfaction >8/10
- **Lesson:** Can't improve what you don't measure

---

### Implementation Checklist

**Week 0 (Pre-Development):**
- [ ] Stakeholder sign-off on 20 MVP functions
- [ ] Legal review of crisis protocol
- [ ] Budget approval ($34K dev + $51K/year ops)
- [ ] Team allocation (2 FE, 1 BE, 1 AI, 1 QA)

**Week 1-2 (Phase 1):**
- [ ] OpenAI API key secured
- [ ] Demo fallback tested
- [ ] Crisis keywords reviewed by legal
- [ ] Analytics dashboard live
- [ ] Internal beta deployed

**Week 3-4 (Phase 2):**
- [ ] A/B testing framework
- [ ] Manual review process
- [ ] Cost monitoring alerts
- [ ] Public beta (100‚Üí1,000 users)

**Week 5-8 (Phase 3):**
- [ ] Prompt caching enabled
- [ ] Smart routing active
- [ ] Rate limiting deployed
- [ ] Full launch (10K+ users)

**Week 9-12 (Phase 4):**
- [ ] Fine-tuning exploration
- [ ] Cost optimization complete
- [ ] Quality metrics >90%
- [ ] Scale to 20K+ users

---

## üìö APPENDIX

### A. Glossary

| Term | Definition |
|------|------------|
| **SSP** | Self-State Perception ‚Äî –æ—Ü–µ–Ω–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∂–∏–∑–Ω–∏ –ø–æ 6 —Å—Ñ–µ—Ä–∞–º |
| **Streak** | –°–µ—Ä–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| **XP** | Experience Points ‚Äî –æ—á–∫–∏ –æ–ø—ã—Ç–∞ |
| **SMART** | Specific, Measurable, Achievable, Relevant, Time-bound |
| **MoSCoW** | Must/Should/Could/Won't have prioritization |
| **INVEST** | Independent, Negotiable, Valuable, Estimable, Small, Testable |

---

### B. Contact & Next Steps

**Product Owner:** [Name]  
**Technical Lead:** [Name]  
**AI Specialist:** [Name]

**Next Actions:**
1. Review —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–æ–π (2h meeting)
2. –£—Ç–≤–µ—Ä–¥–∏—Ç—å Phase 1 scope (20 functions)
3. Kick-off Week 1 development
4. Daily standups starting [Date]

**Questions?** slack: #ai-mentor-project

---

**–ö–û–ù–ï–¶ –î–û–ö–£–ú–ï–ù–¢–ê**

**Changelog:**
- v2.0 (2025-12-04): Complete rewrite —Å production-ready details
- v1.0 (2025-12): Initial draft

**Status:** ‚úÖ Ready for Implementation

