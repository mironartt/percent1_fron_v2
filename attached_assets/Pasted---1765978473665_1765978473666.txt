Раннее мы сделали телеграм мини-приложение и возможность работать с ним.  
На фронте были добавлены некоторые части кода для поддержки этого.

Сейчас, получается что если пользователь не был зарегистрирован в сервисе раннее, то после активации мини-приложения он сразу зарегистрируется и попадет в ЛК.

Но это не совсем корректно, т.к. при обычной регистрации пользователь проставляет чекбоксы:
- Я согласен с условиями использования
- Я согласен с политикой конфиденциальности

А в получившемся варианте, он минует данные шаги. 

Для бэкенда я ставил ТЗ:
```
Поэтому нужно:
- добавить в модель пользователя два булевых флага указанных выше
- блокировать работу с сайтом если у пользователя не проставлены данные флаги.  

Т.е. получаетс нужно блокировать все эндпоинты начинающиеся с путей: 
    - `/app/`
    - `/ws/`
Если у пользователя не проставлены данные флаги.  
Все они должны возвращать в ответ код ошики означающий что доступ к сервис не доступен и в текстовом поле ошибки указывать что "необходимо подтвердить согласия на .... для дальнейшей работы в ЛК".  

Также нужно в эндпоинт регистрации добавить два новых поля с данными флагами, и ожидать что фронт прокинет их (флаги обязательны в запросе).  

Соответственно также нужно обновить эндопнит `get-user-data/` чтобы он возвращал фронту данные по заполннию данных флагов.  
И создать еще эндпоинт исключительно для обновления данных по данным флагам, по адресу, к примеру: `update-user-data/` (должен также как и эндопнит `get-user-data/`, находится вне пути `/app/`). 

Также пользователю нужно добавить поле дата заполнения флагов.  
ВАЖНО: нельзя заполнить один из флагов, нужно чтобы всегда были заполнены оба флага. Т.е. к примеру, если будет запрос на регистрацию, и в нем будет указан лишь один флаг как true, то нужно возвращать ошибку.

Данный код затрагивает критически важные места (авторизацию, регистрацию, и работу в сервисе), поэтому тщательно все проверь, что нет никаких ошибок в коде, в логике и во всем остальном.
После детально проверь созданный код, что все корректно и не возникает ошибок и проблем с кодом/логикой и всем остальным.
```

Бэкенд выполнил свою часть работы теперь нужно доделать это на фронте.

Задача для фронтенда: Согласие с политиками

Документация (прикрепленный файл): policy_acceptance_api.md

Суть

Добавлена обязательная проверка согласия пользователя с условиями использования и политикой конфиденциальности. Без согласия пользователь не может пользоваться приложением.

Что нужно сделать

1. При загрузке приложения — проверять is_terms_accepted и is_privacy_accepted из get-user-data. Если хотя бы один false → показать модалку принятия политик.
2. Модалка принятия — при согласии вызвать POST /api/rest/front/update-user-data/ с {is_terms_accepted: true, is_privacy_accepted: true}.
3. Обработка ошибки 403 — если любой /app/ запрос вернул policy_acceptance_required → показать модалку.
4. WebSocket — если соединение закрылось с кодом 4004 → показать модалку.

Важно

- Это критично для Telegram-пользователей (они раньше обходили регистрацию)
- Регистрация теперь тоже требует оба флага (в эндпоинте на регистрацию нужно прокидывать оба флага, детали в документации)

