–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ.
–°–µ–π—á–∞—Å, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±–ª–æ–∫ "–∏—Å—Ç–æ—Ä–∏—è" —Å–≤–µ—Ä–Ω—É—Ç, –ø–æ –∫–ª–∏–∫—É –æ–Ω —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∏ –¥–Ω–µ–π –≤ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–æ —á—Ç–æ –∏ –∑–∞ —á—Ç–æ –±—ã–ª–æ –ø–æ–ª—É—á–µ–Ω–æ.
–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∏ –¥–Ω–∏ –±—ã–ª–∏ —Å–≤–µ—Ä–Ω—É—Ç—ã, –∏ –ª–∏—à—å –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –æ–±—â–∞—è —Å—É–º–º–∞ –∑–∞ –¥–µ–Ω—å (–ø–ª—é—Å –∏–ª–∏ –º–∏–Ω—É—Å).
–ò —á—Ç–æ–±—ã –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ –∫–ª–∏–∫—É –Ω–∞ –¥–µ–Ω—å, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ –Ω–µ–º—É.
–ò —Ç–∞–∫–∂–µ —á—Ç–æ–±—ã –≤ –¥–µ—Ç–∞–ª—è—Ö, –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ—â–µ –≥–ª—É–±–∂–µ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π (–∫ –ø—Ä–∏–º–µ—Ä—É `–ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫` —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–æ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –∏ —Ç–¥... –µ—Å–ª–∏ –±—ç–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ).
–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –±—ç–∫–∞:
```
{
  "status": "ok",
  "data": {
    "history_groups": [
      {
        "date": "2025-12-10",
        "total_earned": 69,
        "total_spent": -202,
        "entries": [
          {
            "type": "habits_completed",
            "amount": 63,
            "habit_names": [
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å"
            ],
            "details": [
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": 21
              },
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": 21
              },
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": 21
              }
            ]
          },
          {
            "type": "habits_penalty",
            "amount": 6,
            "habit_names": [
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
              "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å"
            ],
            "details": [
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": 6
              },
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": 6
              },
              {
                "habit_name": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
                "amount": -6
              }
            ]
          },
          {
            "type": "reward_redeemed",
            "amount": -100,
            "reward_name": "–≤–≤–≤",
            "reward_id": 3
          },
          {
            "type": "reward_redeemed",
            "amount": -102,
            "reward_name": "–Ω–Ω–Ω3",
            "reward_id": 1
          }
        ]
      }
    ],
    "total_items": 173,
    "total_filtered_items": 2,
    "total_pages": 1,
    "page": 1,
    "page_size": 10
  }
}
```

----

–¢–∞–∫–∂–µ, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:
- –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ü–∏—Ñ—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–±–∞–Ω–∫ —Ü–µ–ª–µ–π")
- —Ä–∞–∑–ª–∏—á–Ω—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–π
- –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∏—Ç—å (–ø–æ –∫–ª–∏–∫—É –æ—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤, –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–∏—Å—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –±—ç–∫—É —Å –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è `/api/rest/front/app/habits/xp/history-grouped/`

  üìÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è:
```
  {
    "page": 1,          // –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
    "page_size": 10     // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø (–¥–Ω–µ–π) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–º–∏–Ω: 5, –º–∞–∫—Å: 50, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
  }
```
  üîç –§–∏–ª—å—Ç—Ä—ã:

  1. –ü–æ —Ç–∏–ø—É –æ–ø–µ—Ä–∞—Ü–∏–∏ (transaction_status_filter):
```
  {
    "transaction_status_filter": "earned"  // –∏–ª–∏ "spent" –∏–ª–∏ null
  }
```
  - "earned" - —Ç–æ–ª—å–∫–æ –∑–∞—á–∏—Å–ª–µ–Ω–∏—è (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—É–º–º—ã)
  - "spent" - —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–∞–Ω–∏—è (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å—É–º–º—ã)
  - null - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

  2. –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (transaction_category_filter):
```
  {
    "transaction_category_filter": "habits"  // –∏–ª–∏ "diary", "planning", "rewards", "goals", "other" –∏–ª–∏ null
  }
```
  - "habits" - —Ç–æ–ª—å–∫–æ –ø—Ä–∏–≤—ã—á–∫–∏ (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ + —à—Ç—Ä–∞—Ñ—ã)
  - "diary" - —Ç–æ–ª—å–∫–æ –¥–Ω–µ–≤–Ω–∏–∫ (–Ω–∞–≥—Ä–∞–¥—ã + —à—Ç—Ä–∞—Ñ—ã)
  - "planning" - —Ç–æ–ª—å–∫–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—à—Ç—Ä–∞—Ñ—ã)
  - "rewards" - —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è/–Ω–∞–≥—Ä–∞–¥—ã
  - "goals" - —Ç–æ–ª—å–∫–æ —Ü–µ–ª–∏
  - "other" - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
  - null - –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

  3. –ü–æ–∏—Å–∫ (query_filter):
```
  {
    "query_filter": "–∑–∞—Ä—è–¥–∫–∞"  // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º –ø—Ä–∏–≤—ã—á–µ–∫ –∏ –Ω–∞–≥—Ä–∞–¥ (–º–∏–Ω: 2 —Å–∏–º–≤–æ–ª–∞, –º–∞–∫—Å: 200)
  }
```
  üìä –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:
```
  {
    "status": "ok",
    "data": {
      "history_groups": [...],
      "total_items": 173,           // –í—Å–µ–≥–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤)
      "total_filtered_items": 2,     // –í—Å–µ–≥–æ –≥—Ä—É–ø–ø –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
      "total_pages": 1,              // –í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü
      "page": 1,                     // –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
      "page_size": 10                // –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    }
  }
```
  üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

  –ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```
  {
    "page": 1,
    "page_size": 10
  }
```
  –ü—Ä–∏–º–µ—Ä 2: –¢–æ–ª—å–∫–æ —Å–ø–∏—Å–∞–Ω–∏—è –∑–∞ –ø—Ä–∏–≤—ã—á–∫–∏
```
  {
    "transaction_status_filter": "spent",
    "transaction_category_filter": "habits",
    "page": 1,
    "page_size": 10
  }
```
  –ü—Ä–∏–º–µ—Ä 3: –ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–∏–≤—ã—á–∫–µ
```
  {
    "query_filter": "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–µ—Ç–æ–∫—Å",
    "page": 1,
    "page_size": 10
  }
```
  –ü—Ä–∏–º–µ—Ä 4: –í—Å–µ —Ç—Ä–∞—Ç—ã –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
```
  {
    "transaction_category_filter": "rewards",
    "page": 1,
    "page_size": 20
  }
```
  –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π! üéØ
–ò—Ç–æ–≥–æ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
```
  {
    "transaction_status_filter": "earned|spent|null",
    "transaction_category_filter": "habits|diary|planning|rewards|goals|other|null",
    "query_filter": "—Ç–µ–∫—Å—Ç –ø–æ–∏—Å–∫–∞",
    "page": 1,
    "page_size": 10
  }
```